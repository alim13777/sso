!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.CockpitPluginsEE=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d=a("angular"),e='<button type="button" role="button" class="btn btn-sm btn-default call-btn activity-top-right-position">\n  <span class="glyphicon glyphicon glyphicon-link"></span>\n</button>\n';b.exports=function(a){return["$scope","$timeout","$location","$translate","search","control","processData","processDiagram","PluginProcessInstanceResource",function(b,c,f,g,h,i,j,k,l){function m(){var a=[];return s.forEach(function(b){var c=b.businessObject;c.$instanceOf("bpmn:CallActivity")&&a.push(c.id)}),a}function n(c){var e=d.copy(h());"history"===a?e.detailsTab=t:e.tab=t,h.updateSilently(e),b.processData.set("filter",{activityIds:[c[0].activityId],activityInstanceIds:c.map(function(a){return a.id})})}function o(e,g,h){var i=d.element('[data-element-id="'+g+'"]'),j=null,k=function(){arguments[0].apply(this,Array.prototype.slice.call(arguments,1));var a=b.$root.$$phase;"$apply"!==a&&"$digest"!==a&&b.$apply()},l=function(a){j=c(function(){e.hide()},a)},m=function(){return j&&c.cancel(j)},o=function(){e.show(),k(m)},p=function(b){var c="/process-instance/"+b.calledProcessInstanceId+"/"+a;f.url(c)},q=function(){return e.tooltip("hide"),h.length>1?k(n,h):k(p,h[0])};i.on("mouseover",o),i.on("mouseout",function(){l(50)}),e.on("mouseover",o),e.on("mouseout",function(){l(100)}),e.on("click",q),b.$on("$destroy",function(){e.off("mouseover mouseout click"),i.off("mouseover mouseout")})}function p(a,b){q[a]||(q[a]=d.element(e).hide(),q[a].tooltip({container:"body",title:g.instant("PLUGIN_ACTIVITY_INSTANCE_SHOW_CALLED_PROCESS_INSTANCES"),placement:"top",animation:!1}),r.add(a,{position:{top:0,right:0},show:{minZoom:-(1/0),maxZoom:+(1/0)},html:q[a]}),o(q[a],a,b))}var q={},r=i.getViewer().get("overlays"),s=i.getViewer().get("elementRegistry"),t="called-process-instances-tab",u=m(),v={},w=function(a){Object.keys(a).map(function(b){return a[b][0].calledProcessInstanceId&&p(b,a[b])})},x=function(a,b){return a.reduce(function(a,c){return b[c]&&b[c].length>0&&(a[c]=b[c]),a},{})};"history"===a?u.length&&j.observe("activityIdToInstancesMap",function(a){v=x(u,a),w(v)}):u.length&&j.observe(["activityIdToInstancesMap","processInstance"],function(a,b){v=x(u,a),l.processInstances({id:b.id},function(a){return a.forEach(function(a){var b=v[a.callActivityId];b&&b.length&&(b[0].calledProcessInstanceId=a.id)}),w(v)})})}]}},{angular:"angular"}],2:[function(a,b,c){"use strict";var d=a("angular"),e='<!-- # CE - camunda-bpm-webapp/ui/cockpit/client/scripts/components/variables/variable-add-dialog.html -->\n<div class="modal-header">\n  <h3>{{ isProcessInstance ? \'VARIABLE_ADD_MODAL_TITLE_PROCESS\' : \'VARIABLE_ADD_MODAL_TITLE_CASE\' | translate }}</h3>\n</div>\n\n<div class="modal-body add-variable-dialog">\n  <div notifications-panel></div>\n\n  <form class="form-horizontal"\n        name="addVariableForm"\n        novalidate\n        ng-submit="save()"\n        ng-hide="status === \'SUCCESS\' || status === \'FAIL\'"\n        request-aware>\n    <fieldset>\n\n      <div class="form-group variable-name">\n        <label class="control-label col-xs-4"\n               for="variableName">{{ \'VARIABLE_ADD_VARIABLE_NAME\' | translate }}</label>\n        <div class="col-xs-8">\n          <input id="variableNameId"\n                 name="variableName"\n                 class="form-control"\n                 type="text"\n                 ng-model="newVariable.name"\n                 autofocus\n                 required />\n        </div>\n      </div>\n\n      <div class="form-group variable-type">\n        <label class="control-label col-xs-4"\n               for="variableType">{{ \'VARIABLE_ADD_VARIABLE_TYPE\' | translate }}</label>\n        <div class="col-xs-8">\n          <select id="variableTypeId"\n                  name="variableType"\n                  class="form-control"\n                  ng-options="variableType for variableType in variableTypes"\n                  ng-model="newVariable.type">\n          </select>\n        </div>\n      </div>\n\n      <div class="form-group variable-value">\n        <label class="control-label col-xs-4"\n               for="variableValue">{{ \'VARIABLE_ADD_VARIABLE_VALUE\' | translate }}</label>\n        <div class="col-xs-8">\n          <div variable="newVariable" form="addVariableForm"></div>\n\n          <p class="invalid"\n             ng-show="this.addVariableForm.editDateValue.$error.datePattern">\n            {{ \'VARIABLE_ADD_VARIABLE_SUPPORTED\' | translate }}\n          </p>\n\n          <p class="invalid"\n             ng-show="this.addVariableForm.editDateValue.$error.dateValue">\n            Invalid Date Value.\n          </p>\n\n          <p class="invalid"\n             ng-show="this.addVariableForm.editIntegerValue.$error.numeric || this.addVariableForm.editFloatValue.$error.numeric">\n            {{ \'VARIABLE_ADD_VARIABLE_ONLY\' | translate:\'{ type : newVariable.type }\' }}\n          </p>\n        </div>\n      </div>\n\n    </fieldset>\n  </form>\n\n  <div ng-show="status === \'SUCCESS\'">\n    {{ isProcessInstance ? \'VARIABLE_ADD_STATUS_SUCCESS_PROCESS\' : \'VARIABLE_ADD_STATUS_SUCCESS_CASE\' | translate:\'{ name: newVariable.name }\' }}\n  </div>\n\n  <div ng-show="status === \'FAIL\'">\n    {{ isProcessInstance ? \'VARIABLE_ADD_STATUS_FAIL_PROCESS\' : \'VARIABLE_ADD_STATUS_FAIL_CASE\' | translate:\'{ name: newVariable.name }\' }}\n  </div>\n\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-link"\n          ng-click="close()"\n          ng-disabled="status === \'PERFORM_SAVE\'"\n          ng-hide="status === \'SUCCESS\' || status === \'FAIL\'">{{ \'VARIABLE_ADD_CLOSE\' | translate }}</button>\n\n  <button type="submit"\n          class="btn btn-primary"\n          ng-click="save()"\n          ng-hide="status === \'SUCCESS\' || status === \'FAIL\'"\n          ng-disabled="!isValid()">{{ \'VARIABLE_ADD_ADD\' | translate }}</button>\n\n  <button class="btn btn-primary"\n          ng-click="close()"\n          ng-show="status === \'SUCCESS\' || status === \'FAIL\'">{{ \'VARIABLE_ADD_OK\' | translate }}</button>\n</div>\n<!-- / CE - camunda-bpm-webapp/ui/cockpit/client/scripts/components/variables/variable-add-dialog.html -->\n',f=["$http","$modalInstance","$scope","Notifications","Uri","instance","isProcessInstance","fixDate","$translate","camAPI",function(a,b,c,e,f,g,h,i,j,k){c.isProcessInstance=h,c.variableTypes=["String","Boolean","Short","Integer","Long","Double","Date","Null","Object","Json","Xml"];var l=c.newVariable={name:null,type:"String",value:null},m="PERFORM_SAVE",n="SUCCESS",o="FAIL",p=k.resource("process-instance"),q=k.resource("case-instance");c.$on("$routeChangeStart",function(){b.close(c.status)}),c.close=function(){b.close(c.status)};var r=c.isValid=function(){var a=d.element('[name="addVariableForm"]').scope();return!(!a||!a.addVariableForm)&&a.addVariableForm.$valid};c.save=function(){if(r()){c.status=m;var a=d.extend({},l);"Date"===a.type&&(a.value=i(a.value));var b=h?p:q;b.setVariable(g.id,a).then(function(){c.status=n,e.addMessage({status:j.instant("VARIABLE_ADD_MESSAGE_STATUS_FINISHED"),message:j.instant("VARIABLE_ADD_MESSAGE_MESSAGE_ADD",{name:a.name}),exclusive:!0})})["catch"](function(a){c.status=o,e.addError({status:j.instant("VARIABLE_ADD_MESSAGE_STATUS_FINISHED"),message:j.instant("VARIABLE_ADD_MESSAGE_MESSAGE_ERROR",{message:a.message}),exclusive:!0})})}}}];b.exports={template:e,controller:f}},{angular:"angular"}],3:[function(a,b,c){"use strict";var d=a("angular"),e='<!-- # CE - camunda-bpm-webapp/ui/cockpit/scripts/components/variables/variable-inspect-modal.html -->\n<div class="modal-header">\n  <h3>{{ \'VARIABLE_INSPECT_MODAL_TITLE\' | translate: \'{ name: variable.name }\' }}</h3>\n</div>\n\n\n<div class="modal-body variable-inspect">\n\n  <div notifications-panel></div>\n\n  <div ng-show="status === \'beforeChange\' || status === \'confirmChange\'">\n\n    <div ng-if="!isJsonOrXml" class="form-group">\n      <label>{{ \'VARIABLE_INSPECT_OBJECT_TYPE_NAME\' | translate }}</label>\n      <code class="form-control-static"\n            cam-widget-clipboard="variable.valueInfo.objectTypeName">{{ variable.valueInfo.objectTypeName }}</code>\n    </div>\n\n    <div ng-if="!isJsonOrXml" class="form-group">\n      <label>{{ \'VARIABLE_INSPECT_SERIALIZATION_DATA\' | translate }}</label>\n      <code class="form-control-static"\n            cam-widget-clipboard="variable.valueInfo.serializationDataFormat">{{ variable.valueInfo.serializationDataFormat }}</code>\n    </div>\n\n    <div ng-if="!isJsonOrXml" class="form-group">\n\n      <ul class="nav nav-tabs">\n        <li ng-class="{ active: selectedTab === \'serialized\' }">\n          <a href ng-click="selectTab(\'serialized\')">{{ \'VARIABLE_INSPECT_SERIALIZED\' | translate }}</a>\n        </li>\n        <li ng-class="{ active: selectedTab === \'deserialized\' }">\n          <a href ng-click="selectTab(\'deserialized\')">{{ \'VARIABLE_INSPECT_DESERIALIZED\' | translate }}</a>\n        </li>\n      </ul>\n\n      <textarea ng-if="selectedTab === \'serialized\'"\n                name="currentValue"\n                ng-readonly="readonly"\n                ng-model="currentValue"\n                ng-keyup="typeIn(this, \'serialized\')"\n                rows="10"\n                class="form-control">\n      </textarea>\n\n      <div ng-if="selectedTab === \'deserialized\'">\n        <div class="alert alert-danger"\n             ng-show="deserializationError">\n          <strong>{{ \'VARIABLE_INSPECT_DESERIALIZED_ERROR\' | translate }}</strong>\n          {{deserializationError}}\n        </div>\n\n        <div ng-show="!deserializationError">\n          <textarea name="currentDeserializedValue"\n                    ng-readonly="readonly"\n                    ng-model="currentDeserializedValue"\n                    ng-keyup="typeIn(this, \'deserialized\')"\n                    rows="10"\n                    class="form-control">\n          </textarea>\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-if="isJsonOrXml"\n         class="form-group">\n        <form name="jsonXmlForm">\n          <label for="value"\n                 cam-widget-clipboard="variable.value"\n                 no-tooltip\n                 ng-class="{hovered: hovered === \'var-value\'}">\n            {{ \'CAM_WIDGET_STRING_DIALOG_LABEL_VALUE\' | translate }}\n          </label>\n          <div variable="variable"\n               readonly="readonly"\n               form="jsonXmlForm">\n          </div>\n        </form>\n\n    </div>\n\n  </div>\n\n  <div class="alert alert-warning"\n       ng-show="status === \'confirmChange\'">\n    <span class="glyphicon glyphicon-alert"></span>\n    <strong>{{ \'VARIABLE_INSPECT_WARNING\' | translate }}</strong>\n    {{ \'VARIABLE_INSPECT_WARNING_MESSAGE\' | translate }}\n  </div>\n\n</div>\n\n\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="$dismiss()"\n          ng-hide="status === \'changeSuccess\'">\n    {{ \'VARIABLE_INSPECT_CLOSE\' | translate }}\n  </button>\n\n  <![if gt IE 9]>\n    <button class="btn btn-primary"\n            ng-click="$close()"\n            ng-show="!readlonly && status === \'changeSuccess\'">\n      {{ \'VARIABLE_INSPECT_OK\' | translate }}\n    </button>\n\n    <button class="btn btn-primary"\n            ng-click="change()"\n            ng-disabled="isChangeDisabled()"\n            ng-hide="readonly || status !== \'beforeChange\'">\n      {{ \'VARIABLE_INSPECT_CHANGE\' | translate }}\n    </button>\n\n    <button class="btn btn-warning"\n            ng-click="change()"\n            ng-hide="readonly || status !== \'confirmChange\'">\n      {{ \'VARIABLE_INSPECT_CONFIRM_CHANGE\' | translate }}\n    </button>\n  <![endif]>\n</div>\n<!-- / CE - camunda-bpm-webapp/ui/cockpit/scripts/components/variables/variable-inspect-modal.html -->\n',f=["$http","$modalInstance","$scope","Notifications","Uri","basePath","history","readonly","variable","$translate",function(a,b,c,e,f,g,h,i,j,k){function l(){return d.element('[name="jsonXmlForm"]').scope().jsonXmlForm.$valid}function m(a){return"serialized"===a}function n(b,d){var e={type:b.type,value:d,valueInfo:b.valueInfo};c.isJsonOrXml||(e.valueInfo=b.valueInfo),a({method:"PUT",url:f.appUri(g),data:e}).success(function(){c.status=u,r(b)}).error(function(){c.status=s,q(b)})}function o(a,b){function d(b){c.$apply(function(){204===b.status?(c.status=u,r(a)):(c.status=s,q(a))})}var e=new FormData;e.append("data",new Blob([b],{type:"application/json"})),e.append("type",a.valueInfo.objectTypeName);var h=new XMLHttpRequest;h.addEventListener("load",function(){d(h)},!1),h.open("POST",f.appUri(g+"/data")),h.send(e)}function p(){a({method:"GET",url:f.appUri("engine://engine/:engine/"+(h?"history/":"")+"variable-instance/"+j.id)}).success(function(a){a.errorMessage?c.deserializationError=a.errorMessage:(v=JSON.stringify(a.value),c.currentDeserializedValue=d.copy(v))}).error(function(a){c.deserializationError=a.message})}function q(a){e.addError({status:k.instant("VARIABLE_INSPECT_VARIABLE"),message:k.instant("VARIABLE_INSPECT_MESSAGE_ERR_2",{name:a.name}),exclusive:!0})}function r(a){e.addMessage({status:k.instant("VARIABLE_INSPECT_VARIABLE"),message:k.instant("VARIABLE_INSPECT_MESSAGE_ADD",{name:a.name})})}var s="beforeChange",t="confirmChange",u="changeSuccess";c.selectedTab="serialized",c.status=s,c.variable=d.copy(j),c.isJsonOrXml=j.type&&("json"===j.type.toLowerCase()||"xml"===j.type.toLowerCase()),c.readonly=i,c.currentValue=d.copy(j.value);var v;c.isChangeDisabled=function(){return(c.isJsonOrXml?!l():"beforeChange"!==c.status)||!w()},c.$on("$routeChangeStart",function(){b.dismiss()}),c.selectTab=function(a){c.selectedTab=a,c.currentValue=d.copy(c.variable.value),c.currentDeserializedValue=d.copy(v),c.status=s},c.typeIn=function(a,b){m(b)?c.currentValue=a.currentValue:c.currentDeserializedValue=a.currentDeserializedValue,c.status=w(b)?t:s};var w=c.hasChanged=function(a){return c.isJsonOrXml||m(a)?c.variable.value!==c.currentValue:v!=c.currentDeserializedValue};c.change=function(){var a=!m(c.selectedTab),b=a?c.currentDeserializedValue:c.currentValue;if(c.isJsonOrXml&&(b=c.variable.value),"application/json"===j.valueInfo.serializationDataFormat||a)try{JSON.parse(b)}catch(d){return c.status=s,void e.addError({status:k.instant("VARIABLE_INSPECT_VARIABLE"),message:k.instant("VARIABLE_INSPECT_MESSAGE_ERR_1",{exception:d.message}),exclusive:!0})}a?o(c.variable,b):n(c.variable,b)},c.isJsonOrXml||p()}];b.exports={template:e,controller:f}},{angular:"angular"}],4:[function(a,b,c){"use strict";var d='<!-- # CE - camunda-bpm-webapp/ui/cockpit/scripts/components/variables/variable-upload-modal.html -->\n<div class="modal-header">\n  <h3>{{ \'VARIABLE_UPLOAD_MODAL_TITLE\' | translate }}</h3>\n</div>\n\n<!--[if lt IE 10]>\n\nThis feature is unsupported in your Browser.\n\n<![endif]-->\n\n<![if gt IE 9]>\n\n<div class="modal-body variable-upload">\n\n  <div notifications-panel></div>\n\n  <div ng-show="status === \'beforeUpload\'">\n\n    <p>{{ \'VARIABLE_UPLOAD_SELECT_FILE\' | translate }}:</p>\n\n    <p>\n      <input name="data"\n             type="file"\n             size="50"\n             maxlength="100000"\n             accept="*/*"\n             onchange="angular.element(this).scope().setFile(this)" />\n    </p>\n\n  </div>\n\n  <div ng-show="status === \'performUpload\'">\n    {{ \'VARIABLE_UPLOAD_PROGRESS\' | translate:\'{progress: progress}\' }}\n  </div>\n\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="$dismiss()"\n          ng-hide="status === \'uploadSuccess\' || status === \'uploadFailed\'">\n    {{ \'VARIABLE_UPLOAD_CLOSE\' | translate }}\n  </button>\n\n  <button class="btn btn-primary"\n          ng-click="$close()"\n          ng-show="status === \'uploadSuccess\' || status === \'uploadFailed\'">\n    {{ \'VARIABLE_UPLOAD_OK\' | translate }}\n  </button>\n\n  <button class="btn btn-primary"\n          ng-click="upload()"\n          ng-disabled="status !== \'beforeUpload\'"\n          ng-hide="status === \'uploadSuccess\' || status === \'uploadFailed\'">\n    {{ \'VARIABLE_UPLOAD_UPLOAD\' | translate }}\n  </button>\n</div>\n\n<![endif]>\n\n<!-- / CE - camunda-bpm-webapp/ui/cockpit/scripts/components/variables/variable-upload-modal.html -->\n',e=["$modalInstance","$scope","Notifications","Uri","basePath","variable","$translate","$browser",function(a,b,c,d,e,f,g,h){var i="beforeUpload",j="performUpload",k="uploadSuccess",l="uploadFailed";b.status=i,b.variable=f;var m;b.$on("$routeChangeStart",function(){a.dismiss()}),b.upload=function(){function a(a){b.$apply(function(){b.status=j,a.lengthComputable&&(b.progress=Math.round(100*a.loaded/a.total))})}function i(a){b.$apply(function(){204===a.status?(b.status=k,c.addMessage({status:g.instant("VARIABLE_UPLOAD_FILE"),message:g.instant("VARIABLE_UPLOAD_MESSAGE_ADD")})):(b.status=l,c.addError({status:g.instant("VARIABLE_UPLOAD_FILE"),message:g.instant("VARIABLE_UPLOAD_MESSAGE_ERR"),exclusive:!0}))})}function n(){b.$apply(function(){b.status=l,c.addError({status:g.instant("VARIABLE_UPLOAD_FILE"),message:g.instant("VARIABLE_UPLOAD_MESSAGE_ERR"),exclusive:!0})})}var o=new FormData;o.append("data",m),o.append("valueType",f.type);var p=new XMLHttpRequest;p.upload.addEventListener("progress",a,!1),p.addEventListener("load",function(){i(p)},!1),p.addEventListener("error",n,!1),p.addEventListener("abort",n,!1),p.open("POST",d.appUri(e+"/data"));var q=h.cookies()["XSRF-TOKEN"];q&&p.setRequestHeader("X-XSRF-TOKEN",q),p.send(o)},b.setFile=function(a){m=a.files[0]}}];b.exports={template:d,controller:e}},{}],5:[function(a,b,c){"use strict";function d(a,b){return a.indexOf(b)!==-1}b.exports=d},{}],6:[function(a,b,c){"use strict";var d={};d.redirectToRuntime=function(a,b,c){var e=b+"/runtime";return d.redirectTo(e,c,!0)},d.replaceLastPathFragment=function(a,b,c,e){var f=b.replace(/[^\/]*$/,a);return d.redirectTo(f,c,e)},d.redirectTo=function(a,b,c){var d,e=[];if(b&&c){var f="[object Array]"===Object.prototype.toString.call(c);for(d in b)f&&c.indexOf(d)===-1||e.push(d+"="+encodeURIComponent(b[d]))}return a+(e.length?"?"+e.join("&"):"")},b.exports=d},{}],7:[function(a,b,c){"use strict";function d(a,b){b=[].concat(b);var c=JSON.stringify(q(a,b));return e("searchQuery="+c)}function e(a){return encodeURI(a).replace(/#/g,"%23")}function f(a,b,c){return c=C.isArray(c)?c:[],!C.equals(g(a,c),g(b,c))}function g(a,b){return C.isObject(a)?i(h(a,b)):a}function h(a,b){return Object.keys(a).reduce(function(c,d){var e=a[d];return E(b,d)&&(c[d]=e),c},{})}function i(a){return Object.keys(a).reduce(function(b,c){var d=a[c];return null!=d&&(b[c]=d),b},{})}function j(a,b){var c=JSON.parse(b.searchQuery||"[]");return k(a,c)}function k(a,b){return b.filter(function(b){return b.type===a}).map(function(a){return a.value})}function l(a,b,c){var d=m(a,c,b),e=n(c,a,b);return d.concat(q(b,e))}function m(a,b,c){return a.filter(function(a){return a.type!==c||!E(b,a.value)})}function n(a,b,c){var d=b.filter(function(a){return a.type===c}).map(function(a){return a.value});return a.filter(function(a){return!E(d,a)})}function o(a,b,c){return p(b,a).concat(q(b,c))}function p(a,b){return b.filter(function(b){return b.type!==a})}function q(a,b){return b.map(r.bind(null,a))}function r(a,b){return{type:a,operator:"eq",value:b}}function s(a,b,c){return a=C.isArray(a)?a:[],b=C.isArray(b)?b:[],c=C.isArray(c)?c:["variables"],b=b.concat(c),a.reduce(t.bind(null,b,c),{})}function t(a,b,c,d){var e=u(d,b),f=x(d,e,b);return E(b,e)&&(f=A(d,f)),E(a,e)?c[e]=B(c,e,f):c[e]=f,c}function u(a,b){var c=a.type.value.key,d=a.operator.value.key;return v(c)&&(c=c.slice(0,-4)),w(d)&&!E(b,c)&&(c+=d),c}function v(a){return a.indexOf("Date")!==-1}function w(a){return E(["After","Before","Like"],a)}function x(a){return!!a.basic||y(a.value.value,a.operator.value.key,a)}function y(a,b,c){var d=/(\\%)|(\\_)/g,e=/(\%)|(\_)/;return"like"!==b.toLowerCase()||e.test(a.replace(d,""))?c.allowDates&&F.test(a)?D(a).format("YYYY-MM-DDTHH:mm:ss.SSSZZ"):a:"%"+a+"%"}function z(a){return isNaN(a)||""===a.trim()?"true"===a||"false"!==a&&("NULL"===a?null:0===a.indexOf("'")&&a.lastIndexOf("'")===a.length-1?a.substr(1,a.length-2):a):+a}function A(a,b){return{name:a.name.value,operator:a.operator.value.key,value:z(b)}}function B(a,b,c){return C.isArray(a[b])?a[b].concat([c]):[c]}var C=a("camunda-commons-ui/vendor/angular"),D=a("camunda-commons-ui/vendor/moment"),E=a("./includes");b.exports={getSearchQueryForSearchType:d,getActivityIdsFromUrlParams:j,replaceActivitiesInSearchQuery:o,createSearchQueryForSearchWidget:s,shouldUpdateFilter:f,createSearchesForActivityIds:q,encodeQuery:e,updateSearchValuesForTypeInCtrlMode:l};var F=/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(|\.[0-9]{0,4})$/},{"./includes":5,"camunda-commons-ui/vendor/angular":10,"camunda-commons-ui/vendor/moment":11}],8:[function(a,b,c){"use strict";b.exports=a("angular")},{angular:"angular"}],9:[function(a,b,c){"use strict";b.exports=a("moment")},{moment:"moment"}],10:[function(a,b,c){"use strict";b.exports=a("camunda-bpm-sdk-js/vendor/angular")},{"camunda-bpm-sdk-js/vendor/angular":8}],11:[function(a,b,c){"use strict";b.exports=a("camunda-bpm-sdk-js/vendor/moment")},{"camunda-bpm-sdk-js/vendor/moment":9}],12:[function(b,c,d){(function(){"use strict";var b=this,d=b.Chart,e=function(a){this.canvas=a.canvas,this.ctx=a;var b=function(a,b){return a["offset"+b]?a["offset"+b]:document.defaultView.getComputedStyle(a).getPropertyValue(b)},c=this.width=b(a.canvas,"Width"),d=this.height=b(a.canvas,"Height");a.canvas.width=c,a.canvas.height=d;var c=this.width=a.canvas.width,d=this.height=a.canvas.height;return this.aspectRatio=this.width/this.height,f.retinaScale(this),this};e.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},e.types={};var f=e.helpers={},g=f.each=function(a,b,c){var d=Array.prototype.slice.call(arguments,3);if(a)if(a.length===+a.length){var e;for(e=0;e<a.length;e++)b.apply(c,[a[e],e].concat(d))}else for(var f in a)b.apply(c,[a[f],f].concat(d))},h=f.clone=function(a){var b={};return g(a,function(c,d){a.hasOwnProperty(d)&&(b[d]=c)}),b},i=f.extend=function(a){return g(Array.prototype.slice.call(arguments,1),function(b){g(b,function(c,d){b.hasOwnProperty(d)&&(a[d]=c)})}),a},j=f.merge=function(a,b){var c=Array.prototype.slice.call(arguments,0);return c.unshift({}),i.apply(null,c)},k=f.indexOf=function(a,b){if(Array.prototype.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1},l=(f.where=function(a,b){var c=[];return f.each(a,function(a){b(a)&&c.push(a)}),c},f.findNextWhere=function(a,b,c){c||(c=-1);for(var d=c+1;d<a.length;d++){var e=a[d];if(b(e))return e}},f.findPreviousWhere=function(a,b,c){c||(c=a.length);for(var d=c-1;d>=0;d--){var e=a[d];if(b(e))return e}},f.inherits=function(a){var b=this,c=a&&a.hasOwnProperty("constructor")?a.constructor:function(){return b.apply(this,arguments)},d=function(){this.constructor=c};return d.prototype=b.prototype,c.prototype=new d,c.extend=l,a&&i(c.prototype,a),c.__super__=b.prototype,c}),m=f.noop=function(){},n=f.uid=function(){var a=0;return function(){return"chart-"+a++}}(),o=f.warn=function(a){window.console&&"function"==typeof window.console.warn&&console.warn(a)},p=f.amd="function"==typeof a&&a.amd,q=f.isNumber=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},r=f.max=function(a){return Math.max.apply(Math,a)},s=f.min=function(a){return Math.min.apply(Math,a)},t=(f.cap=function(a,b,c){if(q(b)){if(a>b)return b}else if(q(c)&&a<c)return c;return a},f.getDecimalPlaces=function(a){return a%1!==0&&q(a)?a.toString().split(".")[1].length:0}),u=f.radians=function(a){return a*(Math.PI/180)},v=(f.getAngleFromPoint=function(a,b){var c=b.x-a.x,d=b.y-a.y,e=Math.sqrt(c*c+d*d),f=2*Math.PI+Math.atan2(d,c);return c<0&&d<0&&(f+=2*Math.PI),{angle:f,distance:e}},f.aliasPixel=function(a){return a%2===0?0:.5}),w=(f.splineCurve=function(a,b,c,d){var e=Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2)),f=Math.sqrt(Math.pow(c.x-b.x,2)+Math.pow(c.y-b.y,2)),g=d*e/(e+f),h=d*f/(e+f);return{inner:{x:b.x-g*(c.x-a.x),y:b.y-g*(c.y-a.y)},outer:{x:b.x+h*(c.x-a.x),y:b.y+h*(c.y-a.y)}}},f.calculateOrderOfMagnitude=function(a){return Math.floor(Math.log(a)/Math.LN10)}),x=(f.calculateScaleRange=function(a,b,c,d,e){var f=2,g=Math.floor(b/(1.5*c)),h=f>=g,i=r(a),j=s(a);i===j&&(i+=.5,j>=.5&&!d?j-=.5:i+=.5);for(var k=Math.abs(i-j),l=w(k),m=Math.ceil(i/(1*Math.pow(10,l)))*Math.pow(10,l),n=d?0:Math.floor(j/(1*Math.pow(10,l)))*Math.pow(10,l),o=m-n,p=Math.pow(10,l),q=Math.round(o/p);(q>g||2*q<g)&&!h;)if(q>g)p*=2,q=Math.round(o/p),q%1!==0&&(h=!0);else if(e&&l>=0){if(p/2%1!==0)break;p/=2,q=Math.round(o/p)}else p/=2,q=Math.round(o/p);return h&&(q=f,p=o/q),{steps:q,stepValue:p,min:n,max:n+q*p}},f.template=function(a,b){function c(a,b){var c=/\W/.test(a)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+a.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):d[a]=d[a];return b?c(b):c}if(a instanceof Function)return a(b);var d={};return c(a,b)}),y=(f.generateLabels=function(a,b,c,d){var e=new Array(b);return labelTemplateString&&g(e,function(b,f){e[f]=x(a,{value:c+d*(f+1)})}),e},f.easingEffects={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return-1*a*(a-2)},easeInOutQuad:function(a){return(a/=.5)<1?.5*a*a:-.5*(--a*(a-2)-1)},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return 1*((a=a/1-1)*a*a+1)},easeInOutCubic:function(a){return(a/=.5)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return-1*((a=a/1-1)*a*a*a-1)},easeInOutQuart:function(a){return(a/=.5)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},easeInQuint:function(a){return 1*(a/=1)*a*a*a*a},easeOutQuint:function(a){return 1*((a=a/1-1)*a*a*a*a+1)},easeInOutQuint:function(a){return(a/=.5)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},easeInSine:function(a){return-1*Math.cos(a/1*(Math.PI/2))+1},easeOutSine:function(a){return 1*Math.sin(a/1*(Math.PI/2))},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a/1)-1)},easeInExpo:function(a){return 0===a?1:1*Math.pow(2,10*(a/1-1))},easeOutExpo:function(a){return 1===a?1:1*(-Math.pow(2,-10*a/1)+1)},easeInOutExpo:function(a){return 0===a?0:1===a?1:(a/=.5)<1?.5*Math.pow(2,10*(a-1)):.5*(-Math.pow(2,-10*--a)+2)},easeInCirc:function(a){return a>=1?a:-1*(Math.sqrt(1-(a/=1)*a)-1)},easeOutCirc:function(a){return 1*Math.sqrt(1-(a=a/1-1)*a)},easeInOutCirc:function(a){return(a/=.5)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},easeInElastic:function(a){var b=1.70158,c=0,d=1;return 0===a?0:1==(a/=1)?1:(c||(c=.3),d<Math.abs(1)?(d=1,b=c/4):b=c/(2*Math.PI)*Math.asin(1/d),-(d*Math.pow(2,10*(a-=1))*Math.sin((1*a-b)*(2*Math.PI)/c)))},easeOutElastic:function(a){var b=1.70158,c=0,d=1;return 0===a?0:1==(a/=1)?1:(c||(c=.3),d<Math.abs(1)?(d=1,b=c/4):b=c/(2*Math.PI)*Math.asin(1/d),d*Math.pow(2,-10*a)*Math.sin((1*a-b)*(2*Math.PI)/c)+1)},easeInOutElastic:function(a){var b=1.70158,c=0,d=1;return 0===a?0:2==(a/=.5)?1:(c||(c=1*(.3*1.5)),d<Math.abs(1)?(d=1,b=c/4):b=c/(2*Math.PI)*Math.asin(1/d),a<1?-.5*(d*Math.pow(2,10*(a-=1))*Math.sin((1*a-b)*(2*Math.PI)/c)):d*Math.pow(2,-10*(a-=1))*Math.sin((1*a-b)*(2*Math.PI)/c)*.5+1)},easeInBack:function(a){var b=1.70158;return 1*(a/=1)*a*((b+1)*a-b)},easeOutBack:function(a){var b=1.70158;return 1*((a=a/1-1)*a*((b+1)*a+b)+1)},easeInOutBack:function(a){var b=1.70158;return(a/=.5)<1?.5*(a*a*(((b*=1.525)+1)*a-b)):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},easeInBounce:function(a){return 1-y.easeOutBounce(1-a)},easeOutBounce:function(a){return(a/=1)<1/2.75?1*(7.5625*a*a):a<2/2.75?1*(7.5625*(a-=1.5/2.75)*a+.75):a<2.5/2.75?1*(7.5625*(a-=2.25/2.75)*a+.9375):1*(7.5625*(a-=2.625/2.75)*a+.984375)},easeInOutBounce:function(a){return a<.5?.5*y.easeInBounce(2*a):.5*y.easeOutBounce(2*a-1)+.5}}),z=f.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return window.setTimeout(a,1e3/60)}}(),A=f.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(a){return window.clearTimeout(a,1e3/60)}}(),B=(f.animationLoop=function(a,b,c,d,e,f){var g=0,h=y[c]||y.linear,i=function(){g++;var c=g/b,j=h(c);a.call(f,j,c,g),d.call(f,j,c),g<b?f.animationFrame=z(i):e.apply(f)};z(i)},f.getRelativePosition=function(a){var b,c,d=a.originalEvent||a,e=a.currentTarget||a.srcElement,f=e.getBoundingClientRect();return d.touches?(b=d.touches[0].clientX-f.left,c=d.touches[0].clientY-f.top):(b=d.clientX-f.left,c=d.clientY-f.top),{x:b,y:c}},f.addEvent=function(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c}),C=f.removeEvent=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent?a.detachEvent("on"+b,c):a["on"+b]=m},D=(f.bindEvents=function(a,b,c){a.events||(a.events={}),g(b,function(b){a.events[b]=function(){c.apply(a,arguments)},B(a.chart.canvas,b,a.events[b])})},f.unbindEvents=function(a,b){g(b,function(b,c){C(a.chart.canvas,c,b)})}),E=f.getMaximumWidth=function(a){var b=a.parentNode;return b.clientWidth},F=f.getMaximumHeight=function(a){var b=a.parentNode;return b.clientHeight},G=(f.getMaximumSize=f.getMaximumWidth,f.retinaScale=function(a){var b=a.ctx,c=a.canvas.width,d=a.canvas.height;window.devicePixelRatio&&(b.canvas.style.width=c+"px",b.canvas.style.height=d+"px",b.canvas.height=d*window.devicePixelRatio,b.canvas.width=c*window.devicePixelRatio,b.scale(window.devicePixelRatio,window.devicePixelRatio))}),H=f.clear=function(a){a.ctx.clearRect(0,0,a.width,a.height)},I=f.fontString=function(a,b,c){return b+" "+a+"px "+c},J=f.longestText=function(a,b,c){
a.font=b;var d=0;return g(c,function(b){var c=a.measureText(b).width;d=c>d?c:d}),d},K=f.drawRoundedRectangle=function(a,b,c,d,e,f){a.beginPath(),a.moveTo(b+f,c),a.lineTo(b+d-f,c),a.quadraticCurveTo(b+d,c,b+d,c+f),a.lineTo(b+d,c+e-f),a.quadraticCurveTo(b+d,c+e,b+d-f,c+e),a.lineTo(b+f,c+e),a.quadraticCurveTo(b,c+e,b,c+e-f),a.lineTo(b,c+f),a.quadraticCurveTo(b,c,b+f,c),a.closePath()};e.instances={},e.Type=function(a,b,c){this.options=b,this.chart=c,this.id=n(),e.instances[this.id]=this,b.responsive&&this.resize(),this.initialize.call(this,a)},i(e.Type.prototype,{initialize:function(){return this},clear:function(){return H(this.chart),this},stop:function(){return A(this.animationFrame),this},resize:function(a){this.stop();var b=this.chart.canvas,c=E(this.chart.canvas),d=this.options.maintainAspectRatio?c/this.chart.aspectRatio:F(this.chart.canvas);return b.width=this.chart.width=c,b.height=this.chart.height=d,G(this.chart),"function"==typeof a&&a.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:m,render:function(a){return a&&this.reflow(),this.options.animation&&!a?f.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return x(this.options.legendTemplate,this)},destroy:function(){this.clear(),D(this,this.events);var a=this.chart.canvas;a.width=this.chart.width,a.height=this.chart.height,a.style.removeProperty?(a.style.removeProperty("width"),a.style.removeProperty("height")):(a.style.removeAttribute("width"),a.style.removeAttribute("height")),delete e.instances[this.id]},showTooltip:function(a,b){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var c=function(a){var b=!1;return a.length!==this.activeElements.length?b=!0:(g(a,function(a,c){a!==this.activeElements[c]&&(b=!0)},this),b)}.call(this,a);if(c||b){if(this.activeElements=a,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),a.length>0)if(this.datasets&&this.datasets.length>1){for(var d,h,i=this.datasets.length-1;i>=0&&(d=this.datasets[i].points||this.datasets[i].bars||this.datasets[i].segments,h=k(d,a[0]),h===-1);i--);var j=[],l=[],m=function(a){var b,c,d,e,g,i=[],k=[],m=[];return f.each(this.datasets,function(a){b=a.points||a.bars||a.segments,b[h]&&b[h].hasValue()&&i.push(b[h])}),f.each(i,function(a){k.push(a.x),m.push(a.y),j.push(f.template(this.options.multiTooltipTemplate,a)),l.push({fill:a._saved.fillColor||a.fillColor,stroke:a._saved.strokeColor||a.strokeColor})},this),g=s(m),d=r(m),e=s(k),c=r(k),{x:e>this.chart.width/2?e:c,y:(g+d)/2}}.call(this,h);new e.MultiTooltip({x:m.x,y:m.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:j,legendColors:l,legendColorBackground:this.options.multiTooltipKeyBackground,title:a[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else g(a,function(a){var b=a.tooltipPosition();new e.Tooltip({x:Math.round(b.x),y:Math.round(b.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:x(this.options.tooltipTemplate,a),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),e.Type.extend=function(a){var b=this,c=function(){return b.apply(this,arguments)};if(c.prototype=h(b.prototype),i(c.prototype,a),c.extend=e.Type.extend,a.name||b.prototype.name){var d=a.name||b.prototype.name,f=e.defaults[b.prototype.name]?h(e.defaults[b.prototype.name]):{};e.defaults[d]=i(f,a.defaults),e.types[d]=c,e.prototype[d]=function(a,b){var f=j(e.defaults.global,e.defaults[d],b||{});return new c(a,f,this)}}else o("Name not provided for this chart, so it hasn't been registered");return b},e.Element=function(a){i(this,a),this.initialize.apply(this,arguments),this.save()},i(e.Element.prototype,{initialize:function(){},restore:function(a){return a?g(a,function(a){this[a]=this._saved[a]},this):i(this,this._saved),this},save:function(){return this._saved=h(this),delete this._saved._saved,this},update:function(a){return g(a,function(a,b){this._saved[b]=this[b],this[b]=a},this),this},transition:function(a,b){return g(a,function(a,c){this[c]=(a-this._saved[c])*b+this._saved[c]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return q(this.value)}}),e.Element.extend=l,e.Point=e.Element.extend({display:!0,inRange:function(a,b){var c=this.hitDetectionRadius+this.radius;return Math.pow(a-this.x,2)+Math.pow(b-this.y,2)<Math.pow(c,2)},draw:function(){if(this.display){var a=this.ctx;a.beginPath(),a.arc(this.x,this.y,this.radius,0,2*Math.PI),a.closePath(),a.strokeStyle=this.strokeColor,a.lineWidth=this.strokeWidth,a.fillStyle=this.fillColor,a.fill(),a.stroke()}}}),e.Arc=e.Element.extend({inRange:function(a,b){var c=f.getAngleFromPoint(this,{x:a,y:b}),d=c.angle>=this.startAngle&&c.angle<=this.endAngle,e=c.distance>=this.innerRadius&&c.distance<=this.outerRadius;return d&&e},tooltipPosition:function(){var a=this.startAngle+(this.endAngle-this.startAngle)/2,b=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(a)*b,y:this.y+Math.sin(a)*b}},draw:function(a){var b=this.ctx;b.beginPath(),b.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),b.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),b.closePath(),b.strokeStyle=this.strokeColor,b.lineWidth=this.strokeWidth,b.fillStyle=this.fillColor,b.fill(),b.lineJoin="bevel",this.showStroke&&b.stroke()}}),e.Rectangle=e.Element.extend({draw:function(){var a=this.ctx,b=this.width/2,c=this.x-b,d=this.x+b,e=this.base-(this.base-this.y),f=this.strokeWidth/2;this.showStroke&&(c+=f,d-=f,e+=f),a.beginPath(),a.fillStyle=this.fillColor,a.strokeStyle=this.strokeColor,a.lineWidth=this.strokeWidth,a.moveTo(c,this.base),a.lineTo(c,e),a.lineTo(d,e),a.lineTo(d,this.base),a.fill(),this.showStroke&&a.stroke()},height:function(){return this.base-this.y},inRange:function(a,b){return a>=this.x-this.width/2&&a<=this.x+this.width/2&&b>=this.y&&b<=this.base}}),e.Tooltip=e.Element.extend({draw:function(){var a=this.chart.ctx;a.font=I(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var b=this.caretPadding=2,c=a.measureText(this.text).width+2*this.xPadding,d=this.fontSize+2*this.yPadding,e=d+this.caretHeight+b;this.x+c/2>this.chart.width?this.xAlign="left":this.x-c/2<0&&(this.xAlign="right"),this.y-e<0&&(this.yAlign="below");var f=this.x-c/2,g=this.y-e;if(a.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":a.beginPath(),a.moveTo(this.x,this.y-b),a.lineTo(this.x+this.caretHeight,this.y-(b+this.caretHeight)),a.lineTo(this.x-this.caretHeight,this.y-(b+this.caretHeight)),a.closePath(),a.fill();break;case"below":g=this.y+b+this.caretHeight,a.beginPath(),a.moveTo(this.x,this.y+b),a.lineTo(this.x+this.caretHeight,this.y+b+this.caretHeight),a.lineTo(this.x-this.caretHeight,this.y+b+this.caretHeight),a.closePath(),a.fill()}switch(this.xAlign){case"left":f=this.x-c+(this.cornerRadius+this.caretHeight);break;case"right":f=this.x-(this.cornerRadius+this.caretHeight)}K(a,f,g,c,d,this.cornerRadius),a.fill(),a.fillStyle=this.textColor,a.textAlign="center",a.textBaseline="middle",a.fillText(this.text,f+c/2,g+d/2)}}}),e.MultiTooltip=e.Element.extend({initialize:function(){this.font=I(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=I(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var a=this.ctx.measureText(this.title).width,b=J(this.ctx,this.font,this.labels)+this.fontSize+3,c=r([b,a]);this.width=c+2*this.xPadding;var d=this.height/2;this.y-d<0?this.y=d:this.y+d>this.chart.height&&(this.y=this.chart.height-d),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(a){var b=this.y-this.height/2+this.yPadding,c=a-1;return 0===a?b+this.titleFontSize/2:b+(1.5*this.fontSize*c+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom)this.custom(this);else{K(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var a=this.ctx;a.fillStyle=this.fillColor,a.fill(),a.closePath(),a.textAlign="left",a.textBaseline="middle",a.fillStyle=this.titleTextColor,a.font=this.titleFont,a.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),a.font=this.font,f.each(this.labels,function(b,c){a.fillStyle=this.textColor,a.fillText(b,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(c+1)),a.fillStyle=this.legendColorBackground,a.fillRect(this.x+this.xPadding,this.getLineHeight(c+1)-this.fontSize/2,this.fontSize,this.fontSize),a.fillStyle=this.legendColors[c].fill,a.fillRect(this.x+this.xPadding,this.getLineHeight(c+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),e.Scale=e.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var a=t(this.stepValue),b=0;b<=this.steps;b++)this.yLabels.push(x(this.templateString,{value:(this.min+b*this.stepValue).toFixed(a)}));this.yLabelWidth=this.display&&this.showLabels?J(this.ctx,this.font,this.yLabels):0},addXLabel:function(a){this.xLabels.push(a),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var a,b=this.endPoint-this.startPoint;for(this.calculateYRange(b),this.buildYLabels(),this.calculateXLabelRotation();b>this.endPoint-this.startPoint;)b=this.endPoint-this.startPoint,a=this.yLabelWidth,this.calculateYRange(b),this.buildYLabels(),a<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var a,b,c=this.ctx.measureText(this.xLabels[0]).width,d=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=d/2+3,this.xScalePaddingLeft=c/2>this.yLabelWidth+10?c/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var e,f=J(this.ctx,this.font,this.xLabels);this.xLabelWidth=f;for(var g=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>g&&0===this.xLabelRotation||this.xLabelWidth>g&&this.xLabelRotation<=90&&this.xLabelRotation>0;)e=Math.cos(u(this.xLabelRotation)),a=e*c,b=e*d,a+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=a+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=e*f;this.xLabelRotation>0&&(this.endPoint-=Math.sin(u(this.xLabelRotation))*f+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:m,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(a){var b=this.drawingArea()/(this.min-this.max);return this.endPoint-b*(a-this.min)},calculateX:function(a){var b=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),c=b/Math.max(this.valuesCount-(this.offsetGridLines?0:1),1),d=c*a+this.xScalePaddingLeft;return this.offsetGridLines&&(d+=c/2),Math.round(d)},update:function(a){f.extend(this,a),this.fit()},draw:function(){var a=this.ctx,b=(this.endPoint-this.startPoint)/this.steps,c=Math.round(this.xScalePaddingLeft);this.display&&(a.fillStyle=this.textColor,a.font=this.font,g(this.yLabels,function(d,e){var g=this.endPoint-b*e,h=Math.round(g),i=this.showHorizontalLines;a.textAlign="right",a.textBaseline="middle",this.showLabels&&a.fillText(d,c-10,g),0!==e||i||(i=!0),i&&a.beginPath(),e>0?(a.lineWidth=this.gridLineWidth,a.strokeStyle=this.gridLineColor):(a.lineWidth=this.lineWidth,a.strokeStyle=this.lineColor),h+=f.aliasPixel(a.lineWidth),i&&(a.moveTo(c,h),a.lineTo(this.width,h),a.stroke(),a.closePath()),a.lineWidth=this.lineWidth,a.strokeStyle=this.lineColor,a.beginPath(),a.moveTo(c-5,h),a.lineTo(c,h),a.stroke(),a.closePath()},this),g(this.xLabels,function(b,c){var d=this.calculateX(c)+v(this.lineWidth),e=this.calculateX(c-(this.offsetGridLines?.5:0))+v(this.lineWidth),f=this.xLabelRotation>0,g=this.showVerticalLines;0!==c||g||(g=!0),g&&a.beginPath(),c>0?(a.lineWidth=this.gridLineWidth,a.strokeStyle=this.gridLineColor):(a.lineWidth=this.lineWidth,a.strokeStyle=this.lineColor),g&&(a.moveTo(e,this.endPoint),a.lineTo(e,this.startPoint-3),a.stroke(),a.closePath()),a.lineWidth=this.lineWidth,a.strokeStyle=this.lineColor,a.beginPath(),a.moveTo(e,this.endPoint),a.lineTo(e,this.endPoint+5),a.stroke(),a.closePath(),a.save(),a.translate(d,f?this.endPoint+12:this.endPoint+8),a.rotate(u(this.xLabelRotation)*-1),a.font=this.font,a.textAlign=f?"right":"center",a.textBaseline=f?"middle":"top",a.fillText(b,0,0),a.restore()},this))}}),e.RadialScale=e.Element.extend({initialize:function(){this.size=s([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(a){var b=this.drawingArea/(this.max-this.min);return(a-this.min)*b},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var a=t(this.stepValue),b=0;b<=this.steps;b++)this.yLabels.push(x(this.templateString,{value:(this.min+b*this.stepValue).toFixed(a)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m=s([this.height/2-this.pointLabelFontSize-5,this.width/2]),n=this.width,o=0;for(this.ctx.font=I(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),b=0;b<this.valuesCount;b++)a=this.getPointPosition(b,m),c=this.ctx.measureText(x(this.templateString,{value:this.labels[b]})).width+5,0===b||b===this.valuesCount/2?(d=c/2,a.x+d>n&&(n=a.x+d,e=b),a.x-d<o&&(o=a.x-d,g=b)):b<this.valuesCount/2?a.x+c>n&&(n=a.x+c,e=b):b>this.valuesCount/2&&a.x-c<o&&(o=a.x-c,g=b);i=o,j=Math.ceil(n-this.width),f=this.getIndexAngle(e),h=this.getIndexAngle(g),k=j/Math.sin(f+Math.PI/2),l=i/Math.sin(h+Math.PI/2),k=q(k)?k:0,l=q(l)?l:0,this.drawingArea=m-(l+k)/2,this.setCenterPoint(l,k)},setCenterPoint:function(a,b){var c=this.width-b-this.drawingArea,d=a+this.drawingArea;this.xCenter=(d+c)/2,this.yCenter=this.height/2},getIndexAngle:function(a){var b=2*Math.PI/this.valuesCount;return a*b-Math.PI/2},getPointPosition:function(a,b){var c=this.getIndexAngle(a);return{x:Math.cos(c)*b+this.xCenter,y:Math.sin(c)*b+this.yCenter}},draw:function(){if(this.display){var a=this.ctx;if(g(this.yLabels,function(b,c){if(c>0){var d,e=c*(this.drawingArea/this.steps),f=this.yCenter-e;if(this.lineWidth>0)if(a.strokeStyle=this.lineColor,a.lineWidth=this.lineWidth,this.lineArc)a.beginPath(),a.arc(this.xCenter,this.yCenter,e,0,2*Math.PI),a.closePath(),a.stroke();else{a.beginPath();for(var g=0;g<this.valuesCount;g++)d=this.getPointPosition(g,this.calculateCenterOffset(this.min+c*this.stepValue)),0===g?a.moveTo(d.x,d.y):a.lineTo(d.x,d.y);a.closePath(),a.stroke()}if(this.showLabels){if(a.font=I(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var h=a.measureText(b).width;a.fillStyle=this.backdropColor,a.fillRect(this.xCenter-h/2-this.backdropPaddingX,f-this.fontSize/2-this.backdropPaddingY,h+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}a.textAlign="center",a.textBaseline="middle",a.fillStyle=this.fontColor,a.fillText(b,this.xCenter,f)}}},this),!this.lineArc){a.lineWidth=this.angleLineWidth,a.strokeStyle=this.angleLineColor;for(var b=this.valuesCount-1;b>=0;b--){if(this.angleLineWidth>0){var c=this.getPointPosition(b,this.calculateCenterOffset(this.max));a.beginPath(),a.moveTo(this.xCenter,this.yCenter),a.lineTo(c.x,c.y),a.stroke(),a.closePath()}var d=this.getPointPosition(b,this.calculateCenterOffset(this.max)+5);a.font=I(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),a.fillStyle=this.pointLabelFontColor;var e=this.labels.length,f=this.labels.length/2,h=f/2,i=b<h||b>e-h,j=b===h||b===e-h;0===b?a.textAlign="center":b===f?a.textAlign="center":b<f?a.textAlign="left":a.textAlign="right",j?a.textBaseline="middle":i?a.textBaseline="bottom":a.textBaseline="top",a.fillText(this.labels[b],d.x,d.y)}}}}}),f.addEvent(window,"resize",function(){var a;return function(){clearTimeout(a),a=setTimeout(function(){g(e.instances,function(a){a.options.responsive&&a.resize(a.render,!0)})},50)}}()),p?a(function(){return e}):"object"==typeof c&&c.exports&&(c.exports=e),b.Chart=e,e.noConflict=function(){return b.Chart=d,e}}).call(this),function(){"use strict";var a=this,b=a.Chart,c=b.helpers,d={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};b.Type.extend({name:"Bar",defaults:d,initialize:function(a){var d=this.options;this.ScaleClass=b.Scale.extend({offsetGridLines:!0,calculateBarX:function(a,b,c){var e=this.calculateBaseWidth(),f=this.calculateX(c)-e/2,g=this.calculateBarWidth(a);return f+g*b+b*d.barDatasetSpacing+g/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*d.barValueSpacing},calculateBarWidth:function(a){var b=this.calculateBaseWidth()-(a-1)*d.barDatasetSpacing;return b/a}}),this.datasets=[],this.options.showTooltips&&c.bindEvents(this,this.options.tooltipEvents,function(a){var b="mouseout"!==a.type?this.getBarsAtEvent(a):[];this.eachBars(function(a){a.restore(["fillColor","strokeColor"])}),c.each(b,function(a){a.fillColor=a.highlightFill,a.strokeColor=a.highlightStroke}),this.showTooltip(b)}),this.BarClass=b.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),c.each(a.datasets,function(b,d){var e={label:b.label||null,fillColor:b.fillColor,strokeColor:b.strokeColor,bars:[]};this.datasets.push(e),c.each(b.data,function(c,d){e.bars.push(new this.BarClass({value:c,label:a.labels[d],datasetLabel:b.label,strokeColor:b.strokeColor,fillColor:b.fillColor,highlightFill:b.highlightFill||b.fillColor,highlightStroke:b.highlightStroke||b.strokeColor}))},this)},this),this.buildScale(a.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(a,b,d){c.extend(a,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,d,b),y:this.scale.endPoint}),a.save()},this),this.render()},update:function(){this.scale.update(),c.each(this.activeElements,function(a){a.restore(["fillColor","strokeColor"])}),this.eachBars(function(a){a.save()}),this.render()},eachBars:function(a){c.each(this.datasets,function(b,d){c.each(b.bars,a,this,d)},this)},getBarsAtEvent:function(a){for(var b,d=[],e=c.getRelativePosition(a),f=function(a){d.push(a.bars[b])},g=0;g<this.datasets.length;g++)for(b=0;b<this.datasets[g].bars.length;b++)if(this.datasets[g].bars[b].inRange(e.x,e.y))return c.each(this.datasets,f),d;return d},buildScale:function(a){var b=this,d=function(){var a=[];return b.eachBars(function(b){a.push(b.value)}),a},e={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:a.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(a){var b=c.calculateScaleRange(d(),a,this.fontSize,this.beginAtZero,this.integersOnly);c.extend(this,b)},xLabels:a,font:c.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&c.extend(e,{calculateYRange:c.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(e)},addData:function(a,b){c.each(a,function(a,c){this.datasets[c].bars.push(new this.BarClass({value:a,label:b,x:this.scale.calculateBarX(this.datasets.length,c,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[c].strokeColor,fillColor:this.datasets[c].fillColor}))},this),this.scale.addXLabel(b),this.update()},removeData:function(){this.scale.removeXLabel(),c.each(this.datasets,function(a){a.bars.shift()},this),this.update()},reflow:function(){c.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var a=c.extend({height:this.chart.height,width:this.chart.width});this.scale.update(a)},draw:function(a){var b=a||1;this.clear();this.chart.ctx;this.scale.draw(b),c.each(this.datasets,function(a,d){c.each(a.bars,function(a,c){a.hasValue()&&(a.base=this.scale.endPoint,a.transition({x:this.scale.calculateBarX(this.datasets.length,d,c),y:this.scale.calculateY(a.value),width:this.scale.calculateBarWidth(this.datasets.length)},b).draw())},this)},this)}})}.call(this),function(){"use strict";var a=this,b=a.Chart,c=b.helpers,d={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};b.Type.extend({name:"Doughnut",defaults:d,initialize:function(a){this.segments=[],this.outerRadius=(c.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=b.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&c.bindEvents(this,this.options.tooltipEvents,function(a){var b="mouseout"!==a.type?this.getSegmentsAtEvent(a):[];c.each(this.segments,function(a){a.restore(["fillColor"])}),c.each(b,function(a){a.fillColor=a.highlightColor}),this.showTooltip(b)}),this.calculateTotal(a),c.each(a,function(a,b){this.addData(a,b,!0)},this),this.render()},getSegmentsAtEvent:function(a){var b=[],d=c.getRelativePosition(a);return c.each(this.segments,function(a){a.inRange(d.x,d.y)&&b.push(a)},this),b},addData:function(a,b,c){var d=b||this.segments.length;this.segments.splice(d,0,new this.SegmentArc({value:a.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:a.color,highlightColor:a.highlight||a.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(a.value),label:a.label})),c||(this.reflow(),this.update())},calculateCircumference:function(a){return 2*Math.PI*(Math.abs(a)/this.total)},calculateTotal:function(a){this.total=0,c.each(a,function(a){this.total+=Math.abs(a.value)},this)},update:function(){this.calculateTotal(this.segments),c.each(this.activeElements,function(a){a.restore(["fillColor"])}),c.each(this.segments,function(a){a.save()}),this.render()},removeData:function(a){var b=c.isNumber(a)?a:this.segments.length-1;this.segments.splice(b,1),this.reflow(),this.update()},reflow:function(){c.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(c.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,c.each(this.segments,function(a){a.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(a){var b=a?a:1;this.clear(),c.each(this.segments,function(a,c){a.transition({circumference:this.calculateCircumference(a.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},b),a.endAngle=a.startAngle+a.circumference,a.draw(),0===c&&(a.startAngle=1.5*Math.PI),c<this.segments.length-1&&(this.segments[c+1].startAngle=a.endAngle)},this)}}),b.types.Doughnut.extend({name:"Pie",defaults:c.merge(d,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var a=this,b=a.Chart,c=b.helpers,d={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};b.Type.extend({name:"Line",defaults:d,initialize:function(a){this.PointClass=b.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(a){return Math.pow(a-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&c.bindEvents(this,this.options.tooltipEvents,function(a){var b="mouseout"!==a.type?this.getPointsAtEvent(a):[];this.eachPoints(function(a){a.restore(["fillColor","strokeColor"])}),c.each(b,function(a){a.fillColor=a.highlightFill,a.strokeColor=a.highlightStroke}),this.showTooltip(b)}),c.each(a.datasets,function(b){var d={label:b.label||null,fillColor:b.fillColor,strokeColor:b.strokeColor,pointColor:b.pointColor,pointStrokeColor:b.pointStrokeColor,points:[]};this.datasets.push(d),c.each(b.data,function(c,e){d.points.push(new this.PointClass({value:c,label:a.labels[e],datasetLabel:b.label,strokeColor:b.pointStrokeColor,fillColor:b.pointColor,highlightFill:b.pointHighlightFill||b.pointColor,highlightStroke:b.pointHighlightStroke||b.pointStrokeColor}))},this),this.buildScale(a.labels),this.eachPoints(function(a,b){c.extend(a,{x:this.scale.calculateX(b),y:this.scale.endPoint}),a.save()},this)},this),this.render()},update:function(){this.scale.update(),c.each(this.activeElements,function(a){a.restore(["fillColor","strokeColor"])}),this.eachPoints(function(a){a.save()}),this.render()},eachPoints:function(a){c.each(this.datasets,function(b){c.each(b.points,a,this)},this)},getPointsAtEvent:function(a){var b=[],d=c.getRelativePosition(a);return c.each(this.datasets,function(a){c.each(a.points,function(a){a.inRange(d.x,d.y)&&b.push(a)})},this),b},buildScale:function(a){var d=this,e=function(){var a=[];return d.eachPoints(function(b){a.push(b.value)}),a},f={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:a.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(a){var b=c.calculateScaleRange(e(),a,this.fontSize,this.beginAtZero,this.integersOnly);c.extend(this,b)},xLabels:a,font:c.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&c.extend(f,{calculateYRange:c.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new b.Scale(f)},addData:function(a,b){c.each(a,function(a,c){this.datasets[c].points.push(new this.PointClass({value:a,label:b,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[c].pointStrokeColor,fillColor:this.datasets[c].pointColor}))},this),this.scale.addXLabel(b),this.update()},removeData:function(){this.scale.removeXLabel(),c.each(this.datasets,function(a){a.points.shift()},this),this.update()},reflow:function(){var a=c.extend({height:this.chart.height,width:this.chart.width});this.scale.update(a)},draw:function(a){var b=a||1;this.clear();var d=this.chart.ctx,e=function(a){return null!==a.value},f=function(a,b,d){return c.findNextWhere(b,e,d)||a},g=function(a,b,d){return c.findPreviousWhere(b,e,d)||a};this.scale.draw(b),c.each(this.datasets,function(a){var h=c.where(a.points,e);c.each(a.points,function(a,c){a.hasValue()&&a.transition({y:this.scale.calculateY(a.value),x:this.scale.calculateX(c)},b)},this),this.options.bezierCurve&&c.each(h,function(a,b){var d=b>0&&b<h.length-1?this.options.bezierCurveTension:0;a.controlPoints=c.splineCurve(g(a,h,b),a,f(a,h,b),d),a.controlPoints.outer.y>this.scale.endPoint?a.controlPoints.outer.y=this.scale.endPoint:a.controlPoints.outer.y<this.scale.startPoint&&(a.controlPoints.outer.y=this.scale.startPoint),a.controlPoints.inner.y>this.scale.endPoint?a.controlPoints.inner.y=this.scale.endPoint:a.controlPoints.inner.y<this.scale.startPoint&&(a.controlPoints.inner.y=this.scale.startPoint)},this),d.lineWidth=this.options.datasetStrokeWidth,d.strokeStyle=a.strokeColor,d.beginPath(),c.each(h,function(a,b){if(0===b)d.moveTo(a.x,a.y);else if(this.options.bezierCurve){var c=g(a,h,b);d.bezierCurveTo(c.controlPoints.outer.x,c.controlPoints.outer.y,a.controlPoints.inner.x,a.controlPoints.inner.y,a.x,a.y)}else d.lineTo(a.x,a.y)},this),d.stroke(),this.options.datasetFill&&h.length>0&&(d.lineTo(h[h.length-1].x,this.scale.endPoint),d.lineTo(h[0].x,this.scale.endPoint),d.fillStyle=a.fillColor,
d.closePath(),d.fill()),c.each(h,function(a){a.draw()})},this)}})}.call(this),function(){"use strict";var a=this,b=a.Chart,c=b.helpers,d={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};b.Type.extend({name:"PolarArea",defaults:d,initialize:function(a){this.segments=[],this.SegmentArc=b.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new b.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:a.length}),this.updateScaleRange(a),this.scale.update(),c.each(a,function(a,b){this.addData(a,b,!0)},this),this.options.showTooltips&&c.bindEvents(this,this.options.tooltipEvents,function(a){var b="mouseout"!==a.type?this.getSegmentsAtEvent(a):[];c.each(this.segments,function(a){a.restore(["fillColor"])}),c.each(b,function(a){a.fillColor=a.highlightColor}),this.showTooltip(b)}),this.render()},getSegmentsAtEvent:function(a){var b=[],d=c.getRelativePosition(a);return c.each(this.segments,function(a){a.inRange(d.x,d.y)&&b.push(a)},this),b},addData:function(a,b,c){var d=b||this.segments.length;this.segments.splice(d,0,new this.SegmentArc({fillColor:a.color,highlightColor:a.highlight||a.color,label:a.label,value:a.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(a.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),c||(this.reflow(),this.update())},removeData:function(a){var b=c.isNumber(a)?a:this.segments.length-1;this.segments.splice(b,1),this.reflow(),this.update()},calculateTotal:function(a){this.total=0,c.each(a,function(a){this.total+=a.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(a){var b=[];c.each(a,function(a){b.push(a.value)});var d=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:c.calculateScaleRange(b,c.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);c.extend(this.scale,d,{size:c.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),c.each(this.segments,function(a){a.save()}),this.reflow(),this.render()},reflow:function(){c.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),c.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),c.each(this.segments,function(a){a.update({outerRadius:this.scale.calculateCenterOffset(a.value)})},this)},draw:function(a){var b=a||1;this.clear(),c.each(this.segments,function(a,c){a.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(a.value)},b),a.endAngle=a.startAngle+a.circumference,0===c&&(a.startAngle=1.5*Math.PI),c<this.segments.length-1&&(this.segments[c+1].startAngle=a.endAngle),a.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var a=this,b=a.Chart,c=b.helpers;b.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(a){this.PointClass=b.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(a),this.options.showTooltips&&c.bindEvents(this,this.options.tooltipEvents,function(a){var b="mouseout"!==a.type?this.getPointsAtEvent(a):[];this.eachPoints(function(a){a.restore(["fillColor","strokeColor"])}),c.each(b,function(a){a.fillColor=a.highlightFill,a.strokeColor=a.highlightStroke}),this.showTooltip(b)}),c.each(a.datasets,function(b){var d={label:b.label||null,fillColor:b.fillColor,strokeColor:b.strokeColor,pointColor:b.pointColor,pointStrokeColor:b.pointStrokeColor,points:[]};this.datasets.push(d),c.each(b.data,function(c,e){var f;this.scale.animation||(f=this.scale.getPointPosition(e,this.scale.calculateCenterOffset(c))),d.points.push(new this.PointClass({value:c,label:a.labels[e],datasetLabel:b.label,x:this.options.animation?this.scale.xCenter:f.x,y:this.options.animation?this.scale.yCenter:f.y,strokeColor:b.pointStrokeColor,fillColor:b.pointColor,highlightFill:b.pointHighlightFill||b.pointColor,highlightStroke:b.pointHighlightStroke||b.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(a){c.each(this.datasets,function(b){c.each(b.points,a,this)},this)},getPointsAtEvent:function(a){var b=c.getRelativePosition(a),d=c.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},b),e=2*Math.PI/this.scale.valuesCount,f=Math.round((d.angle-1.5*Math.PI)/e),g=[];return(f>=this.scale.valuesCount||f<0)&&(f=0),d.distance<=this.scale.drawingArea&&c.each(this.datasets,function(a){g.push(a.points[f])}),g},buildScale:function(a){this.scale=new b.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:a.labels,valuesCount:a.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(a.datasets),this.scale.buildYLabels()},updateScaleRange:function(a){var b=function(){var b=[];return c.each(a,function(a){a.data?b=b.concat(a.data):c.each(a.points,function(a){b.push(a.value)})}),b}(),d=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:c.calculateScaleRange(b,c.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);c.extend(this.scale,d)},addData:function(a,b){this.scale.valuesCount++,c.each(a,function(a,c){var d=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(a));this.datasets[c].points.push(new this.PointClass({value:a,label:b,x:d.x,y:d.y,strokeColor:this.datasets[c].pointStrokeColor,fillColor:this.datasets[c].pointColor}))},this),this.scale.labels.push(b),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),c.each(this.datasets,function(a){a.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(a){a.save()}),this.reflow(),this.render()},reflow:function(){c.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:c.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(a){var b=a||1,d=this.chart.ctx;this.clear(),this.scale.draw(),c.each(this.datasets,function(a){c.each(a.points,function(a,c){a.hasValue()&&a.transition(this.scale.getPointPosition(c,this.scale.calculateCenterOffset(a.value)),b)},this),d.lineWidth=this.options.datasetStrokeWidth,d.strokeStyle=a.strokeColor,d.beginPath(),c.each(a.points,function(a,b){0===b?d.moveTo(a.x,a.y):d.lineTo(a.x,a.y)},this),d.closePath(),d.stroke(),d.fillStyle=a.fillColor,d.fill(),c.each(a.points,function(a){a.hasValue()&&a.draw()})},this)}})}.call(this)},{}],13:[function(a,b,c){(function(a){var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null,d="undefined"!=typeof window?window.moment:"undefined"!=typeof a?a.moment:null,e=function(a){a.registerDefaultView("cockpit.processDefinition.history.diagram.action",{id:"activityInstance-action",url:c.element("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/activityInstance-period/activityInstance-action.html",controller:["$scope","configuration",function(a,b){function c(a){return d().clone().subtract(a.value,a.unit).format("YYYY-MM-DDTHH:mm:ss.SSSZZ")}var e=a.processData;a.adjustablePeriod=b.getActivityInstanceAdjustable(),a.metricsPeriods=[{value:"1",unit:"day",label:"Today"},{value:"1",unit:"week",label:"This week"},{value:"1",unit:"month",label:"This month"},{value:"1",unit:"complete",label:"All"}];var f=function(){return["day","week","month","complete"].indexOf(b.getActivityInstancePeriod().unit)>-1?b.getActivityInstancePeriod().unit:"day"},g=function(b){var c=a.metricsPeriods.filter(function(a){return b===a.unit}).map(function(a){return a.label});return c[0]};a.selectedMetricPeriod=g(f()),a.setHistoricActivityQuery=function(b){var d={completeScope:!0,canceled:!0,finished:!0};a.selectedMetricPeriod=b.label,"complete"!==b.unit&&(d.startedAfter=c(b)),e.set("historicActivityQuery",d)}}],priority:20})};e.$inject=["ViewsProvider"],b.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./activityInstance-action"),f=d.module("cockpit.plugin.activityInstance-period.actions",[]);f.config(e),b.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./activityInstance-action":13}],15:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./actions/main");b.exports=d.module("cockpit.plugin.activityInstance-period",[e.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./actions/main":14}],16:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null,d='<!-- EE # webapps/camunda-webapp/plugins/src/main/resources-plugin/adjustment/app/actions/editAction.html -->\n<a class="edit-resource"\n   ng-click=" enterEditMode() "\n   ng-if="control.isDmnResource(resource)"\n>\n  <span class="glyphicon glyphicon-pencil"></span> {{ \'PLGN_ADJ_EDIT\' | translate }}\n</a>\n<!-- EE / webapps/camunda-webapp/plugins/src/main/resources-plugin/adjustment/app/actions/editAction.html -->\n',e='<!-- EE # webapps/camunda-webapp/plugins/src/main/resources-plugin/adjustment/app/actions/confirmTemplate.html -->\n<div class="modal-header">\n  <h3 class="modal-title">{{ \'PLGN_ADJ_EDIT_DMN\' | translate }}</h3>\n</div>\n\n<div class="modal-body form-horizontal">\n  <div notifications-panel></div>\n  <div class="help-block">\n    {{ \'PLGN_ADJ_HELP_BLOCK_FIRE\' | translate }} <span title="fire" class="glyphicon glyphicon-fire"></span>.<br/>\n    {{ \'PLGN_ADJ_HELP_BLOCK_DEPLOY\' | translate }}\n  </div>\n\n  <div class="deployment-name">\n    <label for="new-deployment-name">{{ \'PLGN_ADJ_HELP_BLOCK_DEPLOYMENT_NAME\' | translate }}</label>\n    <div>\n      <input type="text"\n             id="new-deployment-name"\n             ng-model="deploymentName"\n             class="form-control" />\n    </div>\n  </div>\n \n  <div cam-widget-dmn-viewer\n       show-details="true"\n       enable-drd-navigation="true"\n       height="400"\n       control="control"\n       xml="dmnXml">\n  </div>\n</div><!-- .modal-body -->\n\n\n<div class="modal-footer">\n\n  <div class="row">\n\n    <div class="col-xs-4 text-left">\n      <button class="btn btn-link"\n              ng-click="back()"\n              ng-disabled="status === \'LOADING\'">{{ \'PLGN_ADJ_BACK\' | translate }}</button>\n    </div>\n\n    <div class="col-xs-8">\n      <button class="btn btn-link"\n              ng-click="cancel()"\n              ng-disabled="status === \'LOADING\'">{{ \'PLGN_ADJ_CANCEL\' | translate }}</button>\n\n      <button class="btn btn-primary"\n              ng-click="ok()"\n              ng-disabled="status === \'LOADING\'">{{ \'PLGN_ADJ_DEPLOY\' | translate }} <span ng-if="status === \'LOADING\'" class="glyphicon glyphicon-refresh animate-spin"></span></button>\n    </div>\n\n  </div>\n\n</div>\n<!-- EE / webapps/camunda-webapp/plugins/src/main/resources-plugin/adjustment/app/actions/confirmTemplate.html -->\n',f=["$scope","$rootScope","$modal","$http","$location","$timeout","Uri","search","Notifications","$translate",function(a,b,d,f,g,h,i,j,k,l){var m=a.resourceDetailsData.newChild(a),n=!1,o=null,p=null,q=a.control.isDmnResource,r=function(){if(!n&&a.resource&&a.control.isDmnResource(a.resource)){var b=g.search()||{};"true"===b.editMode&&a.openEditDialog(a.binary)}else s()},s=function(){o&&o.dismiss("cancel")};a.$on("$routeUpdate",r),a.$on("$destroy",s),m.observe("resource",function(b){a.resource=b}),m.observe("currentDeployment",function(b){a.currentDeployment=b}),m.observe("binary",function(b){a.binary=(b||{}).data,r()});var t=["$scope","$modalInstance","dmnXml","isFileUploadSupported",function(b,c,d,e){o=c,h(function(){b.dmnXml=d,b.$apply()},500),b.control={},p=b.control,b.uploadSupport=e(),b.downloadSupport="function"==typeof MouseEvent,b.hideTable=!1,b.$on("$routeChangeStart",function(){b.$dismiss()}),b.ok=function(){o=null,b.control.getViewer().saveXML({format:!0},function(a,b){c.close(b)})},b.fileInputChange=function(c){var d=c[0].file,e=c[0].content;return q(d.name)?c.length?(b.hideTable=!0,void b.control.getViewer().saveXML({format:!0},function(c,d){b.control.getViewer().importXML(e,function(c,e){a.$apply(function(){c||e.length?(k.addError({status:l.instant("PLGN_ADJ_FILE_LOADING_FAILED"),message:l.instant("PLGN_ADJ_FILE_NOT_LOADED")+(c||e[0].message),scope:b}),b.control.getViewer().importXML(d,function(a,c){b.hideTable=!1,(a||c.length)&&b.cancel()})):b.hideTable=!1})})})):void k.addError({status:l.instant("PLGN_ADJ_FILE_NOT_SELECTED"),message:l.instant("PLGN_ADJ_FILE_PLEASE_SELECT"),scope:b}):void k.addError({status:l.instant("PLGN_ADJ_FILE_FORMAT_NOT_SUPPORTED"),unsafe:!0,message:l.instant("PLGN_ADJ_FILE_SELECT")+"<code>.dmn</code> "+l.instant("PLGN_ADJ_FILE_SELECT_OR")+" <code>.dmn11.xml</code>",scope:b})},b.cancel=function(){o=null,c.dismiss("cancel")},b.downloadXML=function(){b.control.getViewer().saveXML({format:!0},function(b,c){var d=document.createElement("a");d.setAttribute("href","data:application/xml;charset=UTF-8,"+window.encodeURIComponent(c)),d.setAttribute("download",a.resource.name);var e=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});d.dispatchEvent(e)})}}],u=["$scope","$modalInstance","$timeout","$location","dmnXml","routeUtil","upload","getDeploymentUrl",function(b,c,d,e,f,g,h,j){o=c,d(function(){b.dmnXml=f,b.$apply()},500);var m=a.currentDeployment;b.deploymentName=m.name,b.control={},p=b.control,b.$on("$routeChangeStart",function(){b.$dismiss()});var n=[];b.$on("$destroy",function(){for(var a;a=n.pop();)"function"==typeof a&&d(a)});var q=function(b,c){k.addMessage({status:l.instant("PLGN_ADJ_DEPLOYMENT_SUCCESS"),unsafe:!0,message:l.instant("PLGN_ADJ_RESOURCE_UPDATED")+'<br/><a href="'+j(b,c)+'">'+l.instant("PLGN_ADJ_SEE_NEW_DEPLOYMENT")+"</a>",scope:a})},r=function(a){k.addError({status:l.instant("PLGN_ADJ_DEPLOYMENT_FAILED"),message:l.instant("PLGN_ADJ_RESOURCE_NOT_UPDATED")+a.message,exclusive:!0})};b.ok=function(){b.status="LOADING";var d="cockpit",e=a.resource,g={"deployment-name":b.deploymentName,"deployment-source":d};m.tenantId&&(g["tenant-id"]=m.tenantId),h(i.appUri("engine://engine/:engine/deployment/create"),{file:e,content:f},g).then(function(a){n.push(function(){q(a,e)}),c.close(a)})["catch"](function(a){r(a)})},b.cancel=function(){o=null,c.dismiss("cancel")},b.back=function(){c.dismiss("back")}}];a.leaveEditMode=function(){var a=g.search()||{};delete a.editMode,j.updateSilently(a)},a.enterEditMode=function(){var a=g.search()||{};a.editMode="true",j.updateSilently(a)},a.openEditDialog=function(b){n=!0;var e=d.open({templateUrl:c.element("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/adjustment/modalTemplate.html",controller:t,windowClass:"edit-dmn-modal",size:"lg",resolve:{dmnXml:function(){return b}}});e.result.then(function(b){p&&p.getViewer().destroy(),a.openConfirmDialog(b)},function(){n=!1,a.leaveEditMode()})},a.openConfirmDialog=function(c){var f=d.open({template:e,controller:u,windowClass:"confirm-dmn-modal",size:"lg",resolve:{dmnXml:function(){return c}}});f.result.then(function(){n=!1,a.leaveEditMode(),b.$broadcast("cam-common:cam-searchable:query-force-change")},function(b){p.getViewer().destroy(),"back"===b?a.openEditDialog(c):(n=!1,a.leaveEditMode())})}}],g=function(a){a.registerDefaultView("cockpit.repository.resource.action",{id:"edit-resource",controller:f,template:d,priority:300})};g.$inject=["ViewsProvider"],b.exports=g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(a,b,c){"use strict";var d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/adjustment/app/decision/deleteActionTemplate.html -->\n<a class="btn btn-default btn-toolbar"\n   ng-click="openBatch()"\n   href=""\n   tooltip="{{ \'PLGN_ADJ_DELETE_DECISION_INSTANCES\' | translate }}"\n   tooltip-placement="left">\n  <span class="glyphicon glyphicon-remove"></span>\n</a>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/adjustment/app/decision/deleteActionTemplate.html -->\n',e=["$scope","$location",function(a,b){var c=function(a){var c=b.search().searchQuery,d=JSON.parse(c),e=d.map(function(a){return"decisionInstanceId"===a.type&&(a.type="decisionInstanceIdIn",a.operator="In"),"activityIdIn"!==a.type&&"activityInstanceIdIn"!==a.type||(a.operator="In"),a}).concat({type:"decisionDefinitionIdIn",operator:"In",value:a.id,name:""});return JSON.stringify(e)};a.openBatch=function(){b.path("/batch/operation").search({batchSearchQuery:c(a.decisionDefinition),operation:"DELETE_DECISION_HISTORY"})}}],f=function(a){a.registerDefaultView("cockpit.decisionDefinition.action",{id:"delete-resource",controller:e,template:d,priority:190})};f.$inject=["ViewsProvider"],b.exports=f},{}],18:[function(a,b,c){"use strict";var d='<!-- EE # webapps/camunda-webapp/plugins/src/main/resources-plugin/adjustment/app/decision/editActionTemplate.html -->\n<a class="btn btn-default btn-toolbar"\n   ng-href="{{editModeUrl()}}"\n   tooltip="{{ \'PLGN_ADJ_ENTER_EDIT\' | translate }}"\n   tooltip-placement="left">\n  <span class="glyphicon glyphicon-pencil"></span>\n</a>\n<!-- EE / webapps/camunda-webapp/plugins/src/main/resources-plugin/adjustment/app/decision/editActionTemplate.html -->\n',e=["$scope","routeUtil",function(a,b){a.editModeUrl=function(){var c="#/repository",d=a.decisionDefinition.deploymentId,e=a.decisionDefinition.resource,f={deployment:d,resourceName:e,editMode:"true",deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:d}])};return b.redirectTo(c,f,["deployment","resourceName","deploymentsQuery","editMode"])}}],f=function(a){a.registerDefaultView("cockpit.decisionDefinition.action",{id:"edit-resource",controller:e,template:d,priority:200})};f.$inject=["ViewsProvider"],b.exports=f},{}],19:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e="undefined"!=typeof window?window["cam-common"]:"undefined"!=typeof c?c["cam-common"]:null,f=a("./actions/editAction"),g=a("./decision/editAction"),h=a("./decision/deleteAction"),i=d.module("cockpit.plugin.adjustment",[e.name]);i.config(f),i.config(g),i.config(h),b.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./actions/editAction":16,"./decision/deleteAction":17,"./decision/editAction":18}],20:[function(a,b,c){"use strict";var d=function(a,b,c,d){this.eventBus=a,this.operationComponent=b,this.getDelegate=c,this.sdk=d,this.method="POST",this.payload={},this.async=!0,this.skipIoMappings=!0;var e=this;this.eventBus.on("tab.changed",function(a){"confirm"===a&&e.buildPayload()})};d.prototype.getRequestURI=function(){var a="";if(this.operationComponent.operation){var b=this.operationComponent.operation.value,c=this.operationComponent.operationActionMapping[b];a=this.sdk.config.apiUri+this.sdk.resource(c.resource).path+c.action}return a},d.prototype.buildPayload=function(){var a=this,b={};if(this.operationComponent.operation){var c=this.operationComponent.operation.value,d=this.operationComponent.operationActionMapping[c],e=this.operationComponent.operation.checkboxes;if(a.getDelegate().selectedInstances.length)b[d.ids]=a.getDelegate().selectedInstances;else{var f=a.getDelegate().search.getParams();b[d.query]=f}this.operationComponent.operation.addition&&(b[this.operationComponent.operation.addition.payload]=this.operationComponent.operation.addition.value);var g=this.operationComponent.operation.staticPayload;g&&Object.keys(g).forEach(function(a){b[a]=g[a]}),e&&e.forEach(function(a){b[a.field]=a.value})}a.payload=b},b.exports=d},{}],21:[function(a,b,c){"use strict";var d=function(a,b,c,d){this.eventBus=a,this.operationComponent=b,this.confirmationComponent=c,this.$translate=d,this.status="",this.error=null,this.failedInstructions=[];var e=this;this.eventBus.on("batch.operation.execute",function(){e.batchId=null,e.statusIcon="glyphicon-refresh animate-spin",e.status=e.$translate.instant("PLGN_BTCH_INSTANCES_PROCESSED");var b=e.confirmationComponent.payload,c=e.operationComponent.operationManager;e.eventBus.emit("batch.operation.started");var d=function(c,d){c?(e.error=JSON.parse(c.response.text),e.status=e.$translate.instant("PLGN_BTCH_OPERATION_FAILED")+c.message,e.statusIcon="glyphicon-warning-sign text-danger",a.emit("batch.operation.failed",c.message)):(e.error=null,e.statusIcon="glyphicon-ok text-success",d.id?(e.status=e.$translate.instant("PLGN_BTCH_OPERATION_EXECUTED",{id:d.id}),e.batchId=d.id):e.status=e.$translate.instant("PLGN_BTCH_OPERATION_FINISHED"),a.emit("batch.operation.finished",b))};c.performAsync(b,d)})};d.prototype._calculateFailedInstructions=function(){var a=[];return a},d.prototype.hasError=function(){return!!this.error},d.prototype.getErrorMessage=function(){return this.error.message},d.prototype.getFailedInstanceId=function(){return this.error.validationReport.processInstanceId},d.prototype.getFailedInstructions=function(){return this.failedInstructions},b.exports=d},{}],22:[function(a,b,c){"use strict";var d=a("../../../../../common/batch/instancesList"),e=function(a,b,c,e,f){this.delegate=new d(b,c,e,f,this),this.forcedSearch=f.forcedSearch,this.instanceType=a};e.prototype.onSortInitialized=function(a){this.sorting=a},e.prototype.onSortChanged=function(a){this.sorting=a,this.updatePage()},e.prototype.getDelegate=function(){return this.delegate},e.prototype.getSearchTypes=function(){return this.delegate.search.types},e.prototype.hasQueryOrInstances=function(){return this.selectedInstances.length>0||this.instancesCount>0},e.prototype.updateInstances=function(a){this.delegate.instances="process"!==this.instanceType?a:a.map(function(a){return a.defLabel=a.processDefinitionKey+" ("+a.processDefinitionVersion+")",a})},e.prototype.updatePage=function(a){var b=this;this.delegate.selectAll=!1;var c=b.delegate.api.resource("history"),d=b.delegate.api.resource("incident"),e="PI";this.delegate.search.searches.length>0&&(e=this.delegate.search.searches[0].type.value.key.substr(0,2)),a&&(this.delegate.currentPage=1,this.delegate.selectedInstances=[],this.delegate.applySelection());var f=this.delegate.search.getParams();f.sortOrder=this.sorting.sortOrder,f.firstResult=(this.delegate.currentPage-1)*b.delegate.pageSize,f.maxResults=this.delegate.pageSize,this.forcedSearch&&(f[this.forcedSearch.type]=this.forcedSearch.value);var g=JSON.stringify(f);if(this.delegate.currentParams!==g){this.delegate.currentParams=g,this.delegate.loadingState="LOADING";var h=function(){null!==b.delegate.instances&&null!==b.delegate.instancesCount&&(b.delegate.loadingState="LOADED",0===b.delegate.instancesCount&&(b.delegate.loadingState="EMPTY"),b.delegate.eventBus.emit("instanceList.updated"),b.delegate.eventBus.emit("state.updated"))};b.delegate.instances=b.delegate.instancesCount=null,"decision"===this.instanceType?(f.sortBy=this.sorting.sortBy,c.decisionInstance(f,function(a,c){b.updateInstances(c),b.delegate.applySelection(),h()}),c.decisionInstanceCount(f,function(a,c){c&&(b.delegate.instancesCount=c.count),h()})):"PI"===e?(f.sortBy=this.sorting.sortBy,c.processInstance(f,function(a,c){b.updateInstances(c),b.delegate.applySelection(),h()}),c.processInstanceCount(f,function(a,c){c&&(b.delegate.instancesCount=c.count),h()})):"IN"===e&&(f.sortBy="incidentTimestamp",d.count(f,function(a,c){return c&&c.count?(b.delegate.instancesCount=c.count,void d.get(f,function(a,c){b.updateInstances(c),b.delegate.loadingState="LOADED"})):(b.delegate.incidents=[],void(b.delegate.loadingState="EMPTY"))}))}},b.exports=e},{"../../../../../common/batch/instancesList":81}],23:[function(a,b,c){"use strict";var d=a("./operationManager"),e=function(a,b,c,e){var f=this;f.location=c,f.eventBus=b,f.activateTab("definition"),f.$translate=e;var g=window.camCockpitConf&&window.camCockpitConf.skipCustomListeners||{};f.skipCustomListeners={"default":"boolean"!=typeof g["default"]||g["default"],hidden:"boolean"==typeof g.hidden&&g.hidden},f.actions=f.getActions(),f.hasValidOperation=!1,f.setOperationFromUrl(),f.isAsync=!1,f.operationManager=new d(a,this),f.operationActionMapping={DELETE_RUNTIME:{resource:"process-instance",action:"/delete-historic-query-based","function":"deleteAsyncHistoricQueryBased",query:"historicProcessInstanceQuery",ids:"processInstanceIds"},DELETE_HISTORY:{resource:"history",action:"/process-instance/delete","function":"deleteProcessInstancesAsync",query:"historicProcessInstanceQuery",ids:"historicProcessInstanceIds"},DELETE_DECISION_HISTORY:{resource:"history",action:"/decision-instance/delete","function":"deleteDecisionInstancesAsync",query:"historicDecisionInstanceQuery",ids:"historicDecisionInstanceIds"},SET_RETRIES:{resource:"process-instance",action:"/job-retries-historic-query-based","function":"setJobsRetriesAsyncHistoricQueryBased",query:"historicProcessInstanceQuery",ids:"processInstances"},SUSPEND:{resource:"process-instance",action:"/suspended-async","function":"suspendAsync",query:"historicProcessInstanceQuery",ids:"processInstanceIds"},ACTIVATE:{resource:"process-instance",action:"/suspended-async","function":"suspendAsync",query:"historicProcessInstanceQuery",ids:"processInstanceIds"},RETRY_EXTERNAL:{resource:"external-task",action:"/retries-async","function":"retriesAsync",query:"historicProcessInstanceQuery",ids:"processInstanceIds"}},f.updateOperation()};e.prototype.initOperation=function(){var a=null,b=this;return this.location&&this.location.search&&this.location.search()&&this.location.search().operation&&this.actions.forEach(function(c){c.value===b.location.search().operation&&(a=c)}),a},e.prototype.setOperationFromUrl=function(){this.operation=this.initOperation()},e.prototype.activateTab=function(a){this.pageContentId=a,this.eventBus.emit("tab.changed",a)},e.prototype.getPageContentId=function(){return this.pageContentId},e.prototype.toggleAsync=function(){return this.isAsync=!this.isAsync},e.prototype.getActions=function(){return[{name:this.$translate.instant("PLGN_BTCH_DEL_RUN_PROCINST"),value:"DELETE_RUNTIME",sentenceLabel:this.$translate.instant("PLGN_BTCH_DEL_RUN_PROCINST_DELETE"),passiveLabel:this.$translate.instant("PLGN_BTCH_DEL_RUN_PROCINST_DELETED"),instanceType:"process",addition:{validation:/^.*$/,label:this.$translate.instant("PLGN_BTCH_DEL_RUN_PROCINST_DELETE_REASON"),placeholder:this.$translate.instant("PLGN_BTCH_DEL_RUN_PROCINST_WHY"),payload:"deleteReason"},search:{title:this.$translate.instant("PLGN_BTCH_DEL_RUN_PROCINST_SEARCH"),info:{prefix:this.$translate.instant("PLGN_BTCH_DEL_RUN_PROCINST_SEARCH_PLEASE_NOTE"),emphasis:this.$translate.instant("PLGN_BTCH_DEL_RUN_PROCINST_RUNNING"),suffix:this.$translate.instant("PLGN_BTCH_DEL_RUN_PROCINST_CAN_DELETED")}},checkboxes:[{field:"skipCustomListeners",value:this.skipCustomListeners["default"],hidden:this.skipCustomListeners.hidden,label:this.$translate.instant("PLGN_BTCH_DEL_RUN_PROCINST_SKIP_CUSTOM_LISTENERS"),tooltip:this.$translate.instant("PLGN_BTCH_DEL_RUN_PROCINST_SKIP_CUSTOM_LISTENERS_TOOLTIP")}]},{name:this.$translate.instant("PLGN_BTCH_DEL_FIN_PROCINST"),value:"DELETE_HISTORY",sentenceLabel:this.$translate.instant("PLGN_BTCH_DEL_FIN_PROCINST_DELETE"),passiveLabel:this.$translate.instant("PLGN_BTCH_DEL_FIN_PROCINST_DELETED"),instanceType:"process",search:{title:this.$translate.instant("PLGN_BTCH_DEL_FIN_PROCINST_SEARCH"),info:{prefix:this.$translate.instant("PLGN_BTCH_DEL_FIN_PROCINST_SEARCH_PLEASE_NOTE"),emphasis:this.$translate.instant("PLGN_BTCH_DEL_FIN_PROCINST_SEARCH_FINISHED"),suffix:this.$translate.instant("PLGN_BTCH_DEL_FIN_PROCINST_CAN_DELETED")}}},{name:this.$translate.instant("PLGN_BTCH_DEL_DECINST"),value:"DELETE_DECISION_HISTORY",sentenceLabel:this.$translate.instant("PLGN_BTCH_DEL_DECINST_DELETE"),passiveLabel:this.$translate.instant("PLGN_BTCH_DEL_DECINST_DELETED"),instanceType:"decision",addition:{validation:/^.*$/,label:this.$translate.instant("PLGN_BTCH_DEL_DECINST_DELETE_REASON"),placeholder:this.$translate.instant("PLGN_BTCH_DEL_DECINST_WHY"),payload:"deleteReason"
},search:{title:this.$translate.instant("PLGN_BTCH_DEL_DECINST_SEARCH")}},{name:this.$translate.instant("PLGN_BTCH_SET_RET"),value:"SET_RETRIES",sentenceLabel:this.$translate.instant("PLGN_BTCH_SET_RET_RETRY"),passiveLabel:this.$translate.instant("PLGN_BTCH_SET_RET_RETRIED"),instanceType:"process",addition:{label:this.$translate.instant("PLGN_BTCH_SET_RET_RETRIES"),placeholder:this.$translate.instant("PLGN_BTCH_SET_RET_NOT_NEGATIVE"),payload:"retries",required:!0,requiredErrorMessage:this.$translate.instant("PLGN_BTCH_SET_RET_PROVIDE_VALUE"),validation:/^\d*[0-9]\d*$/,validationErrorMessage:this.$translate.instant("PLGN_BTCH_SET_RET_PROVIDE_NON_NEGATIVE_VALUE")},search:{title:this.$translate.instant("PLGN_BTCH_SET_RET_SEARCH"),info:{prefix:this.$translate.instant("PLGN_BTCH_SET_RET_PLEASE_NOTE"),emphasis:this.$translate.instant("PLGN_BTCH_SET_RET_RUNNING"),suffix:this.$translate.instant("PLGN_BTCH_SET_RET_PROCESS_INSTANCES")}}},{name:this.$translate.instant("PLGN_BTCH_SET_RET_EXT"),value:"RETRY_EXTERNAL",sentenceLabel:this.$translate.instant("PLGN_BTCH_SET_RET_EXT_RETRY"),passiveLabel:this.$translate.instant("PLGN_BTCH_SET_RET_EXT_RETRIED"),instanceType:"process",addition:{label:this.$translate.instant("PLGN_BTCH_SET_RET_EXT_RETRIES"),placeholder:this.$translate.instant("PLGN_BTCH_SET_RET_EXT_NOT_NEGATIVE"),payload:"retries",required:!0,requiredErrorMessage:this.$translate.instant("PLGN_BTCH_SET_RET_EXT_PROVIDE_VALUE"),validation:/^\d*[0-9]\d*$/,validationErrorMessage:this.$translate.instant("PLGN_BTCH_SET_RET_EXT_PROVIDE_NON_NEGATIVE_VALUE")},search:{title:this.$translate.instant("PLGN_BTCH_SET_RET_EXT_SEARCH"),info:{prefix:this.$translate.instant("PLGN_BTCH_SET_RET_EXT_SEARCH_PLEASE_NOTE"),emphasis:this.$translate.instant("PLGN_BTCH_SET_RET_EXT_SEARCH_RUNNING"),suffix:this.$translate.instant("PLGN_BTCH_SET_RET_EXT_SEARCH_PROCESS_INSTANCES")}}},{name:this.$translate.instant("PLGN_BTCH_SUSPEND"),value:"SUSPEND",sentenceLabel:this.$translate.instant("PLGN_BTCH_SUSPEND_SUSPEND"),passiveLabel:this.$translate.instant("PLGN_BTCH_SUSPEND_SUSPENDED"),instanceType:"process",search:{title:this.$translate.instant("PLGN_BTCH_SUSPEND_SEARCH"),info:{prefix:this.$translate.instant("PLGN_BTCH_SUSPEND_SEARCH_PLEASE_NOTE"),emphasis:this.$translate.instant("PLGN_BTCH_SUSPEND_SEARCH_RUNNING"),suffix:this.$translate.instant("PLGN_BTCH_SUSPEND_SEARCH_PROCESS_INSTANCES")}},staticPayload:{suspended:!0}},{name:this.$translate.instant("PLGN_BTCH_ACTIVATE"),value:"ACTIVATE",sentenceLabel:this.$translate.instant("PLGN_BTCH_ACTIVATE_ACTIVATE"),passiveLabel:this.$translate.instant("PLGN_BTCH_ACTIVATE_ACTIVATED"),instanceType:"process",search:{title:this.$translate.instant("PLGN_BTCH_ACTIVATE_SEARCH"),info:{prefix:this.$translate.instant("PLGN_BTCH_ACTIVATE_SEARCH_PLEASE_NOTE"),emphasis:this.$translate.instant("PLGN_BTCH_ACTIVATE_SEARCH_SUSPENDED"),suffix:this.$translate.instant("PLGN_BTCH_ACTIVATE_SEARCH_PROCESS_INSTANCES")}},staticPayload:{suspended:!1}}]},e.prototype.getActionsSentenceLabel=function(){return self.operation.sentenceLabel},e.prototype.updateOperation=function(){if(this.location&&this.location.search){var a=this.location.search();a.operation=this.operation?this.operation.value:null,this.location.search(a),this.location.replace()}var b=!!this.operation,c=!0,d=!0;b&&this.operation.addition&&this.operation.addition.required&&(c=!!this.operation.addition.value),b&&this.operation.addition&&this.operation.addition.validation&&(d=this.operation.addition.validation.test(this.operation.addition.value)),this.hasValidOperation=b&&c&&d,this.eventBus.emit("batch.operation.changed",this.operation)},e.prototype.execute=function(){this.eventBus.emit("batch.operation.execute"),this.activateTab("progress")},b.exports=e},{"./operationManager":24}],24:[function(a,b,c){"use strict";var d=function(a,b){this.sdk=a,this.operationComponent=b};d.prototype.performAsync=function(a,b){if(this.operationComponent.operation){var c=this.operationComponent.operation.value,d=this.operationComponent.operationActionMapping[c];this.sdk.resource(d.resource)[d["function"]](a,b)}},b.exports=d},{}],25:[function(a,b,c){(function(c){"use strict";var d={process:JSON.parse('{\n  "types": [\n\n    {\n      "id": {\n        "key": "PIprocessInstanceIds",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIprocessInstanceBusinessKey",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_BUSINESS_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "like"\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {  "id": {\n        "key": "PIactiveActivityIdIn",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_ACTIVE_ACTIVITY_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIsuperProcessInstanceId",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_PARENT_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIsubProcessInstanceId",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_SUB_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIcaseInstanceId",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_CASE_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIprocessDefinitionId",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIprocessDefinitionKey",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "NotIn",\n          "value": "!="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIprocessDefinitionName",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_DEFINITION_NAME"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "like"\n        }\n      ],\n      "groups": ["PI"],\n      "default": true\n    },\n    {  "id": {\n        "key": "PIexecutedActivityIdIn",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_EXECUTED_ACTIVITY_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIstartedBy",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_STARTED_BY_USER"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIstartedDate",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_START_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_BATCH_SEARCH_CONFIG_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_BATCH_SEARCH_CONFIG_AFTER"\n        }\n      ],\n      "groups": ["PI"],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "PIfinishedDate",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_FINISH_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_BATCH_SEARCH_CONFIG_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_BATCH_SEARCH_CONFIG_AFTER"\n        }\n      ],\n      "groups": ["PI"],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "PIfinished",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_FINISHED_ONLY"\n      },\n      "groups": ["PI"],\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "PIunfinished",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_UNFINISHED_ONLY"\n      },\n      "groups": ["PI"],\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "PIwithIncidents",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_WITH_INCIDENTS_ONLY"\n      },\n      "groups": ["PI"],\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "PIwithRootIncidents",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_WITH_ROOT_INCIDENTS_ONLY"\n      },\n      "groups": ["PI"],\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "PIincidentMessage",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_INCIDENT_MESSAGE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "PLGN_BATCH_SEARCH_CONFIG_LIKE"\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIvariables",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_VARIABLE"\n      },\n      "allowDates": true,\n      "extended": true,\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIincidentStatus",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_INCIDENT"\n      },\n      "options": ["open", "resolved"],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIincidentType",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_INCIDENT_TYPE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIexecutedJobDate",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_JOB_EXECUTION_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_BATCH_SEARCH_CONFIG_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_BATCH_SEARCH_CONFIG_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true,\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIexecutedActivityDate",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_ACTIVITY_EXECUTION_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_BATCH_SEARCH_CONFIG_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_BATCH_SEARCH_CONFIG_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true,\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PItenantIdIn",\n        "value": "PLGN_BATCH_SEARCH_TYPE_TENANT_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIwithoutTenantId",\n        "value": "PLGN_BATCH_SEARCH_TYPE_WITHOUT_TENANT_ID"\n      },\n      "basic": true,\n      "groups": ["PI"]\n    }\n  ],\n  "operators": {\n    "undefined":  [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_LIKE"\n      }\n    ],\n    "string":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_LIKE"\n      }\n    ],\n    "number":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      }\n    ],\n    "boolean":    [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      }\n    ],\n    "object":     [{\n      "key": "eq",\n      "value": "="\n    },\n      {\n        "key": "neq",\n        "value": "!="\n      }],\n    "date":     [{\n      "key": "lteq",\n      "value": "PLGN_BATCH_SEARCH_CONFIG_BEFORE"\n    },\n      {\n        "key": "gteq",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_AFTER"\n      }]\n  },\n  "tooltips": {\n    "inputPlaceholder": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_ADD_CRITERIA",\n    "invalid": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_NOT_VALID",\n    "deleteSearch": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_REMOVE_SEARCH",\n    "type": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_TYPE",\n    "name": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_PROPERTY",\n    "operator": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_OPERATOR",\n    "value": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_VALUE"\n  },\n  "operationEvent": "batch.operation",\n  "arrayTypes": ["variables", "processInstanceIds", "activityIdIn","tenantIdIn","executedActivityIdIn", "activeActivityIdIn", "processDefinitionKeyNotIn"],\n  "nonSanitizedTypes": ["PIvariables"],\n  "withPrefix": true\n}\n'),decision:JSON.parse('{\n  "types": [\n    {\n      "id": {\n        "key": "decisionInstanceIdIn",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_DECISION_ID"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "decisionDefinitionIdIn",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_DECISION_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "decisionDefinitionKeyIn",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_DECISION_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "decisionDefinitionName",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_DECISION_DEFINITION_NAME"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "like"\n        }\n      ],\n      "default": true\n    },\n    {\n      "id": {\n        "key": "processDefinitionId",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_PROCESS_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processDefinitionKey",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_PROCESS_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processInstanceId",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_PROCESS_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseDefinitionId",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_CASE_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseDefinitionKey",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_CASE_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseInstanceId",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_CASE_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "activityIdIn",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_ACTIVE_ACTIVITY_ID"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "activityInstanceIdIn",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_ACTIVITY_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "tenantIdIn",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_TENANT_ID"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "evaluatedDate",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_EVALUATION_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "before"\n        },\n        {\n          "key": "After",\n          "value": "after"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "userId",\n        "value": "User: ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "rootDecisionInstanceId",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_ROOT_DECISION_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "rootDecisionInstancesOnly",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_ROOT_DECISION_INSTANCE_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "decisionRequirementsDefinitionId",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_DRD_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "decisionRequirementsDefinitionKey",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_DRD_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    }\n  ],\n  "operators": {\n    "undefined": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "like"\n      }\n    ],\n    "string": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "like"\n      }\n    ],\n    "number": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      }\n    ],\n    "boolean": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      }\n    ],\n    "object": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      }\n    ],\n    "date": [\n      {\n        "key": "lteq",\n        "value": "before"\n      },\n      {\n        "key": "gteq",\n        "value": "after"\n      }\n    ]\n  },\n  "nonSanitizedTypes": [],\n  "arrayTypes": ["decisionInstanceIdIn", "decisionDefinitionIdIn", "decisionDefinitionKeyIn","activityIdIn","activityInstanceIdIn", "tenantIdIn"],\n  "tooltips": {\n    "inputPlaceholder": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_ADD_CRITERIA",\n    "invalid": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_NOT_VALID",\n    "deleteSearch": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_REMOVE_SEARCH",\n    "type": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_TYPE",\n    "name": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_PROPERTY",\n    "operator": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_OPERATOR",\n    "value": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_VALUE"\n  }\n}\n')},e=a("../components/operationComponent"),f=a("../components/confirmationComponent"),g=a("../components/executionComponent"),h=a("../components/instancesList"),i="undefined"!=typeof window?window.events:"undefined"!=typeof c?c.events:null;b.exports=["$scope","page","camAPI","$location","$translate","configuration",function(a,b,c,j,k,l){function m(a){return JSON.stringify([{type:"caseActivityIdIn",operator:"eq",value:a.activityId}])}var n,o=l.getBatchOperationMode(),p=a.$root;p.showBreadcrumbs=!0,b.breadcrumbsClear(),b.breadcrumbsAdd({label:k.instant("PLGN_BATCH_TITLE")}),b.titleSet(k.instant("PLGN_BATCH_TITLE"));var q=new i;q.on("state.updated",function(){var b=a.$root.$$phase;"$apply"!==b&&"$digest"!==b&&a.$apply()}),a.$on("$destroy",function(){q.removeAllListeners()}),j.search().batchSearchQuery&&(j.search("searchQuery",j.search().batchSearchQuery),j.search("batchSearchQuery",null)),a.ctrl=new e(c,q,j,k),a.currentOperation=a.ctrl.operation,a.instanceType=!a.currentOperation&&"process"||a.currentOperation.instanceType;var r=function(a){return Object.keys(a).reduce(function(b,c){return b[c]=k.instant(a[c]),b},{})},s=function(a){return a.map(function(a){return a.id.value=k.instant(a.id.value),a.operators&&(a.operators=a.operators.map(function(a){return a.value=k.instant(a.value),a})),a})};d.process.tooltips=r(d.process.tooltips),d.process.types=s(d.process.types),d.decision.tooltips=r(d.decision.tooltips),d.decision.types=s(d.decision.types);var t={process:new h("process",q,a.ctrl,c,d.process),decision:new h("decision",q,a.ctrl,c,d.decision)};a.instancesCtrl=t[a.instanceType],a.getCurrentDelegate=function(){var b=null;return a.instancesCtrl&&(b=a.instancesCtrl.delegate),b},a.getInstanceLink=function(a){return a.processInstanceId?"#/process-instance/"+a.processInstanceId+"/history?activityInstanceIds="+a.activityInstanceId+"&activityIds="+a.activityId:a.caseInstanceId?"#/case-instance/"+a.caseInstanceId+"?searchQuery="+m(a):""},a.getDefinitionLink=function(a){return a.processDefinitionId?"#/process-definition/"+a.processDefinitionId+"/history":a.caseDefinitionId?"#/case-definition/"+a.caseDefinitionId+"?searchQuery="+m(a):""},a.handleOperationChange=function(b){var c=b&&b.instanceType||a.instanceType;c!==a.instanceType&&(a.currentOperation=a.ctrl.operation,a.instanceType=c,a.instancesCtrl=t[c],a.instancesCtrl.delegate.search.searches=[],n&&n())},a.confirmCtrl=new f(q,a.ctrl,a.getCurrentDelegate,c),a.executionCtrl=new g(q,a.ctrl,a.confirmCtrl,k),q.on("batch.operation.changed",a.handleOperationChange);var u=!1,v=function(b){if(u&&a.instancesCtrl){var c=a.instancesCtrl.getDelegate();"filter"===o?c.loadInstances():"search"===o&&(b&&b.length>0?c.loadInstances():c.reset())}else u=!0};a.onSortInitialized=function(b){a.instancesCtrl.onSortInitialized(b),n=a.$watch("instancesCtrl.getDelegate().search.searches",v)},a.$on("$locationChangeSuccess",function(){a.ctrl.setOperationFromUrl(),a.currentOperation=a.ctrl.operation,a.instanceType=!a.currentOperation&&"process"||a.currentOperation.instanceType,a.instancesCtrl=t[a.instanceType]})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/confirmationComponent":20,"../components/executionComponent":21,"../components/instancesList":22,"../components/operationComponent":23}],26:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=d.module("cockpit.plugin.batch.operation.page",[]);e.controller("batchOperationCtrl",a("./controllers/operation")),e.config(a("./routeConfig")),b.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./controllers/operation":25,"./routeConfig":27}],27:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.jquery:"undefined"!=typeof a?a.jquery:null;b.exports=["ViewsProvider","$routeProvider",function(a,b){b.when("/batch/operation",{templateUrl:c("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/batch/operation/index.html",authentication:"required",reloadOnSearch:!1})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],28:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./plugins/main"),f=a("./page/index");b.exports=d.module("cockpit.plugin.batch.operation",[f.name,e.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./page/index":26,"./plugins/main":30}],29:[function(a,b,c){"use strict";b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.navigation",{id:"batch_operation",label:"PLGN_BATCH_LABEL",template:"<!-- nothing to show, but needed -->",pagePath:"#/batch/operation",checkActive:function(a){return a.indexOf("#/batch/operation")>-1},controller:[function(){}],priority:-10})}]},{}],30:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./dashboard/batch_operation"),f=d.module("cockpit.plugin.batch.operation.plugins",[]);f.config(e),b.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./dashboard/batch_operation":29}],31:[function(a,b,c){(function(a){"use strict";function c(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(b(d))return d}}function d(a,b){var c=[];return f(a,function(a){b(a)&&c.push(a)}),c}function e(a,b){return d(a,function(a){return b.indexOf(a)===-1})}var f=("undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null).forEach,g=function(a,b){this.$location=a,this.search=b,this.selection=[],this.control={}};g.prototype._getSearches=function(){var a=this.$location;return JSON.parse((a.search()||{}).searchQuery||"[]")},g.prototype.initSelection=function(){for(var a=this._getSearches(),b=this.control,c=this.selection;this.selection[0];)this.selection.splice(0,1);f(a,function(a){if("caseActivityIdIn"===a.type){var d=b.getElement(a.value);d&&c.push(d)}})},g.prototype.updateSearches=function(a,b){function g(a,b){return c(b,function(b){return a.value===b.id})}function h(a){return d(a,function(a){return"caseActivityIdIn"===a.type})}var i=this._getSearches(),j=e(b,a),k=h(i);f(k,function(a){g(a,j)&&i.splice(i.indexOf(a),1)});var l=e(a,b);f(l,function(a){i.push({type:"caseActivityIdIn",operator:"eq",value:a.id})}),this.search.updateSilently({searchQuery:JSON.stringify(i),page:void 0})},b.exports=g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],32:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.jquery:"undefined"!=typeof a?a.jquery:null,d=["$scope","Views","page","$translate",function(a,b,c,d){var e=a.$root;e.showBreadcrumbs=!0,c.breadcrumbsClear(),c.breadcrumbsAdd({label:d.instant("PLGN_CS_CASES")}),c.titleSet(d.instant("PLGN_CS_CASES")),a.plugins=b.getProviders({component:"cockpit.cases.dashboard"})}],e=["$routeProvider",function(a){a.when("/cases",{templateUrl:c("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/case/cases.html",controller:d,authentication:"required",reloadOnSearch:!1})}];b.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],33:[function(a,b,c){"use strict";b.exports=function(a,b,c,d){b.showBreadcrumbs=!0,a.breadcrumbsClear(),a.breadcrumbsAdd([{label:d.instant("PLGN_CS_CASES"),href:"#/cases"},{type:"caseDefinition",label:c.name||c.key||c.id,href:"#/case-definition/"+c.id}]),a.titleSet([c.name||c.key||c.id,d.instant("PLGN_CS_CASE_DEFINITION_VIEW")].join(" | "))}},{}],34:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.jquery:"undefined"!=typeof c?c.jquery:null,e=a("../components/diagram-interaction"),f=["$location","$scope","$timeout","caseDefinition","page","search","$translate",function(b,c,d,f,g,h,i){c.caseDefinition=f,c.keepSearchValues=["caseActivityIdIn"],a("./breadcrumbs")(g,c.$root,f,i);var j=c.diagramInteraction=new e(b,h),k=!1,l=!1,m=c.onDiagramLoad=function(){k=!0,j.initSelection(),d(function(){k=!1})};c.$on("$locationChangeSuccess",function(){l||m()}),c.$watchCollection("diagramInteraction.selection",function(a,b){a===b||k||(l=!0,j.updateSearches(a,b),d(function(){l=!1}))})}];b.exports=["$routeProvider",function(a){a.when("/case-definition/:id",{templateUrl:d("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/case/definition.html",controller:f,authentication:"required",resolve:{caseDefinition:["ResourceResolver","camAPI","$q",function(a,b,c){return a.getByRouteParam("id",{name:"case definition",resolve:function(a){var d=c.defer(),e=b.resource("case-definition");return e.get(a,function(a,b){a?d.reject(a):d.resolve(b)}),d.promise}})}]},reloadOnSearch:!1})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/diagram-interaction":31,"./breadcrumbs":33}],35:[function(a,b,c){(function(c){"use strict";var d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/case/app/pages/definition/directives/definition-details.html -->\n<dl class="process-information" cam-hover-area>\n\n  <dt>{{ \'PLGN_CS_DEFINITION_VERSION\' | translate }}</dt>\n  <dd class="definition-version">\n    <span ng-if="!definitions.$loaded"\n          class="glyphicon glyphicon-refresh animate-spin"></span>\n\n    <div class="dropdown"\n         ng-if="definitions.$loaded && definitions.all.length > 1">\n      <a href\n         class="dropdown-toggle">\n        {{ definition.version }}\n        <span class="caret"></span>\n      </a>\n\n      <ul class="dropdown-menu">\n        <li ng-repeat="def in definitions.all">\n          <a ng-href="#/case-definition/{{ def.id }}">\n            {{ def.version }}\n          </a>\n        </li>\n      </ul>\n    </div>\n\n    <span ng-if="definitions.$loaded && definitions.all.length < 2">\n      {{ definition.version }}\n    </span>\n  </dd>\n\n\n  <dt cam-widget-clipboard="definition.id"\n      ng-class="{hovered: hovered === \'definition-id\'}">{{ \'PLGN_CS_DEFINITION_ID\' | translate }}</dt>\n  <dd class="definition-id"\n      ng-mouseenter="hoverTitle(\'definition-id\')"\n      ng-mouseleave="hoverTitle()">{{ definition.id }}</dd>\n\n\n  <dt cam-widget-clipboard="definition.key"\n      ng-class="{hovered: hovered === \'definition-key\'}">{{ \'PLGN_CS_DEFINITION_KEY\' | translate }}</dt>\n  <dd class="definition-key"\n      ng-mouseenter="hoverTitle(\'definition-key\')"\n      ng-mouseleave="hoverTitle()">{{ definition.key }}</dd>\n\n\n  <dt>{{ \'PLGN_CS_DEFINITION_NAME\' | translate }}</dt>\n  <dd ng-if="definition.name && definition.name !== definition.key"\n      class="definition-name">{{ definition.name }}</dd>\n  <dd ng-if="!definition.name || definition.name === definition.key"\n      class="definition-name"><span class="null-value">{{ \'PLGN_CS_NULL\' | translate }}</span></dd>\n\n  <dt cam-widget-clipboard="definition.historyTimeToLive"\n      cam-hoverable-title="history-time-to-live">\n    {{ \'PLGN_CS_TTL\' | translate }}\n  </dt>\n  <dd class="history-time-to-live" cam-hover-trigger="history-time-to-live">\n    <span time-to-live="definition" resource="case-definition"></span>\n  </dd>\n\n  <dt ng-if="definition.tenantId"\n      cam-widget-clipboard="definition.tenantId"\n      ng-class="{hovered: hovered === \'tenant-id\'}">{{ \'PLGN_CS_TENANT_ID\' | translate }}</dt>\n  <dd class="tenant-id"\n      ng-if="definition.tenantId"\n      ng-mouseenter="hoverTitle(\'tenant-id\')"\n      ng-mouseleave="hoverTitle()">{{ definition.tenantId }}</dd>\n  <dt ng-if="!definition.tenantId">{{ \'PLGN_CS_TENANT_ID\' | translate }}</dt>\n  <dd class="tenant-id"\n      ng-if="!definition.tenantId"><span class="null-value">{{ \'PLGN_CS_NULL\' | translate }}</span></dd>\n\n\n  <dt cam-widget-clipboard="definition.deploymentId"\n      ng-class="{hovered: hovered === \'deployment-id\'}">{{ \'PLGN_CS_DEPLOYMENT_ID\' | translate }}</dt>\n  <dd class="deployment-id"\n      ng-mouseenter="hoverTitle(\'deployment-id\')"\n      ng-mouseleave="hoverTitle()">\n    <a ng-href="{{ getDeploymentUrl(definition) }}">{{ definition.deploymentId }}</a>\n  </dd>\n\n\n  <dt>{{ \'PLGN_CS_ACTIVE_INSTANCES\' | translate }}</dt>\n  <dd class="running-instances">\n    <span ng-if="!instances.$loaded"\n          class="glyphicon glyphicon-refresh animate-spin"></span>\n    <ul ng-if="instances.$loaded">\n      <li>\n        {{ \'PLGN_CS_CURRENT_VERSION\' | translate }}\n        <strong class="current-version">{{ instances.current }}</strong>\n      </li>\n      <li>\n        {{ \'PLGN_CS_ALL_VERSIONS\' | translate }}\n        <strong class="all-versions">{{ instances.all }}</strong>\n      </li>\n    </ul>\n  </dd>\n\n</dl>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/case/app/pages/definition/directives/definition-details.html -->\n',e=("undefined"!=typeof window?window["camunda-bpm-sdk-js"]:"undefined"!=typeof c?c["camunda-bpm-sdk-js"]:null).utils.series,f=a("../../../utils/CaseUtil").getDeploymentUrl;
b.exports=["camAPI",function(a){return{restrict:"A",scope:{definition:"="},template:d,link:function(b){function c(){b.definitions.$loaded=!1;var a={key:g.key,sortBy:"version",sortOrder:"desc"};g.tenantId?a.tenantIdIn=[g.tenantId]:a.withoutTenantId=!0,h.list(a,function(a,c){if(b.definitions.$loaded=!0,a)throw a;b.definitions.all=c})}function d(){b.instances.$loaded=!1,e({all:function(a){var b={caseDefinitionKey:g.key,active:!0};g.tenantId?b.tenantIdIn=[g.tenantId]:b.withoutTenantId=!0,i.caseInstanceCount(b,function(b,c){a(b,c?c.count:null)})},current:function(a){i.caseInstanceCount({caseDefinitionId:g.id,active:!0},function(b,c){a(b,c?c.count:null)})}},function(a,c){if(b.instances.$loaded=!0,a)throw a;b.instances.all=c.all,b.instances.current=c.current})}var g=b.definition,h=a.resource("case-definition"),i=a.resource("history");b.definitions={},b.instances={},b.hovered=null,b.hoverTitle=function(a){b.hovered=a||null},c(),d(),b.getDeploymentUrl=f}}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../utils/CaseUtil":63}],36:[function(a,b,c){"use strict";var d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/pages/directives/action-plugins.html -->\n<span ng-show="actions.length">\n  <span ng-repeat="action in actions">\n    <view provider="action"\n          vars="vars" />\n  </span>\n</span>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/pages/directives/action-plugins.html -->';b.exports=["Views",function(a){return{restrict:"AC",scope:{definition:"=",instance:"=",diagram:"=",component:"@"},template:d,link:function(b){function c(b){return a.getProviders({component:b})}var d=b.component;b.vars={read:["definition","instance","diagram"]},b.actions=c(d)}}}]},{}],37:[function(a,b,c){(function(a){"use strict";function c(a,b){return!(!a||"function"!=typeof a.$instanceOf||!a.$instanceOf(b))}function d(a){return a&&a.businessObject?a.businessObject:a}function e(a){var b=d(a);return!f(a)&&(c(b,"cmmn:PlanItem")||c(b,"cmmn:DiscretionaryItem")||c(b,"cmmn:Criterion"))}function f(a){return a.labelTarget}var g="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null,h=g.forEach,i='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/pages/directives/case-diagram.html -->\n<div cam-widget-cmmn-viewer\n     diagram-data="cmmnXml"\n     control="control"\n     on-load="onLoad()"\n     on-click=\'handleClick(element, $event)\'\n     on-mouse-enter=\'onMouseEnter(element, $event)\'\n     on-mouse-leave=\'onMouseLeave(element, $event)\'\n     ng-if="cmmnXml">\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/pages/directives/case-diagram.html -->',j='<div class="cmmn-overlay"><div view ng-repeat="overlayProvider in overlayProviders" provider="overlayProvider" vars="vars"></div></div>';b.exports=["$compile","$injector","camAPI","dataDepend","Views",function(a,b,c,d,k){return{restrict:"A",scope:{definition:"=",instance:"=",selection:"=?",control:"=?",diagramOverlayComponent:"@",onDiagramLoad:"&"},template:i,link:function(i){function l(a){var b=c.resource("case-definition");b.xml(a,function(a,b){if(a)throw a;i.cmmnXml=b.cmmnXml})}function m(){for(;s[0];)s.splice(0,1)}function n(a){return s.indexOf(a)>-1}function o(){for(var a={definition:q,instance:r,diagram:t,diagramData:u},c=0;c<v.length;c++)v[c].initialize&&b.invoke(v[c].initialize,a)}function p(){var b=t.getElements(function(a){return!f(a)});h(b,function(b){var c=i.$new();c.cmmnElement=b;var d=g.element(j);d.css({width:b.width,height:b.height}),a(d)(c);try{t.createBadge(b.id,{html:d,position:{top:0,left:0}})}catch(e){}})}var q,r=i.instance,s=i.selection=i.selection||[],t=i.control=i.control||{};i.diagram=t;var u=i.diagramData=d.create(i);i.vars={read:["definition","instance","diagram","cmmnElement","diagramData"]};var v=i.overlayProviders=k.getProviders({component:i.diagramOverlayComponent});i.$on("resize",function(){t.refreshZoom()}),i.$watch("definition",function(a){return q=a,a&&l(a)}),i.$watchCollection("selection",function(a,b){b&&h(b,function(a){t.clearHighlight(a)}),a&&h(a,function(a){e(a)&&t.highlight(a)})}),i.handleClick=function(a,b){var c=i.$root.$$phase,d="$apply"!==c&&"$digest"!==c,f=d?i.$apply.bind(i):function(a){a()};f(function(){if(e(a))if(n(a)&&b.ctrlKey){var c=s.indexOf(a);s.splice(c,1)}else b.ctrlKey||m(),s.push(a);else m()})},i.onMouseEnter=function(a){e(a)&&(t.highlight(a),t.addMarker(a,"selectable"))},i.onMouseLeave=function(a){n(a)||(t.clearHighlight(a),t.removeMarker(a,"selectable"))},i.onLoad=function(){i.onDiagramLoad(),o(),p()}}}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],38:[function(a,b,c){(function(a){"use strict";var c='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/pages/directives/tab-plugins.html -->\n<div ng-show="tabs.length">\n  <ul class="nav nav-tabs">\n    <li ng-class="{ active: selectedTab == tabProvider }"\n        ng-repeat="tabProvider in tabs">\n      <a href\n         ng-click="selectTab(tabProvider)">{{ tabProvider.label | translate }}</a>\n    </li>\n  </ul>\n\n  <div class="ctn-tabbed-content ctn-scroll">\n    <view provider="selectedTab"\n          vars="vars" />\n  </div>\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/pages/directives/tab-plugins.html -->\n',d=("undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null).forEach;b.exports=["$location","search","Views",function(a,b,e){return{restrict:"A",scope:{definition:"=",instance:"=",diagram:"=",keepSearchValues:"=",component:"@"},template:c,link:function(c){function f(){return JSON.parse((a.search()||{}).searchQuery||"[]")}function g(a){var d=b().detailsTab;if(a&&a.length){if(d){var e=i(j,d);if(e&&a.indexOf(e)!=-1)return void(c.selectedTab=e)}b.updateSilently({detailsTab:null}),c.selectedTab=a[0]}}function h(a){return e.getProviders({component:a})}function i(a,b){return e.getProvider({component:a,id:b})}var j=c.component;c.$on("$routeChanged",function(){g(c.tabs)}),c.vars={read:["definition","instance","diagram"]},c.tabs=h(j),g(c.tabs),c.selectTab=function(a){c.selectedTab=a;var e=[],g=c.keepSearchValues||[];d(f(),function(a){g.indexOf(a.type)>-1&&e.push(a)}),b.updateSilently({detailsTab:a.id,page:null,searchQuery:JSON.stringify(e)})}}}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],39:[function(a,b,c){"use strict";b.exports=function(a,b,c,d,e){b.showBreadcrumbs=!0,a.breadcrumbsClear(),a.breadcrumbsAdd([{label:e.instant("PLGN_CS_CASES"),href:"#/cases"},{type:"caseDefinition",label:d.name||d.key||d.id,href:"#/case-definition/"+d.id,keepSearchParams:["viewbox"]},{type:"caseInstance",divider:":",label:c.id,href:"#/case-instance/"+c.id}]),a.titleSet([d.name||d.key||d.id,e.instant("PLGN_CS_CASE_INSTANCE_VIEW")].join(" | "))}},{}],40:[function(a,b,c){"use strict";var d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/pages/instance/directives/instance-details.html -->\n<dl class="process-information">\n<dt cam-widget-clipboard="instance.id"\n    ng-class="{hovered: hovered === \'instance-id\'}">\n  <span tooltip="{{ \'PLGN_CS_INSTANCE_ID_IN_DB\' | translate }}">{{ \'PLGN_CS_INSTANCE_ID\' | translate }}</span>\n</dt>\n<dd class="instance-id"\n    ng-mouseenter="hoverTitle(\'instance-id\')"\n    ng-mouseleave="hoverTitle()">{{ instance.id }}</dd>\n\n<dt>{{ \'PLGN_CS_CASE_STATE\' | translate }}</dt>\n<dd class="case-state">{{ instanceState | translate}}</dd>\n\n<dt ng-if="instance.businessKey"\n    cam-widget-clipboard="instance.businessKey"\n    ng-class="{hovered: hovered === \'business-key\'}">\n  <span tooltip="{{ \'PLGN_CS_BUSINESS_KEY_CASE_INSTANCE\' | translate }}">{{ \'PLGN_CS_BUSINESS_KEY\' | translate }}</span>\n</dt>\n<dd ng-if="instance.businessKey"\n    class="business-key"\n    ng-mouseenter="hoverTitle(\'business-key\')"\n    ng-mouseleave="hoverTitle()">{{ instance.businessKey }}</dd>\n<dt ng-if="!instance.businessKey">\n  <span tooltip="{{ \'PLGN_CS_BUSINESS_KEY_CASE_INSTANCE\' | translate }}">{{ \'PLGN_CS_BUSINESS_KEY\' | translate }}</span>\n</dt>\n<dd ng-if="!instance.businessKey"\n    class="business-key"><span class="null-value">{{ \'PLGN_CS_NULL\' | translate }}</span></dd>\n\n<dt>{{ \'PLGN_CS_DEFINITION_VERSION\' | translate }}</dt>\n<dd class="definition-version">{{ definition.version }}</dd>\n\n<dt cam-widget-clipboard="definition.id"\n    ng-class="{hovered: hovered === \'definition-id\'}">{{ \'PLGN_CS_DEFINITION_ID\' | translate }}</dt>\n<dd class="definition-id"\n    ng-mouseenter="hoverTitle(\'definition-id\')"\n    ng-mouseleave="hoverTitle()">\n  <a ng-href="{{ getDefinitionUrl(definition) }}">{{ definition.id }}</a>\n</dd>\n\n<dt cam-widget-clipboard="definition.key"\n    ng-class="{hovered: hovered === \'definition-key\'}">{{ \'PLGN_CS_DEFINITION_KEY\' | translate }}</dt>\n<dd class="definition-key"\n    ng-mouseenter="hoverTitle(\'definition-key\')"\n    ng-mouseleave="hoverTitle()">{{ definition.key }}</dd>\n\n<dt>{{ \'PLGN_CS_DEFINITION_NAME\' | translate }}</dt>\n<dd class="definition-name">{{ definition.name }}</dd>\n\n<dt ng-if="instance.tenantId"\n    cam-widget-clipboard="instance.tenantId"\n    ng-class="{hovered: hovered === \'tenant-id\'}">{{ \'PLGN_CS_TENANT_ID\' | translate }}</dt>\n<dd class="tenant-id"\n    ng-if="instance.tenantId"\n    ng-mouseenter="hoverTitle(\'tenant-id\')"\n    ng-mouseleave="hoverTitle()">{{ instance.tenantId }}</dd>\n<dt ng-if="!instance.tenantId">{{ \'PLGN_CS_TENANT_ID\' | translate }}</dt>\n<dd class="tenant-id"\n    ng-if="!instance.tenantId"><span class="null-value">{{ \'PLGN_CS_NULL\' | translate }}</span></dd>\n\n<dt cam-widget-clipboard="definition.deploymentId"\n    ng-class="{hovered: hovered === \'deployment-key\'}">{{ \'PLGN_CS_DEPLOYMENT_ID\' | translate }}</dt>\n<dd class="deployment-id"\n    ng-mouseenter="hoverTitle(\'deployment-key\')"\n    ng-mouseleave="hoverTitle()">\n  <a ng-href="{{ getDeploymentUrl(definition) }}">{{ definition.deploymentId }}</a>\n</dd>\n\n<dt ng-if="instance.superProcessInstanceId"\n    cam-widget-clipboard="instance.superProcessInstanceId"\n    ng-class="{hovered: hovered === \'super-process-instance-id\'}">{{ \'PLGN_CS_SUPER_PROCESS_INSTANCE_ID\' | translate }}</dt>\n<dd class="super-process-instance-id"\n    ng-if="instance.superProcessInstanceId"\n    ng-mouseenter="hoverTitle(\'super-process-instance-id\')"\n    ng-mouseleave="hoverTitle()">\n  <a ng-href="#/process-instance/{{instance.superProcessInstanceId}}/history">{{ instance.superProcessInstanceId }}</a>\n</dd>\n<dt ng-if="!instance.superProcessInstanceId">{{ \'PLGN_CS_SUPER_PROCESS_INSTANCE_ID\' | translate }}</dt>\n<dd class="super-process-instance-id"\n    ng-if="!instance.superProcessInstanceId"><span class="null-value">{{ \'PLGN_CS_NULL\' | translate }}</span></dd>\n\n<dt ng-if="instance.superCaseInstanceId"\n    cam-widget-clipboard="instance.superCaseInstanceId"\n    ng-class="{hovered: hovered === \'super-case-instance-id\'}">{{ \'PLGN_CS_SUPER_CASE_INSTANCE_ID\' | translate }}</dt>\n<dd class="super-case-instance-id"\n    ng-if="instance.superCaseInstanceId"\n    ng-mouseenter="hoverTitle(\'super-case-instance-id\')"\n    ng-mouseleave="hoverTitle()">\n  <a ng-href="#/case-instance/{{instance.superCaseInstanceId}}">{{ instance.superCaseInstanceId }}</a>\n</dd>\n<dt ng-if="!instance.superCaseInstanceId">{{ \'PLGN_CS_SUPER_CASE_INSTANCE_ID\' | translate }}</dt>\n<dd class="super-case-instance-id"\n    ng-if="!instance.superCaseInstanceId"><span class="null-value">{{ \'PLGN_CS_NULL\' | translate }}</span></dd>\n\n</dl>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/pages/instance/directives/instance-details.html -->\n',e=a("../../../utils/CaseUtil"),f=e.getDefinitionUrl,g=e.getDeploymentUrl,h=e.getInstanceState;b.exports=["$location",function(a){return{restrict:"A",scope:{definition:"=",instance:"="},template:d,link:function(b){b.hovered=null,b.hoverTitle=function(a){b.hovered=a||null},b.getDefinitionUrl=function(b){return b&&f(b,a.search())},b.instanceState=h(b.instance),b.getDeploymentUrl=g}}}]},{"../../../utils/CaseUtil":63}],41:[function(a,b,c){(function(c){"use strict";function d(a,b,c){var d={};return f(a,function(a){d[a[b]]=c?d[a[b]]||[]:a,c&&d[a[b]].push(a)}),d}var e="undefined"!=typeof window?window.jquery:"undefined"!=typeof c?c.jquery:null,f=("undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null).forEach,g=a("../components/diagram-interaction"),h=["$location","$scope","$timeout","camAPI","caseInstance","page","search","$translate",function(b,c,e,h,i,j,k,l){c.caseInstance=i,c.keepSearchValues=["caseActivityIdIn"];var m={},n={},o=c.diagramInteraction=new g(b,k),p=o.control;p.getActivityInstancesByElement=function(a){return a&&m[a.id||a]},p.getActivityInstanceById=function(a){return a&&n[a]},p.getActivityInstances=function(a){var b=[];return f(n,function(c){a(c)&&b.push(c)}),b};var q=!1,r=!1,s=h.resource("case-definition");s.get(i.caseDefinitionId,function(a,b){if(a)throw a;c.caseDefinition=b});var t=h.resource("history");t.caseActivityInstance({caseInstanceId:i.id},function(a,b){if(a)throw a;c.activityInstances=b});var u=c.onDiagramLoad=function(){q=!0,o.initSelection(),e(function(){q=!1})};c.$on("$locationChangeSuccess",function(){r||u()}),c.$watchCollection("diagramInteraction.selection",function(a,b){a===b||q||(r=!0,o.updateSearches(a,b),e(function(){r=!1}))}),c.$watch("caseDefinition",function(b){return b&&a("./breadcrumbs")(j,c.$root,i,b,l)}),c.$watch("activityInstances",function(a){n&&(m=d(a,"caseActivityId",!0),n=d(a,"id"))})}];b.exports=["$routeProvider",function(a){a.when("/case-instance/:id",{templateUrl:e("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/case/instance.html",controller:h,authentication:"required",resolve:{caseInstance:["ResourceResolver","camAPI","$q",function(a,b,c){return a.getByRouteParam("id",{name:"case instance",resolve:function(a){var d=c.defer(),e=b.resource("history");return e.caseInstance({caseInstanceId:a},function(a,b){!a&&b.length?d.resolve(b[0]):d.reject(a||{status:404})}),d.promise}})}]},reloadOnSearch:!1})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/diagram-interaction":31,"./breadcrumbs":39}],42:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./dashboard/cases"),f=a("./definition/definition"),g=a("./instance/instance"),h=a("./directives/action-plugins"),i=a("./directives/case-diagram"),j=a("./definition//directives/definition-details"),k=a("./instance/directives/instance-details"),l=a("./directives/tab-plugins"),m=d.module("cockpit.plugin.case.pages",[]);m.config(e),m.config(f),m.config(g),m.directive("camActionPlugins",h),m.directive("camCaseDiagram",i),m.directive("camDefinitionDetails",j),m.directive("camInstanceDetails",k),m.directive("camTabPlugins",l),b.exports=m}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./dashboard/cases":32,"./definition//directives/definition-details":35,"./definition/definition":34,"./directives/action-plugins":36,"./directives/case-diagram":37,"./directives/tab-plugins":38,"./instance/directives/instance-details":40,"./instance/instance":41}],43:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./plugins/main"),f=a("./pages/main");b.exports=d.module("cockpit.plugin.case",[f.name,e.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./pages/main":42,"./plugins/main":61}],44:[function(a,b,c){"use strict";var d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/casesDashboard/case-definitions.html -->\n<section class="dashboard-section deployed-cases">\n  <div class="inner">\n    <header ng-if="caseDefinitionsCount">\n      <h1 class="section-title">{{ caseDefinitionsCount }}{{ (caseDefinitionsCount> 1 ? \'PLGN_CS_DEFINITION_DEPLOYED\' : \'PLGN_CS_DEFINITIONS_DEPLOYED\') | translate }}</h1>\n    </header>\n\n    <header class="header-empty" ng-if="!caseDefinitionsCount && loadingState !== \'LOADING\'">\n      <h1 class="section-title">{{ \'PLGN_CS_NO_DEFINITIONS_DEPLOYED\' | translate }}</h1>\n    </header>\n\n    <div cam-widget-loader\n         loading-state="{{ loadingState }}"\n         text-error="{{ loadingError }}">\n\n      <table ng-if="caseDefinitionsCount"\n             class="case-definitions-list cam-table">\n\n        <thead sortable-table-head\n               head-columns="headColumns"\n               on-sort-change="onSortChange(sortObj)"\n               default-sort="sortObj">\n        </thead>\n\n        <tbody>\n          <tr ng-repeat="definition in caseDefinitions | orderBy:sortObj.sortBy:sortObj.sortReverse">\n\n            <td class="name">\n              <a href="#/case-definition/{{ definition.id }}">\n                {{ definition.name || definition.key }}\n              </a>\n            </td>\n\n            <td class="tenant-id">\n              {{ definition.tenantId }}\n            </td>\n\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</section>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/casesDashboard/case-definitions.html -->\n';b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.cases.dashboard",{id:"case-definition",label:"PLGN_CS_DEPLOYED_DEFINITIONS",template:d,controller:["$scope","camAPI","localConf","$translate",function(a,b,c,d){function e(a){c.set("sortCaseDefTab",a)}function f(a){return c.get("sortCaseDefTab",a)}var g=b.resource("case-definition");a.headColumns=[{"class":"name",request:"name",sortable:!0,content:d.instant("PLGN_DRD_NAME")},{"class":"tenant-id",request:"tenantId",sortable:!0,content:d.instant("PLGN_DRD_TENANT_ID_COL")}];var h={sortBy:"name",sortOrder:"asc",sortReverse:!1};a.sortObj=f(h),a.onSortChange=function(b){b=b||a.sortObj,b.sortReverse="asc"!==b.sortOrder,e(b),a.sortObj=b},a.loadingState="LOADING",g.list({latestVersion:!0},function(b,c){if(b)throw a.loadingError=b.message,a.loadingState="ERROR",b;a.loadingState="LOADED",a.caseDefinitions=c,a.caseDefinitionsCount=a.caseDefinitions.length})}],priority:0})}]},{}],45:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("../components/case-instance-list"),f='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/casesDashboard/case-instances-search.html -->\n<section class="dashboard-section case-instances-search">\n  <div class="inner">\n    <header>\n      <h1 class="section-title">{{ \'PLGN_CS_SEARCH\' | translate }}</h1>\n    </header>\n\n    <div cam-searchable-area\n         config="instances.searchConfig"\n         on-search-change="onSearchChange(query, pages)"\n         array-types="[\'caseInstanceIds\', \'caseActivityIdIn\', \'caseDefinitionKeyNotIn\']"\n         variable-types="[\'variables\']"\n         loading-state="instances.loadingState"\n         text-empty="{{ \'PLGN_CS_DECISIONS_NOT_FOUND\' | translate }}"\n         storage-group="\'CI\'">\n\n    <div ng-if="instances.caseInstances.length && instances.loadingState === \'LOADED\'"\n         class="search-results-sorting dropdown">\n      <a class="btn btn-default dropdown-toggle"\n         ng-disabled="!availableColumns.length">\n        {{ \'PLGN_CS_ADD_COLUMN\' | translate }}\n        <span class="glyphicon glyphicon-plus-sign"></span>\n      </a>\n\n      <ul class="dropdown-menu dropdown-menu-right">\n        <li ng-repeat="column in availableColumns"\n            ng-class="column">\n          <a ng-click="addColumn(column)">{{ columnLabel(column) }}</a>\n        </li>\n      </ul>\n    </div>\n\n    <table ng-if="instances.caseInstances.length"\n           class="search-results cam-table">\n      <thead>\n        <tr>\n          <th class="case-instance uuid">{{ \'PLGN_CS_CASE_INSTANCE_ID\' | translate }}</th>\n          <th class="create-time">\n            {{ \'PLGN_CS_CREATE_TIME\' | translate }}\n            <a ng-click="changeOrder(\'createTime\')">\n              <span class="glyphicon"\n                    ng-class="orderClass(\'createTime\')"></span>\n            </a>\n          </th>\n          <th class="end-time">\n            {{ \'PLGN_CS_CLOSE_TIME\' | translate }}\n            <a ng-click="changeOrder(\'closeTime\')">\n              <span class="glyphicon"\n                    ng-class="orderClass(\'closeTime\')"></span>\n            </a>\n          </th>\n          <th class="business-key">\n            {{ \'PLGN_CS_BUSINESS_KEY_COL\' | translate }}\n            <a ng-click="changeOrder(\'businessKey\')">\n              <span class="glyphicon"\n                    ng-class="orderClass(\'businessKey\')"></span>\n            </a>\n          </th>\n\n          <th ng-repeat="column in shownColumns"\n              ng-class="column">\n            <a ng-click="removeColumn(column)">\n              <span class="glyphicon glyphicon-remove-sign"></span>\n            </a>\n\n            {{ columnLabel(column) }}\n\n            <a ng-if="isSortableColumn(column)"\n               ng-click="changeOrder(column)">\n              <span class="glyphicon"\n                    ng-class="orderClass(column)"></span>\n            </a>\n          </th>\n        </tr>\n      </thead>\n\n      <tbody>\n        <tr ng-repeat="(index, caseInstance) in instances.caseInstances">\n          <td class="case-instance uuid"\n              cam-widget-clipboard="caseInstance.id">\n            <a href="#/case-instance/{{ caseInstance.id }}"\n               title="{{ caseInstance.id }}">\n              {{ caseInstance.id }}\n            </a>\n          </td>\n\n          <td class="create-time"\n              cam-widget-clipboard="caseInstance.createTime">\n            {{ caseInstance.createTime | camDate }}\n          </td>\n\n          <td class="close-time"\n              ng-if="caseInstance.closeTime"\n              cam-widget-clipboard="caseInstance.closeTime">\n            {{ caseInstance.closeTime | camDate }}\n          </td>\n          <td class="close-time"\n              ng-if="!caseInstance.closeTime">\n            {{ caseInstance.closeTime | camDate }}\n          </td>\n\n          <td class="business-key"\n              ng-if="caseInstance.businessKey"\n              cam-widget-clipboard="caseInstance.businessKey">\n            {{ caseInstance.businessKey }}\n          </td>\n          <td class="business-key"\n              ng-if="!caseInstance.businessKey">\n            {{ caseInstance.businessKey }}\n          </td>\n\n          <td ng-repeat="column in shownColumns"\n              ng-class="column"\n              ng-bind-html="columnValue(column, index)">\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    </div>\n  </div>\n</section>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/casesDashboard/case-instances-search.html -->\n';b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.cases.dashboard",{id:"case-instances-search",label:"PLGN_CS_SEARCH_INSTANCES",template:f,controller:["$sce","$scope","$timeout","$q","camAPI","$translate","localConf",function(a,b,c,f,g,h,i){function j(){var a={};return d.extend(a,m,o),l(n).forEach(function(b){delete a[b]}),l(a)}function k(){var a=[];j().forEach(function(c){b.shownColumns.indexOf(c)<0&&a.push(c)}),b.availableColumns=a}var l=Object.keys,m={definitionId:h.instant("PLGN_CS_DEFINITION_ID_COL"),duration:h.instant("PLGN_CS_DURATION")},n={instanceId:h.instant("PLGN_CS_INSTANCE_ID_COL"),createTime:h.instant("PLGN_CS_CREATE_TIME"),closeTime:h.instant("PLGN_CS_CLOSE_TIME"),businessKey:h.instant("PLGN_CS_BUSINESS_KEY")},o={superProcessInstanceId:h.instant("PLGN_CS_SUPER_PROCESS_INSTANCE_ID_COL"),superCaseInstanceId:h.instant("PLGN_CS_SUPER_CASE_INSTANCE_ID_COL"),createUserId:h.instant("PLGN_CS_CREATED_BY")},p=b.instances=new e(g,{search:{searches:[]},pages:{size:20},localConf:i,localConfProperty:"case-inst-search"});b.shownColumns=p.sorting.shownColumns||[],b.availableColumns=j(),d.forEach(p.searchConfig.tooltips,function(a,b){p.searchConfig.tooltips[b]=h.instant(a)}),p.searchConfig.types.map(function(a){return a.id.value=h.instant(a.id.value),a.operators&&(a.operators=a.operators.map(function(a){return a.value=h.instant(a.value),a})),a}),b.isSortableColumn=function(a){return!!m[a]},b.columnLabel=function(a){return m[a]||o[a]||n[a]||h.instant("PLGN_CS_NO_LABEL",{name:a})},b.orderClass=function(a){return a=a||p.sorting.sortBy,"glyphicon-"+{none:"minus",desc:"chevron-down",asc:"chevron-up"}[a===p.sorting.sortBy?p.sorting.sortOrder:"none"]},b.changeOrder=function(a){var b=p.sorting;b.sortBy=a,b.sortOrder="desc"===b.sortOrder?"asc":"desc",p.onSortChange(b)},b.addColumn=function(a){b.shownColumns.indexOf(a)>-1||(b.shownColumns.push(a),k(),p.onColumnsChange(b.shownColumns))},b.removeColumn=function(a){var c=[];b.shownColumns.forEach(function(b){a!==b&&c.push(b)}),b.shownColumns=c,k(),p.onColumnsChange(b.shownColumns)},b.columnValue=function(b,c){var d,e=p.caseInstances,f="";switch(b){case"superProcessInstanceId":d=e[c].superProcessInstanceId,f=d?'<a href="#/process-instance/'+d+'">'+d+"</a>":"";break;case"superCaseInstanceId":d=e[c].superCaseInstanceId,f=d?'<a href="#/case-instance/'+d+'">'+d+"</a>":"";break;case"definitionId":var g=e[c].caseDefinitionId;f='<a href="#/case-definition/'+g+'">'+g+"</a>";break;case"duration":f=e[c].durationInMillis||"";break;default:f=e[c][b]||""}return a.trustAsHtml(f.toString())};var q=function(){return k(),p.searchConfig.searches.length>0?p.loadCaseInstances(b.query,b.pages):(p.loadingState="LOADED",p.caseInstances=[],f.when(0))};b.onSearchChange=function(a,c){return b.query=a,b.pages=c,q()}}],priority:20})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/case-instance-list":47}],46:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null,d=c.forEach,e=function(a,b,c,d,e){this.$location=b,this.camAPI=c,this.diagram=d,this.config=e,this.sorting=e.sorting,this.sortParamsArray=e.sortParamsArray,this.instance=a,this.pages={size:50,total:0,current:e.currentPage||1},this.calledInstances=[],this.loadingState="INITIAL"};e.prototype._getSearchQuery=function(){return JSON.parse((this.$location.search()||{}).searchQuery||"[]")},e.prototype._getActivityInstance=function(a){var b=this.config.calledInstanceId;return this.diagram.getActivityInstances(function(c){return c[b]===a.id})[0]},e.prototype._pickSearchValues=function(a,b){var c=[];return d(a,function(a){a.type===b&&c.push(a.value)}),c},e.prototype.getCalledElementName=function(a){var b=this._getActivityInstance(a);return this._getActivityName(b)},e.prototype._getActivityName=function(a){if(a){var b=a.caseActivityName,c=a.caseActivityType,d=a.caseActivityId;return b||c[0].toUpperCase()+c.slice(1)+" ("+d+")"}},e.prototype.getActivitySearches=function(a){var b=this._getActivityInstance(a),c=[];return b&&(c=this._clearSearches(this._getSearchQuery()),c.push(this._createSearch(b))),JSON.stringify(c)},e.prototype._clearSearches=function(a){return d(a.slice(),function(b){if("caseActivityIdIn"===b.type){var c=a.indexOf(b);c>-1&&a.splice(c,1)}}),a},e.prototype._createSearch=function(a){return{type:"caseActivityIdIn",operator:"eq",value:a.caseActivityId}},e.prototype.onSortChange=function(a){this.sorting=a,this.loadCalledInstances()},e.prototype.loadCalledInstances=function(){function a(a){throw o.loadingError=a.message,o.loadingState="ERROR",a}var b=this.camAPI.resource("history"),d=this.sorting,e=this.pages.current,f=this.pages.size,g=(e-1)*f,h={};if(h[this.config.superInstanceId]=this.instance.id,this.config.withActivityIdIn){var i=this._getSearchQuery(),j=this._pickSearchValues(i,"caseActivityIdIn");j.length&&(h.activityIdIn=j)}var k={firstResult:g,maxResults:f};if(d){var l={sortBy:d.sortBy,sortOrder:d.sortOrder};this.sortParamsArray&&(l=c.extend({},{sorting:[l]})),k=c.extend({},k,l)}var m=c.extend({},h),n=c.extend({},h,k);this.calledInstances=[],this.loadingState="LOADING";var o=this;b[this.config.count](m,function(c,d){return c?a(c):(o.pages.total=d.count,d.count?void b[o.config.instances](n,function(b,c){return b?a(b):(o.calledInstances=c,void(o.loadingState="LOADED"))}):void(o.loadingState="EMPTY"))})},b.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],47:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null,d=JSON.parse('{\n  "types": [\n    {\n      "id": {\n        "key": "caseInstanceIds",\n        "value": "PLGN_CS_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseActivityIdIn",\n        "value": "PLGN_CS_SEARCH_ACTIVITY_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseInstanceBusinessKey",\n        "value": "PLGN_CS_SEARCH_BUSINESS_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "like"\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "superProcessInstanceId",\n        "value": "PLGN_CS_SEARCH_PARENT_PROCESS_INSTACNE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "subProcessInstanceId",\n        "value": "PLGN_CS_SEARCH_SUB_PROCESS_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "superCaseInstanceId",\n        "value": "PLGN_CS_SEARCH_PARENT_CASE_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "subCaseInstanceId",\n        "value": "PLGN_CS_SEARCH_SUB_CASE_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseDefinitionId",\n        "value": "PLGN_CS_SEARCH_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseDefinitionKey",\n        "value": "PLGN_CS_SEARCH_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "NotIn",\n          "value": "!="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseDefinitionName",\n        "value": "PLGN_CS_SEARCH_DEFINITION_NAME"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "PLGN_CS_SEARCH_LIKE"\n        }\n      ],\n      "default": true\n    },\n    {\n      "id": {\n        "key": "createdBy",\n        "value": "PLGN_CS_SEARCH_CREATED_BY_USER"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "createdDate",\n        "value": "PLGN_CS_SEARCH_CREATED_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_CS_SEARCH_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_CS_SEARCH_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "closedDate",\n        "value": "PLGN_CS_SEARCH_CLOSED_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_CS_SEARCH_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_CS_SEARCH_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "active",\n        "value": "PLGN_CS_SEARCH_ACTIVE_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "completed",\n        "value": "PLGN_CS_SEARCH_COMPLETED_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "terminated",\n        "value": "PLGN_CS_SEARCH_TERMINATED_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "closed",\n        "value": "PLGN_CS_SEARCH_CLOSED_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "notClosed",\n        "value": "PLGN_CS_SEARCH_NOT_CLOSED_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "variables",\n        "value": "PLGN_CS_SEARCH_VARIABLE"\n      },\n      "allowDates": true,\n      "extended": true\n    }\n  ],\n  "operators": {\n        "undefined":  [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        },\n        {\n          "key": "like",\n          "value": "PLGN_CS_SEARCH_LIKE"\n        }\n      ],\n        "string":     [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        },\n        {\n          "key": "like",\n          "value": "PLGN_CS_SEARCH_LIKE"\n        }\n      ],\n        "number":     [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        }\n      ],\n        "boolean":    [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        }\n      ],\n        "object":     [{\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        }],\n        "date":     [{\n          "key": "lteq",\n          "value": "PLGN_CS_SEARCH_BEFORE"\n        },\n        {\n          "key": "gteq",\n          "value": "PLGN_CS_SEARCH_AFTER"\n        }]\n  },\n  "tooltips": {\n    "inputPlaceholder": "PLGN_CS_SEARCH_ADD_CRITERIA",\n    "invalid": "PLGN_CS_SEARCH_NOT_VALID",\n    "deleteSearch": "PLGN_CS_SEARCH_REMVOE_SEARCH",\n    "type": "PLGN_CS_SEARCH_TYPE",\n    "name": "PLGN_CS_SEARCH_PROPERTY",\n    "operator": "PLGN_CS_SEARCH_OPERATOR",\n    "value": "PLGN_CS_SEARCH_VALUE"\n  }\n}\n'),e=function(a,b){
this.localConf=b.localConf,this.localConfProperty=b.localConfProperty,this.searchConfig=c.copy(d),this.caseInstances=[],this.loadingState="INITIAL",this.defaultParams=b.defaultParams||{},this.historyResource=a.resource("history"),this.query=null,this.sorting=this._loadLocal({sortBy:"createTime",sortOrder:"desc"})};e.prototype._loadLocal=function(a){return this.localConf.get(this.localConfProperty,a)},e.prototype._saveLocal=function(a){this.localConf.set(this.localConfProperty,a)},e.prototype.onSortChange=function(a){this.sorting=a,this._saveLocal(a),this.loadCaseInstances(this.query,this.pages)},e.prototype.onColumnsChange=function(a){this.sorting=this.sorting||{},this.sorting.shownColumns=a,this._saveLocal(this.sorting),this.loadCaseInstances(this.query,this.pages)},e.prototype.loadCaseInstances=function(a,b){function d(a){throw e.loadingError=a.message,e.loadingState="ERROR",a}var e=this,f=this.historyResource;this.query=a||this.query,this.pages=b||this.pages;var g=b.current,h=b.size,i=(g-1)*h,j=this.defaultParams,k={firstResult:i,maxResults:h,sorting:[{sortBy:this.sorting.sortBy,sortOrder:this.sorting.sortOrder}]},l=c.extend({},a,j),m=c.extend({},a,j,k);return this.caseInstances=[],this.loadingState="LOADING",f.caseInstanceCount(l).then(function(a){var b=a.count;return b?f.caseInstance(m).then(function(a){return e.caseInstances=a,e.loadingState="LOADED",b}):void(e.loadingState="EMPTY")})["catch"](d)},b.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],48:[function(a,b,c){(function(a){"use strict";var c='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/dashboard/cases.html -->\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-error="{{ loadingError }}">\n\n  <ul>\n    <li>\n      <a href="#/cases" ng-if="!count.definitions || count.definitions > 1">{{ \'PLGN_CS_DEFINITIONS\' | translate }}</a>\n      <a href="#/cases" ng-if="count.definitions == 1">{{ \'PLGN_CS_DEFINITION\' | translate }}</a>\n      <span class="value">{{ (count.definitions | abbreviateNumber) || 0 }}</span>\n    </li>\n    <li>\n      <a href="#/cases" ng-if="count.instances == 0 || count.instances > 1">{{ \'PLGN_CS_ACTIVE_INSTANCES\' | translate }}</a>\n      <a href="#/cases" ng-if="count.instances == 1">{{ \'PLGN_CS_ACTIVE_INSTANCE\' | translate }}</a>\n      <span class="value">{{ (count.instances | abbreviateNumber) || 0 }}</span>\n    </li>\n  </ul>\n\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/dashboard/cases.html -->\n',d=("undefined"!=typeof window?window["camunda-bpm-sdk-js"]:"undefined"!=typeof a?a["camunda-bpm-sdk-js"]:null).utils.series;b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.navigation",{id:"cases",label:"PLGN_CS_CASES",template:c,pagePath:"#/cases",checkActive:function(a){return a.indexOf("#/case")>-1},controller:["$scope","camAPI",function(a,b){a.count=0,a.loadingState="LOADING";var c=b.resource("history"),e=b.resource("case-definition");d({definitions:function(a){e.count({latestVersion:!0},function(b,c){a(b,c?c:null)})},instances:function(a){c.caseInstanceCount({active:!0},function(b,c){a(b,c?c.count:null)})}},function(b,c){if(b)throw a.loadingError=b.message,a.loadingState="ERROR",b;a.loadingState="LOADED",a.count=c})}],priority:30})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(a,b,c){(function(a){"use strict";function c(a,b){var c={};return f(b,function(b){c[b]=a[b]}),c}function d(a){var b={},d=["active","available","completed","disabled","enabled","terminated"];return f(a,function(a){b[a.id]=c(a,d)}),b}function e(a,b){var c=0;return f(b,function(b){c+=a[b]||0}),c}var f=("undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null).forEach,g='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/definition/overlays/case-activity-statistics.html -->\n<span ng-if="open && open > 0"\n      class="badge activity-bottom-left-position"\n      tooltip="{{ \'PLGN_CS_OPEN_ACTIVITY_INSTANCES\' | translate }}"\n      tooltip-placement="top"\n      tooltip-animation="false"\n      ng-click="selectActivity(cmmnElement)">\n  {{ open | abbreviateNumber }}\n</span>\n\n<span ng-if="finished && finished > 0"\n      class="badge activity-bottom-right-position activity-instance-finished"\n      tooltip="{{ \'PLGN_CS_FINISHED_ACTIVITY_INSTANCES\' | translate }}"\n      tooltip-placement="top"\n      tooltip-animation="false"\n      ng-click="selectActivity(cmmnElement)">\n  {{ finished | abbreviateNumber }}\n</span>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/definition/overlays/case-activity-statistics.html -->\n';b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.caseDefinition.diagram.overlay",{id:"case-activity-statistics",template:g,initialize:["$q","camAPI",function(a,b){var c=b.resource("history"),e=this.diagramData,f=this.definition;e.provide("statistics",function(){var b=a.defer();return c.caseActivityStatistics(f,function(a,c){return a?b.reject(a):void b.resolve(d(c))}),b.promise})}],controller:["$scope","$location","search",function(a,b,c){function d(a,b){var c=a[h.id];return c?e(c,b):0}function g(){return JSON.parse((b.search()||{}).searchQuery||"[]")}var h=a.cmmnElement,i=a.diagramData,j=["active","available","enabled"],k=["completed","disabled","terminated"];i.observe("statistics",function(b){a.open=d(b,j),a.finished=d(b,k)}),a.selectActivity=function(a){var b=g();f(b.slice(),function(a){if("caseActivityIdIn"===a.type){var c=b.indexOf(a);c>-1&&b.splice(c,1)}}),b.push({type:"caseActivityIdIn",operator:"eq",value:a.id}),c.updateSilently({searchQuery:JSON.stringify(b)})}}],priority:100})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],50:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("../../../utils/CaseUtil"),f=e.getInstanceState,g=e.getInstanceUrl,h='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/definition/tabs/case-instances.html -->\n<div cam-searchable-area\n     config="instances.searchConfig"\n     on-search-change="onSearchChange(query, pages)"\n     array-types="[\'caseInstanceIds\', \'caseActivityIdIn\', \'caseDefinitionKeyNotIn\']"\n     variable-types="[\'variables\']"\n     loading-state="instances.loadingState"\n     text-empty="{{ \'PLGN_CS_NOT_FOUND\' | translate }}"\n     storage-group="\'CIF\'">\n\n  <table class="case-instance cam-table">\n\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="instances.sorting">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat="caseInstance in instances.caseInstances">\n\n        <td class="state">{{ getState(caseInstance) }}</td>\n\n        <td class="case-instance"\n            cam-widget-clipboard="caseInstance.id">\n          <a ng-href="{{ getCaseInstanceUrl(caseInstance) }}"\n             title="{{ caseInstance.id }}">\n            {{ caseInstance.id }}\n          </a>\n        </td>\n\n        <td class="create-time"\n            cam-widget-clipboard="caseInstance.createTime">{{ caseInstance.createTime | camDate }}</td>\n\n        <td ng-if="caseInstance.closeTime"\n            class="close-time"\n            cam-widget-clipboard="caseInstance.closeTime">{{ caseInstance.closeTime | camDate }}</td>\n        <td ng-if="!caseInstance.closeTime"\n            class="close-time">{{ caseInstance.closeTime | camDate }}</td>\n\n        <td ng-if="caseInstance.businessKey"\n            class="business-key"\n            cam-widget-clipboard="caseInstance.businessKey">{{ caseInstance.businessKey }}</td>\n        <td ng-if="!caseInstance.businessKey"\n            class="business-key">{{ caseInstance.businessKey }}</td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/definition/tabs/case-instances.html -->\n',i=a("../../components/case-instance-list");b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.caseDefinition.tab",{id:"case-instance-table",label:"PLGN_CS_INSTANCES",template:h,controller:["$location","$scope","camAPI","search","localConf","$translate",function(a,b,c,e,h,j){b.headColumns=[{"class":"state",request:"",sortable:!1,content:j.instant("PLGN_CS_STATE")},{"class":"case-instance uuid",request:"instanceId",sortable:!0,content:j.instant("PLGN_CS_ID")},{"class":"create-time",request:"createTime",sortable:!0,content:j.instant("PLGN_CS_CREATE_TIME")},{"class":"close-time",request:"closeTime",sortable:!0,content:j.instant("PLGN_CS_CLOSE_TIME")},{"class":"business-key",request:"businessKey",sortable:!0,content:j.instant("PLGN_CS_BUSINESS_KEY_COL")}];var k=b.instances=new i(c,{search:{searches:void 0,exclude:["caseDefinitionId","caseDefinitionKey","caseDefinitionName"]},pages:{current:parseInt(e().page||1,10)},defaultParams:{caseDefinitionId:b.definition.id},localConf:h,localConfProperty:"sortCaseInstancesTab"});d.forEach(k.searchConfig.tooltips,function(a,b){k.searchConfig.tooltips[b]=j.instant(a)}),k.searchConfig.types.map(function(a){return a.id.value=j.instant(a.id.value),a.operators&&(a.operators=a.operators.map(function(a){return a.value=j.instant(a.value),a})),a}),b.getState=f,b.getCaseInstanceUrl=function(b){return g(b,a.search())},b.onSearchChange=k.loadCaseInstances.bind(k),b.onSortChange=k.onSortChange.bind(k)}],priority:100})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../utils/CaseUtil":63,"../../components/case-instance-list":47}],51:[function(a,b,c){"use strict";var d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/actions/add-variable.html-->\n<a class="btn btn-default btn-toolbar"\n   href\n   ng-click="openDialog()"\n   tooltip="{{ \'PLGN_CS_TOOLTIP_ADD_VARIABLE\' | translate }}"\n   tooltip-placement="left"\n   ng-show="instance.active">\n  <span class="glyphicon glyphicon-plus"></span>\n</a>\n<div tooltip="{{ \'PLGN_CS_TOOLTIP_ADD_VARIABLE_NOT_POSSIBLE\' | translate }}"\n     tooltip-placement="left"\n     ng-hide="instance.active">\n  <a href class="btn btn-default btn-toolbar" disabled>\n    <span class="glyphicon glyphicon-plus"></span>\n  </a>\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/actions/add-variable.html-->\n',e=a("camunda-bpm-webapp/ui/cockpit/client/scripts/components/variables/variable-add-dialog"),f=function(a){a.registerDefaultView("cockpit.caseInstance.action",{id:"add-variable-action",label:"PLGN_CS_ADD_VARIABLE",template:d,controller:["$scope","$modal",function(a,b){a.openDialog=function(){var c=b.open({scope:a,resolve:{instance:function(){return a.instance},isProcessInstance:function(){return!1}},controller:e.controller,template:e.template});c.result.then(function(b){"SUCCESS"===b&&a.$root.$broadcast("variable.added")})}}],priority:10})};f.$inject=["ViewsProvider"],b.exports=f},{"camunda-bpm-webapp/ui/cockpit/client/scripts/components/variables/variable-add-dialog":2}],52:[function(a,b,c){"use strict";var d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/case/app/plugins/instance/actions/terminate-case-instance.html -->\n<a class="btn btn-default btn-toolbar"\n   href\n   ng-click="openDialog()"\n   tooltip="{{ \'PLGN_CS_TERMINATE_INSTANCE\' | translate }}"\n   tooltip-placement="left"\n   ng-show="instance.active">\n  <span class="glyphicon glyphicon-remove"></span>\n</a>\n<div tooltip="{{ \'PLGN_CS_TERMINATE_INSTANCE_NOT_POSSIBLE\' | translate }}"\n     tooltip-placement="left"\n     ng-hide="instance.active">\n  <a href class="btn btn-default btn-toolbar" disabled>\n    <span class="glyphicon glyphicon-remove"></span>\n  </a>\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/case/app/plugins/instance/actions/terminate-case-instance.html -->\n',e="<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/case/app/plugins/instance/dialogs/terminate-case-instance-dialog.html -->\n<div class=\"modal-header\">\n  <h3>{{ 'PLGN_CS_TERMINATE' | translate }}</h3>\n</div>\n\n<div class=\"modal-body terminate-case-instance\">\n\n  <div notifications-panel></div>\n\n  <div ng-show=\"status === 'beforeTermination'\">\n    {{ 'PLGN_CS_SURE' | translate }}\n  </div>\n\n  <div ng-show=\"status === 'terminationSuccess'\">\n    {{ 'PLGN_CS_TERMINATED_SUCCESSFULLY' | translate }}\n  </div>\n\n  <div ng-show=\"status === 'terminationFailed'\">\n    <p>{{ 'PLGN_CS_COULD_NOT_TERMINATED' | translate }}</p>\n    <p>{{ 'PLGN_CS_ALREADY_TERMINATED' | translate }}</p>\n  </div>\n</div>\n\n<div class=\"modal-footer\">\n  <button class=\"btn btn-default\"\n          ng-click=\"close(status)\"\n          ng-disabled=\"status === 'performTermination'\"\n          ng-hide=\"status === 'terminationSuccess' || status === 'terminationFailed'\">\n    {{ 'PLGN_CS_CLOSE' | translate }}\n  </button>\n\n  <button class=\"btn btn-primary\"\n          ng-click=\"close(status)\"\n          ng-show=\"status === 'terminationSuccess' || status === 'terminationFailed'\">\n    {{ 'PLGN_CS_OK' | translate }}\n  </button>\n\n  <button class=\"btn btn-primary\"\n          ng-click=\"terminateCaseInstance()\"\n          ng-disabled=\"status !== 'beforeTermination'\"\n          ng-hide=\"status === 'terminationSuccess' || status === 'terminationFailed'\">\n    {{ 'PLGN_CS_TERMINATE' | translate }}\n  </button>\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/case/app/plugins/instance/dialogs/terminate-case-instance-dialog.html -->\n",f=function(a){a.registerDefaultView("cockpit.caseInstance.action",{id:"terminate-case-instance",label:"PLGN_CS_TERMINATE",template:d,controller:["$scope","$modal",function(a,b){a.openDialog=function(){b.open({resolve:{caseInstance:function(){return a.instance}},controller:"TerminateCaseInstanceController",template:e})}}],priority:50})};f.$inject=["ViewsProvider"],b.exports=f},{}],53:[function(a,b,c){"use strict";b.exports=["$modalInstance","$route","$scope","Notifications","camAPI","caseInstance","$translate",function(a,b,c,d,e,f,g){var h="beforeTermination",i="performTermination",j="terminationSuccess",k="terminationFailed";c.caseInstance=f,c.status=h,c.$on("$routeChangeStart",function(){a.close(c.status)}),c.terminateCaseInstance=function(){c.status=i;var a=e.resource("case-instance");a.terminate(f.id,null,function(a){return a?(c.status=k,d.addError({status:g.instant("PLGN_CS_NOTIFICATIONS_FAILED"),message:g.instant("PLGN_CS_NOTIFICATIONS_FAILED_MSG")+a.message,exclusive:["type"]})):(c.status=j,void d.addMessage({status:g.instant("PLGN_CS_NOTIFICATIONS_TERMINATED"),message:g.instant("PLGN_CS_NOTIFICATIONS_SUCCESSFUL")}))})},c.close=function(c){a.close(c),c===j&&b.reload()}}]},{}],54:[function(a,b,c){(function(a){"use strict";function c(a,b){var c=0;return d(b,function(b){d(a,function(a){c+=a[b]||0})}),c}var d=("undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null).forEach,e='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/overlays/case-activity-statistics.html -->\n<span ng-if="open && open > 0"\n      class="badge activity-bottom-left-position"\n      tooltip="{{ \'PLGN_CS_OPEN_ACTIVITY_INSTANCES\' | translate }}"\n      tooltip-placement="top"\n      tooltip-animation="false">\n  {{ open | abbreviateNumber }}\n</span>\n\n<span ng-if="finished && finished > 0"\n      class="badge activity-bottom-right-position activity-instance-finished"\n      tooltip="{{ \'PLGN_CS_FINISHED_ACTIVITY_INSTANCES\' | translate }}"\n      tooltip-placement="top"\n      tooltip-animation="false">\n  {{ finished | abbreviateNumber }}\n</span>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/overlays/case-activity-statistics.html -->\n';b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.caseInstance.diagram.overlay",{id:"case-activity-statistics",template:e,controller:["$scope",function(a){function b(a,b){return a?c(a,b):0}var d=a.cmmnElement,e=a.diagram,f=["active","available","enabled"],g=["completed","disabled","terminated"];a.$watch(function(){return e.getActivityInstancesByElement(d)},function(c){a.open=b(c,f),a.finished=b(c,g)})}],priority:100})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],55:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=d.forEach,f=a("../../../utils/CaseUtil").getInstanceState,g='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/tabs/audit-log.html -->\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-empty="{{ \'PLGN_CS_NO_ACTIVITY_INSTANCES\' | translate }}"\n     text-error="{{ \'PLGN_CS_FAILED_TO_LOAD\' | translate }}">\n  <table class="history-audit-log cam-table cam-fixed-layout">\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="sorting">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat="activityInstance in activityInstances">\n\n        <td class="state">{{ getState(activityInstance) }}</td>\n\n        <td class="activity">\n          <a ng-href="#/case-instance/{{ instance.id }}?detailsTab=case-audit-log&amp;searchQuery={{ getActivitySearches(activityInstance) }}">\n            {{ getActivityName(activityInstance) }}\n          </a>\n        </td>\n\n        <td class="start-time"\n            cam-widget-clipboard="activityInstance.createTime">\n          {{ activityInstance.createTime | camDate }}\n        </td>\n\n        <td class="end-time"\n            ng-if="activityInstance.endTime"\n            cam-widget-clipboard="activityInstance.endTime">\n          {{ activityInstance.endTime | camDate }}\n        </td>\n\n        <td class="end-time"\n            ng-if="!activityInstance.endTime">\n        </td>\n\n        <td class="activity-instance"\n            cam-widget-clipboard="activityInstance.id">\n          {{ activityInstance.id }}\n        </td>\n\n      </tr>\n    </tbody>\n  </table>\n\n\n  <pagination ng-if="pages.total > pages.size"\n              class="pagination-sm"\n\n              page="pages.current"\n              ng-model="pages.current"\n\n              total-items="pages.total"\n              items-per-page="pages.size"\n\n              max-size="7"\n              boundary-links="true"></pagination>\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/tabs/audit-log.html -->\n';b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.caseInstance.tab",{id:"case-audit-log",label:"PLGN_CS_AUDIT_LOG",template:g,controller:["$location","$scope","$timeout","$translate","camAPI","search","localConf",function(a,b,c,g,h,i,j){function k(a){return j.get("sortCaseInstanceAuditTab",a)}function l(a){j.set("sortCaseInstanceAuditTab",a)}function m(){return JSON.parse((a.search()||{}).searchQuery||"[]")}function n(a,c){function e(a){throw b.loadingError=a.message,b.loadingState="ERROR",a}var f=h.resource("history"),g=r.current,i=r.size,j=(g-1)*i,k=o(a,"caseActivityIdIn"),l={caseInstanceId:p.id,caseDefinitionId:p.caseDefinitionId,caseActivityIdIn:k},m={firstResult:j,maxResults:i,sortBy:c.sortBy,sortOrder:c.sortOrder},n=d.extend({},l),q=d.extend({},l,m);b.activityInstances=[],b.loadingState="LOADING",f.caseActivityInstanceCount(n,function(a,c){return a?e(a):(r.total=c.count,c.count?void f.caseActivityInstance(q,function(a,c){return a?e(a):(b.activityInstances=c,void(b.loadingState="LOADED"))}):void(b.loadingState="EMPTY"))})}function o(a,b){var c=[];return e(a,function(a){a.type===b&&c.push(a.value)}),c}var p=b.instance,q={size:50,total:0,current:parseInt(i().page||1,10)},r=b.pages=d.copy(q),s=!1,t=b.sorting=k({sortBy:"createTime",sortOrder:"desc"}),u=b.searches=m();b.headColumns=[{"class":"state",request:"",sortable:!1,content:g.instant("PLGN_CS_STATE")},{"class":"activity",request:"caseActivityName",sortable:!0,content:g.instant("PLGN_CS_ACTIVITY")},{"class":"start-time",request:"createTime",sortable:!0,content:g.instant("PLGN_CS_START_TIME")},{"class":"end-time",request:"endTime",sortable:!0,content:g.instant("PLGN_CS_END_TIME")},{"class":"activity-instance",request:"caseActivityInstanceId",sortable:!0,content:g.instant("PLGN_CS_ACTIVITY_INSTANCE_ID")}],b.$on("$locationChangeSuccess",function(){if(a.path().indexOf("/case-instance/")>-1){var e=m();d.equals(e,b.searches)||(s=!0,u=b.searches=e,c(function(){s=!1})),r.current=parseInt(i().page||1,10)}}),b.$watch("pages.current",function(a,c){a!==c&&!s&&n(b.searches,t),i("page",a&&1!=a?a:null)}),b.$watch("searches",function(a){n(a,t)}),b.onSortChange=function(a){t=b.sorting=a,l(a),n(u,t)},b.getState=f,b.getActivityName=function(a){var b=a.caseActivityName,c=a.caseActivityType,d=a.caseActivityId;return b||c[0].toUpperCase()+c.slice(1)+" ("+d+")"},b.getActivitySearches=function(a){var b=m();return e(b.slice(),function(a){if("caseActivityIdIn"===a.type){var c=b.indexOf(a);c>-1&&b.splice(c,1)}}),b.push({type:"caseActivityIdIn",operator:"eq",value:a.caseActivityId}),JSON.stringify(b)}}],priority:100})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../utils/CaseUtil":63}],56:[function(a,b,c){"use strict";var d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/tabs/called-case-instances.html -->\n<div cam-widget-loader\n     loading-state="{{ calledElement.loadingState }}"\n     text-empty="{{ \'PLGN_CS_NO_CALLED_INSTANCES\' | translate }}">\n\n  <table class="called-process-instance cam-table">\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="calledElement.sorting">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat="calledCaseInstance in calledElement.calledInstances">\n        <td class="instance uuid"\n            cam-widget-clipboard="calledCaseInstance.id">\n          <a href="#/case-instance/{{ calledCaseInstance.id }}">\n            {{ calledCaseInstance.id }}\n          </a>\n        </td>\n\n        <td class="definition"\n            cam-widget-clipboard="calledCaseInstance.caseDefinitionId">\n          <a href="#/case-definition/{{ calledCaseInstance.caseDefinitionId }}">\n            {{ calledCaseInstance.caseDefinitionName || calledCaseInstance.caseDefinitionKey || calledCaseInstance.caseDefinitionId }}\n          </a>\n        </td>\n\n        <td class="activity">\n          <a ng-href="#/case-instance/{{ instance.id }}?detailsTab=called-case-instances&searchQuery={{ calledElement.getActivitySearches(calledCaseInstance) }}">\n            {{ calledElement.getCalledElementName(calledCaseInstance) }}\n          </a>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <pagination ng-if="calledElement.pages.total > calledElement.pages.size"\n              class="pagination-sm"\n\n              page="calledElement.pages.current"\n              ng-model="calledElement.pages.current"\n\n              total-items="calledElement.pages.total"\n              items-per-page="calledElement.pages.size"\n\n              max-size="7"\n              boundary-links="true"></pagination>\n\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/tabs/called-case-instances.html -->\n',e=a("../../components/called-element");b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.caseInstance.tab",{id:"called-case-instances",label:"PLGN_CS_CALLED_CASE_INSTANCES",template:d,controller:["$location","$scope","$translate","camAPI","search","localConf",function(a,b,c,d,f,g){function h(a){return g.get("sortCICalledCIsTab",a)}function i(a){g.set("sortCICalledCIsTab",a)}var j=b.instance,k=b.diagram;b.headColumns=[{"class":"instance uuid",request:"instanceId",sortable:!0,content:c.instant("PLGN_CS_CALLED_INSTANCES")},{"class":"definition",request:"",sortable:!1,content:c.instant("PLGN_CS_DEFINITION")},{"class":"activity",request:"",sortable:!1,content:c.instant("PLGN_CS_ACTIVITY")}];var l=b.calledElement=new e(j,a,d,k,{count:"caseInstanceCount",instances:"caseInstance",calledInstanceId:"calledCaseInstanceId",superInstanceId:"superCaseInstanceId",currentPage:parseInt(f().page||1,10),sorting:h({sortBy:"instanceId",sortOrder:"asc"}),sortParamsArray:!0});b.onSortChange=function(a){i(a),l.onSortChange(a)},b.$on("$routeChanged",function(){l.pages.current=parseInt(f().page||1,10)}),b.$watch("calledElement.pages.current",function(a,b){a!==b&&l.loadCalledInstances(),f("page",a&&1!=a?a:null)}),l.loadCalledInstances()}],priority:40})}]},{"../../components/called-element":46}],57:[function(a,b,c){"use strict";var d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/tabs/called-process-instances.html -->\n<div cam-widget-loader\n     loading-state="{{ calledElement.loadingState }}"\n     text-empty="{{ \'PLGN_CS_NO_CALLED_PROCESS_INSTANCES\' | translate }}">\n\n  <table class="called-process-instance cam-table">\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="calledElement.sorting">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat="calledProcessInstance in calledElement.calledInstances">\n        <td class="called process-instance uuid"\n            cam-widget-clipboard="calledProcessInstance.id">\n          <a href="#/process-instance/{{ calledProcessInstance.id }}/history">\n            {{ calledProcessInstance.id }}\n          </a>\n        </td>\n\n        <td class="process-definition"\n            cam-widget-clipboard="calledProcessInstance.processDefinitionId">\n          <a href="#/process-definition/{{ calledProcessInstance.processDefinitionId }}/history">\n            {{ calledProcessInstance.processDefinitionName || calledProcessInstance.processDefinitionKey || calledProcessInstance.processDefinitionId }}\n          </a>\n        </td>\n\n        <td class="activity">\n          <a ng-href="#/case-instance/{{ instance.id }}?detailsTab=called-process-instances&searchQuery={{ calledElement.getActivitySearches(calledProcessInstance) }}">\n            {{ calledElement.getCalledElementName(calledProcessInstance) }}\n          </a>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <pagination ng-if="calledElement.pages.total > calledElement.pages.size"\n              class="pagination-sm"\n\n              page="calledElement.pages.current"\n              ng-model="calledElement.pages.current"\n\n              total-items="calledElement.pages.total"\n              items-per-page="calledElement.pages.size"\n\n              max-size="7"\n              boundary-links="true"></pagination>\n\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/tabs/called-process-instances.html -->\n',e=a("../../components/called-element");b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.caseInstance.tab",{id:"called-process-instances",label:"PLGN_CS_CALLED_PROCESS_INSTANCES",template:d,controller:["$location","$scope","$translate","camAPI","search","localConf",function(a,b,c,d,f,g){function h(a){return g.get("sortCICalledPIsTab",a)}function i(a){g.set("sortCICalledPIsTab",a)}var j=b.instance,k=b.diagram;b.headColumns=[{"class":"called process-instance uuid",request:"instanceId",sortable:!0,content:c.instant("PLGN_CS_CALLED_PROCESS_INSTANCE")},{"class":"process-definition",request:"definitionName",sortable:!0,content:c.instant("PLGN_CS_PROCESS_DEFINITION")},{"class":"activity",request:"",sortable:!1,content:c.instant("PLGN_CS_ACTIVITY")}];var l=b.calledElement=new e(j,a,d,k,{count:"processInstanceCount",instances:"processInstance",calledInstanceId:"calledProcessInstanceId",superInstanceId:"superCaseInstanceId",currentPage:parseInt(f().page||1,10),sorting:h({sortBy:"instanceId",sortOrder:"asc"}),sortParamsArray:!0});b.onSortChange=function(a){i(a),l.onSortChange(a)},b.$on("$routeChanged",function(){l.pages.current=parseInt(f().page||1,10)}),b.$watch("calledElement.pages.current",function(a,b){a!==b&&l.loadCalledInstances(),f("page",a&&1!=a?a:null)}),l.loadCalledInstances()}],priority:50})}]},{"../../components/called-element":46}],58:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/tabs/executed-decision-instances.html -->\n<div cam-widget-loader\n     loading-state="{{ calledElement.loadingState }}"\n     text-empty="{{ \'PLGN_CS_NO_DECISION_INSTANCES\' | translate }}">\n  <table class="decision-instances cam-table">\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="calledElement.sorting">\n    </thead>\n    <tbody>\n      <tr ng-repeat="decisionInstance in calledElement.calledInstances">\n        <td class="instance-id uuid"\n            cam-widget-clipboard="decisionInstance.id">\n          <a ng-href="#/decision-instance/{{ decisionInstance.id }}" title="{{ decisionInstance.id }}">\n            {{ decisionInstance.id }}\n          </a>\n        </td>\n\n        <td class="start-time"\n            cam-widget-clipboard="decisionInstance.evaluationTime">\n          {{ decisionInstance.evaluationTime | camDate }}\n        </td>\n\n        <td class="decision-definition-key"\n            cam-widget-clipboard="decisionInstance.decisionDefinitionKey">\n          <a ng-href="#/decision-definition/{{ decisionInstance.decisionDefinitionId }}/history">\n            {{ decisionInstance.decisionDefinitionName || decisionInstance.decisionDefinitionKey || decisionInstance.decisionDefinitionId }}\n          </a>\n        </td>\n\n        <td class="drd-definition"\n            ng-if="decisionInstance.decisionRequirementsDefinitionId"\n            cam-widget-clipboard="decisionInstance.decisionRequirementsDefinitionKey">\n          <a ng-href="#/decision-requirement/{{ decisionInstance.decisionRequirementsDefinitionId }}/history">\n            {{ decisionInstance.decisionRequirementsDefinitionKey }}\n          </a>\n        </td>\n\n        <td class="drd-definition"\n            ng-if="!decisionInstance.decisionRequirementsDefinitionId">\n        </td>\n\n        <td class="activity">\n          <a ng-href="#/case-instance/{{ instance.id }}?detailsTab=executed-decision-instances&searchQuery={{ getActivitySearches(decisionInstance) }}">\n            {{ getCalledElementName(decisionInstance) }}\n          </a>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <pagination ng-if="calledElement.pages.total > calledElement.pages.size"\n              class="pagination-sm"\n\n              page="calledElement.pages.current"\n              ng-model="calledElement.pages.current"\n\n              total-items="calledElement.pages.total"\n              items-per-page="calledElement.pages.size"\n\n              max-size="7"\n              boundary-links="true"></pagination>\n\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/tabs/executed-decision-instances.html -->\n\n',f=a("../../components/called-element");
b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.caseInstance.tab",{id:"executed-decision-instances",label:"PLGN_CS_EXECUTED_DECISION_INSTANCES",template:e,controller:["$location","$scope","$timeout","$translate","camAPI","search","localConf",function(a,b,c,e,g,h,i){function j(a){return i.get("sortCIExecutedDIsTab",a)}function k(a){i.set("sortCIExecutedDIsTab",a)}var l=b.instance,m=b.diagram,n=!1;b.headColumns=[{"class":"instance-id uuid",request:"",sortable:!1,content:e.instant("PLGN_CS_ID")},{"class":"start-time",request:"evaluationTime",sortable:!0,content:e.instant("PLGN_CS_EVALUATION_TIME")},{"class":"decision-definition",request:"",sortable:!1,content:e.instant("PLGN_CS_DECISION_DEFINITION")},{"class":"drd-definition",request:"",sortable:!1,content:e.instant("PLGN_CS_DECISION_REQUIREMENTS_DEFINITION")},{"class":"activity",request:"",sortable:!1,content:e.instant("PLGN_CS_ACTIVITY")}];var o=b.calledElement=new f(l,a,g,m,{count:"decisionInstanceCount",instances:"decisionInstance",withActivityIdIn:!0,superInstanceId:"caseInstanceId",currentPage:parseInt(h().page||1,10),sorting:j({sortBy:"evaluationTime",sortOrder:"desc"})});b.searches=o._getSearchQuery(),b.onSortChange=function(a){k(a),o.onSortChange(a)},b.$on("$locationChangeSuccess",function(){if(a.path().indexOf("/case-instance/")>-1){var e=o._getSearchQuery();d.equals(e,b.searches)||(n=!0,b.searches=e,c(function(){n=!1})),o.pages.current=parseInt(h().page||1,10)}}),b.$watch("calledElement.pages.current",function(a,b){a!==b&&!n&&o.loadCalledInstances(),h("page",a&&1!=a?a:null)}),b.$watch("searches",function(){o.loadCalledInstances()}),b.getActivitySearches=function(a){var b=m.getActivityInstanceById(a.activityInstanceId);if(b){var c=o._clearSearches(o._getSearchQuery());return c.push(o._createSearch(b)),JSON.stringify(c)}},b.getCalledElementName=function(a){var b=m.getActivityInstanceById(a.activityInstanceId);return o._getActivityName(b)}}],priority:30})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../components/called-element":46}],59:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null,d=c.forEach,e='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/tabs/user-tasks.html -->\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-empty="{{ \'PLGN_CS_NO_USER_TASKS\' | translate }}">\n  <table class="case-instance user-tasks cam-table">\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="sorting">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat="userTask in userTasks">\n        <td class="activity">\n          <a ng-href="#/case-instance/{{ instance.id }}?detailsTab=user-tasks&amp;searchQuery={{ getTaskSearches(userTask) }}">\n            {{ userTask.name }}\n          </a>\n        </td>\n\n        <td class="assignee"\n            ng-if="userTask.assignee"\n            cam-widget-clipboard="userTask.assignee">\n          {{ userTask.assignee }}\n        </td>\n        <td class="assignee"\n            ng-if="!userTask.assignee"></td>\n\n        <td class="owner"\n            ng-if="userTask.owner"\n            cam-widget-clipboard="userTask.owner">\n          {{ userTask.owner }}\n        </td>\n        <td class="owner"\n            ng-if="!userTask.owner"></td>\n\n        <td class="created"\n            cam-widget-clipboard="userTask.startTime">\n          {{ userTask.startTime | camDate }}\n        </td>\n\n        <td class="completion-date"\n            ng-if="userTask.endTime"\n            cam-widget-clipboard="userTask.endTime">\n          {{ userTask.endTime | camDate }}\n        </td>\n        <td class="completion-date"\n            ng-if="!userTask.endTime"></td>\n\n        <td class="duration"\n            ng-if="userTask.duration"\n            cam-widget-clipboard="userTask.duration">\n          {{ userTask.duration | duration }}\n        </td>\n        <td class="duration"\n            ng-if="!userTask.duration"></td>\n\n        <td class="due"\n            ng-if="userTask.due"\n            cam-widget-clipboard="userTask.due">\n          {{ userTask.due | camDate  }}\n        </td>\n        <td class="due"\n            ng-if="!userTask.due"></td>\n\n        <td class="follow-up-date"\n            ng-if="userTask.followUp"\n            cam-widget-clipboard="userTask.followUp">\n          {{ userTask.followUp | camDate  }}\n        </td>\n        <td class="follow-up-date"\n            ng-if="!userTask.followUp"></td>\n\n        <td class="priority">\n          {{ userTask.priority }}\n        </td>\n\n        <td class="task-id uuid"\n            cam-widget-clipboard="userTask.id">\n          {{ userTask.id }}\n        </td>\n\n      </tr>\n    </tbody>\n  </table>\n\n\n  <pagination ng-if="pages.total > pages.size"\n              class="pagination-sm"\n\n              page="pages.current"\n              ng-model="pages.current"\n\n              total-items="pages.total"\n              items-per-page="pages.size"\n\n              max-size="7"\n              boundary-links="true"></pagination>\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/tabs/user-tasks.html -->\n';b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.caseInstance.tab",{id:"user-tasks",label:"PLGN_CS_USER_TASKS",template:e,controller:["$location","$scope","$timeout","$translate","camAPI","search","localConf",function(a,b,e,f,g,h,i){function j(a){return i.get("sortCaseInstanceUserTaskTab",a)}function k(a){i.set("sortCaseInstanceUserTaskTab",a)}function l(){return JSON.parse((a.search()||{}).searchQuery||"[]")}function m(a,d){function e(a){throw b.loadingError=a.message,b.loadingState="ERROR",a}var f=g.resource("history"),h=q.current,i=q.size,j=(h-1)*i,k=n(a,"caseActivityIdIn"),l={caseInstanceId:o.id,caseDefinitionId:o.caseDefinitionId,taskDefinitionKeyIn:k.length?k:void 0},m={firstResult:j,maxResults:i,sorting:[{sortBy:d.sortBy,sortOrder:d.sortOrder}]},p=c.extend({},l),r=c.extend({},l,m);b.userTasks=[],b.loadingState="LOADING",f.taskCount(p,function(a,c){return a?e(a):(q.total=c.count,c.count?void f.task(r,function(a,c){return a?e(a):(b.userTasks=c,void(b.loadingState="LOADED"))}):void(b.loadingState="EMPTY"))})}function n(a,b){var c=[];return d(a,function(a){a.type===b&&c.push(a.value)}),c}var o=b.instance,p={size:50,total:0,current:h().page||1},q=b.pages=c.copy(p),r=!1,s=b.sorting=j({sortBy:"startTime",sortOrder:"desc"}),t=b.searches=l();b.headColumns=[{"class":"activity",request:"taskName",sortable:!0,content:f.instant("PLGN_CS_ACTIVITY")},{"class":"assignee",request:"assignee",sortable:!0,content:f.instant("PLGN_CS_ASSIGNEE")},{"class":"owner",request:"owner",sortable:!0,content:f.instant("PLGN_CS_OWNER")},{"class":"created",request:"startTime",sortable:!0,content:f.instant("PLGN_CS_CREATION_DATE")},{"class":"completion-date",request:"endTime",sortable:!0,content:f.instant("PLGN_CS_COMPLETION_DATE")},{"class":"duration",request:"duration",sortable:!0,content:f.instant("PLGN_CS_DURATION")},{"class":"due",request:"dueDate",sortable:!0,content:f.instant("PLGN_CS_DUE_DATE")},{"class":"follow-up-date",request:"followUpDate",sortable:!0,content:f.instant("PLGN_CS_FOLLOW_UP_DATE")},{"class":"priority",request:"priority",sortable:!0,content:f.instant("PLGN_CS_PRIORITY")},{"class":"task-id uuid",request:"taskId",sortable:!0,content:f.instant("PLGN_CS_TASK_ID")}],b.$on("$locationChangeSuccess",function(){if(a.path().indexOf("/case-instance/")>-1){var d=l();c.equals(d,b.searches)||(r=!0,t=b.searches=d,e(function(){r=!1})),q.current=parseInt(h().page||1,10)}}),b.$watch("pages.current",function(a,c){a!==c&&!r&&m(b.searches,s),h("page",a&&1!=a?a:null)}),b.$watch("searches",function(a){m(a,s)}),b.onSortChange=function(a){s=b.sorting=a,k(a),m(t,s)},b.getTaskSearches=function(a){var b=l();return d(b.slice(),function(a){if("caseActivityIdIn"===a.type){var c=b.indexOf(a);c>-1&&b.splice(c,1)}}),b.push({type:"caseActivityIdIn",operator:"eq",value:a.taskDefinitionKey}),JSON.stringify(b)}}],priority:60})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],60:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=d.forEach,f='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/tabs/variable-instances.html -->\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-empty="{{ \'PLGN_CS_NO_CASE_VARIABLES\' | translate }}">\n\n  <div cam-widget-variables-table\n       cam-variables="variables"\n       cam-editable="editableColums"\n       on-edit="editVariable"\n       on-upload="uploadVariable"\n       on-save="saveVariable"\n       on-delete="deleteVariable"\n       on-download="downloadVariable"\n       default-sort = "sortObj"\n       on-Sort-Change="onSortChange(searches, pages,sortObj)"\n       cam-headers="headColumns"\n       is-variable-editable="isVariableEditable">\n  </div>\n\n  <pagination ng-if="pages.total > pages.size"\n              class="pagination-sm"\n\n              page="pages.current"\n              ng-model="pages.current"\n\n              total-items="pages.total"\n              items-per-page="pages.size"\n\n              max-size="7"\n              boundary-links="true"></pagination>\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/tabs/variable-instances.html -->\n',g=a("camunda-bpm-webapp/ui/cockpit/client/scripts/components/variables/variable-inspect-dialog"),h=a("camunda-bpm-webapp/ui/cockpit/client/scripts/components/variables/variable-upload-dialog");b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.caseInstance.tab",{id:"variable-instances",label:"PLGN_CS_VARIABLES",template:f,controller:["$location","$modal","$q","$scope","$timeout","camAPI","search","Notifications","Uri","fixDate","unfixDate","$translate","localConf",function(a,b,c,f,i,j,k,l,m,n,o,p,q){function r(a){return"engine://engine/:engine/case-execution/"+a.caseExecutionId+"/localVariables/"+a.name}function s(a,b,e,f){function g(b){b?(l.addError({status:p.instant("PLGN_CS_NOTIFICATIONS_STATUS_VARIABLE"),message:p.instant("PLGN_CS_NOTIFICATIONS_MSG_FAILED",{name:a.name,operation:e}),exclusive:!0,duration:5e3}),h.reject()):(l.addMessage({status:p.instant("PLGN_CS_NOTIFICATIONS_STATUS_VARIABLE"),message:p.instant("PLGN_CS_NOTIFICATIONS_MSG_SUCCESSFUL",{name:a.name,operation:e}),duration:5e3}),f&&f(),h.resolve(a))}var h=c.defer();return a.taskId?(b=d.extend({id:a.taskId},b),F.modifyVariables(b,g)):(b=d.extend({id:a.caseExecutionId},b),G.modifyVariables(b,g)),h.promise}function t(){var a=f.$root.$$phase,b="$apply"!==a&&"$digest"!==a,c=b?f.$apply.bind(f):function(a){a()};c(function(){var a=z(u(),"activityInstanceIdIn");k.updateSilently({searchQuery:JSON.stringify(a)})})}function u(){return JSON.parse((a.search()||{}).searchQuery||"[]")}function v(a){var b=z(u(),["caseActivityIdIn","activityInstanceIdIn"]),c=E.getActivityInstanceById(a.activityInstanceId);return b.push({type:c?"caseActivityIdIn":"activityInstanceIdIn",operator:"eq",value:c?c.caseActivityId:a.activityInstanceId}),JSON.stringify(b)}function w(a){var b=E.getActivityInstanceById(a.activityInstanceId);if(b){var c=b.caseActivityName,d=b.caseActivityType,e=b.caseActivityId;return c||d[0].toUpperCase()+d.slice(1)+" ("+e+")"}if(C&&a.activityInstanceId===D.id)return C.name||C.key}function x(a,b,c){function e(a){throw f.loadingError=a.message,f.loadingState="ERROR",a}f.pagesObj=b||f.pagesObj,f.sortObj=c||f.sortObj;var g=f.pagesObj.current,h=f.pagesObj.size,i=(g-1)*h,j=y(a,"caseActivityIdIn"),k=y(a,"activityInstanceIdIn"),l={caseInstanceId:D.id,caseDefinitionId:D.caseDefinitionId,caseActivityIdIn:j,activityInstanceIdIn:k};c&&(l.sorting=[c],A(c));var m={firstResult:i,maxResults:h,deserializeValues:!1},n=d.extend({},l),p=d.extend({},l,m);f.variables=[],f.loadingState="LOADING",H.variableInstanceCount(n,function(a,c){return a?e(a):(b.total=c.count,c.count?void H.variableInstance(p,function(a,b){return a?e(a):(f.loadingState="LOADED",void(f.variables=b.map(function(a){return"Date"===a.type&&(a.value=o(a.value)),{variable:{id:a.id,name:a.name,type:a.type,value:a.value,valueInfo:a.valueInfo,taskId:a.taskId,caseExecutionId:a.caseExecutionId,activityInstanceId:a.activityInstanceId},original:a,additions:{scope:{html:'<a ng-href="#/case-instance/'+D.id+'?detailsTab=variable-instances&searchQuery={{ getVariableSearchQuery(variable) }}"> {{ getVariableScope(variable) }}</a>',scopeVariables:{getVariableScope:w,getVariableSearchQuery:v}}}}})))}):void(f.loadingState="EMPTY"))})}function y(a,b){var c=[];return e(a,function(a){a.type===b&&c.push(a.value)}),c}function z(a,b){return"string"==typeof b&&(b=[b]),e(a.slice(),function(c){if(b.indexOf(c.type)>-1){var d=a.indexOf(c);d>-1&&a.splice(d,1)}}),a}function A(a){q.set("sortHistVarInstTab",a)}function B(a){return q.get("sortHistVarInstTab",a)}var C=f.definition,D=f.instance,E=f.diagram,F=j.resource("task"),G=j.resource("case-execution"),H=j.resource("history");f.headColumns=[{"class":"name",request:"variableName",sortable:!0,content:p.instant("PLGN_CS_VARIABLE_NAME")},{"class":"type",request:"",sortable:!1,content:p.instant("PLGN_CS_VARIABLE_TYPE")},{"class":"value",request:"",sortable:!1,content:p.instant("PLGN_CS_VARIABLE_VALUE")},{"class":"scope",request:"",sortable:!1,content:p.instant("PLGN_CS_VARIABLE_SCOPE")}];var I={sortBy:"variableName",sortOrder:"asc"};f.sortObj=B(I);var J={size:50,total:0,current:parseInt(k().page||1,10)};f.pages=d.copy(J);var K,L=!1;f.searches=u(),f.editableColums=D.active?["type","value"]:[],f.onSortChange=function(a,b,c){return x(a,b,c)},f.$on("variable.added",function(){x(f.searches,f.pages,f.sortObj)}),f.$on("$locationChangeSuccess",function(){if(a.path().indexOf("/case-instance/")>-1){var b=u();d.equals(b,f.searches)||(L=!0,f.searches=b,i(function(){L=!1})),f.pages.current=parseInt(k().page||1,10)}}),f.$on("$destroy",function(){K&&K.off("element.click",t)}),f.$watch("definition",function(a){C=a}),f.$watch("pages.current",function(a,b){a!==b&&!L&&x(f.searches,f.pages,f.sortObj),k("page",a&&1!=a?a:null)}),f.$watch("searches",function(a){x(a,f.pages,f.sortObj)}),f.$watch("diagram.getViewer",function(a){K=a&&a().get("eventBus"),K&&K.on("element.click",t)});var M=f.isVariableEditable=function(a){var b=a.variable;if(D&&D.terminated)return!1;if(b.activityInstanceId===D.id)return!0;var c=E.getActivityInstanceById(b.activityInstanceId);if(!c)return!1;if(c.active)return!0;if(c.terminated||c.completed)return!1;var d=E.getActivityInstanceById(c.parentCaseActivityInstanceId);return d&&d.active};f.deleteVariable=function(a){var b=a.variable;return s(b,{deletions:[b.name]},"deleted")},f.saveVariable=function(a){var b=a.variable,c={},e=b.value,f=b.type;"Date"===f&&(e=n(e));var g={value:e,type:f};return a.original.type===f&&(g.valueInfo=b.valueInfo),c[b.name]=g,s(b,{modifications:c},"changed",function(){"Date"===g.type&&(g.value=o(g.value)),d.extend(b,g)})},f.editVariable=function(a){var d=c.defer();return b.open({template:g.template,controller:g.controller,windowClass:"cam-widget-variable-dialog",resolve:{basePath:function(){return r(a.variable)},history:function(){return!0},readonly:function(){return!M(a)},variable:function(){return a.variable}}}).result.then(function(){d.reject(),x(f.searches,f.pages,f.sortObj)},function(){d.reject()}),d.promise},f.uploadVariable=function(a){var d=c.defer();return b.open({template:h.template,controller:h.controller,resolve:{basePath:function(){return r(a.variable)},variable:function(){return a.variable}}}).result.then(function(){d.reject(),x(f.searches,f.pages,f.sortObj)},function(){d.reject()}),d.promise},f.downloadVariable=function(a){return m.appUri("engine://engine/:engine/history/variable-instance/"+a.variable.id+"/data")}}],priority:80})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"camunda-bpm-webapp/ui/cockpit/client/scripts/components/variables/variable-inspect-dialog":3,"camunda-bpm-webapp/ui/cockpit/client/scripts/components/variables/variable-upload-dialog":4}],61:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./dashboard/cases"),f=a("./casesDashboard/case-definitions"),g=a("./definition/tabs/case-instances"),h=a("./definition/overlay/case-activity-statistics"),i=a("./instance/tabs/variable-instances"),j=a("./instance/overlay/case-activity-statistics"),k=a("./instance/tabs/audit-log"),l=a("./instance/tabs/user-tasks"),m=a("./instance/tabs/called-process-instances"),n=a("./instance/tabs/called-case-instances"),o=a("./processInstance/tabs/called-case-instances"),p=a("./instance/tabs/executed-decision-instances"),q=a("./casesDashboard/case-instances-search"),r=a("./instance/actions/add-variable"),s=a("./instance/actions/terminate-case-instance"),t=a("./instance/dialogs/terminate-case-instance-dialog"),u=d.module("cockpit.plugin.case.plugins",[]);u.config(e),u.config(f),u.config(g),u.config(h),u.config(j),u.config(i),u.config(k),u.config(l),u.config(m),u.config(n),u.config(o),u.config(p),u.config(q),u.config(r),u.config(s),u.controller("TerminateCaseInstanceController",t),b.exports=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./casesDashboard/case-definitions":44,"./casesDashboard/case-instances-search":45,"./dashboard/cases":48,"./definition/overlay/case-activity-statistics":49,"./definition/tabs/case-instances":50,"./instance/actions/add-variable":51,"./instance/actions/terminate-case-instance":52,"./instance/dialogs/terminate-case-instance-dialog":53,"./instance/overlay/case-activity-statistics":54,"./instance/tabs/audit-log":55,"./instance/tabs/called-case-instances":56,"./instance/tabs/called-process-instances":57,"./instance/tabs/executed-decision-instances":58,"./instance/tabs/user-tasks":59,"./instance/tabs/variable-instances":60,"./processInstance/tabs/called-case-instances":62}],62:[function(a,b,c){(function(c){"use strict";var d=("undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null).forEach,e='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/processInstance/tabs/called-case-instances.html -->\n<div cam-widget-loader\n     loading-state="{{ calledElement.loadingState }}"\n     text-empty="{{ \'PLGN_CS_NO_CALLED_INSTANCES\' | translate }}">\n\n  <table class="called-process-instance cam-table">\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="calledElement.sorting">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat="calledCaseInstance in calledElement.calledInstances">\n        <td class="instance uuid"\n            cam-widget-clipboard="calledCaseInstance.id">\n          <a href="#/case-instance/{{ calledCaseInstance.id }}">\n            {{ calledCaseInstance.id }}\n          </a>\n        </td>\n\n        <td class="definition"\n            cam-widget-clipboard="calledCaseInstance.caseDefinitionId">\n          <a href="#/case-definition/{{ calledCaseInstance.caseDefinitionId }}">\n            {{ calledCaseInstance.caseDefinitionName || calledCaseInstance.caseDefinitionKey || calledCaseInstance.caseDefinitionId }}\n          </a>\n        </td>\n\n        <td class="activity">\n          <a cam-select-activity-instance="getCalledElementId(calledCaseInstance)"\n             ng-href="#/process-instance/{{ processInstance.id }}/history?detailsTab=called-case-instances">\n            {{ getCalledElementName(calledCaseInstance) }}\n          </a>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <pagination ng-if="calledElement.pages.total > calledElement.pages.size"\n              class="pagination-sm"\n\n              page="calledElement.pages.current"\n              ng-model="calledElement.pages.current"\n\n              total-items="calledElement.pages.total"\n              items-per-page="calledElement.pages.size"\n\n              max-size="7"\n              boundary-links="true"></pagination>\n\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/processInstance/tabs/called-case-instances.html -->\n',f=a("../../components/called-element");b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processInstance.history.tab",{id:"called-case-instances",label:"PLGN_CS_CALLED_CASE_INSTANCES",template:e,controller:["$location","$scope","$translate","camAPI","search","localConf",function(a,b,c,e,g,h){function i(a){var b={};return d(a,function(a){var c=a.calledCaseInstanceId;c&&(b[c]=a)}),b}function j(a){return h.get("sortHPICalledCIsTab",a)}function k(a){h.set("sortHPICalledCIsTab",a)}var l=b.processInstance,m=b.processData.newChild(b),n={};m.observe("activityInstances",function(a){n=i(a)}),b.headColumns=[{"class":"instance uuid",request:"instanceId",sortable:!0,content:c.instant("PLGN_CS_CALLED_CASE_INSTANCE")},{"class":"definition",request:"",sortable:!1,content:c.instant("PLGN_CS_CASE_DEFINITION")},{"class":"activity",request:"",sortable:!1,content:c.instant("PLGN_CS_ACTIVITY")}];var o=b.calledElement=new f(l,a,e,(void 0),{count:"caseInstanceCount",instances:"caseInstance",superInstanceId:"superProcessInstanceId",currentPage:parseInt(g().page||1,10),sorting:j({sortBy:"instanceId",sortOrder:"asc"}),sortParamsArray:!0});b.$on("$routeChanged",function(){o.pages.current=parseInt(g().page||1,10)}),b.$watch("calledElement.pages.current",function(a,b){a!==b&&o.loadCalledInstances(),g("page",a&&1!=a?a:null)}),b.getCalledElementName=function(a){var b=n[a.id];return b&&b.name},b.getCalledElementId=function(a){var b=n[a.id];return b&&b.id},b.onSortChange=function(a){k(a),o.onSortChange(a)},o.loadCalledInstances()}],priority:19})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../components/called-element":46}],63:[function(a,b,c){(function(c){"use strict";function d(a,b){var c=e.extend({},b||{});return f.redirectTo(a,c,["viewbox"])}var e="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,f=a("camunda-bpm-webapp/ui/common/scripts/util/routeUtil"),g={};g.getDeploymentUrl=function(a){var b="#/repository",c=a&&a.deploymentId,d={deployment:c,resourceName:a&&a.resource,deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:c}])};return f.redirectTo(b,d,["deployment","resourceName","deploymentsQuery"])},g.getInstanceUrl=function(a,b){var c="#/case-instance/"+a.id;return d(c,b)},g.getDefinitionUrl=function(a,b){var c="#/case-definition/"+a.id;return d(c,b)},g.getInstanceState=function(a){for(var b=["available","enabled","disabled","active","failed","suspended","completed","terminated","closed"],c=0;c<b.length;c++){var d=b[c];if(a[d])return d}},b.exports=g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"camunda-bpm-webapp/ui/common/scripts/util/routeUtil":6}],64:[function(a,b,c){"use strict";b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.navigation",{id:"cleanup",label:"PLGN_CLUP_CLEANUP",pagePath:"#/cleanup",checkActive:function(a){return a.indexOf("#/cleanup")>-1},controller:function(){},priority:-15})}]},{}],65:[function(a,b,c){(function(a){var c="undefined"!=typeof window?window.jquery:"undefined"!=typeof a?a.jquery:null,d=["$scope","Views","page","$translate",function(a,b,c,d){var e=function(){var b=a.$root;b.showBreadcrumbs=!0,c.breadcrumbsClear(),c.breadcrumbsAdd({label:d.instant("PLGN_CLUP_CLEANUP")}),c.titleSet(d.instant("PLGN_CLUP_CLEANUP"))};e(),a.plugins=b.getProviders({component:"cockpit.cleanup"})}],e=["$routeProvider",function(a){a.when("/cleanup",{templateUrl:c("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/cleanup/index.html",controller:d,authentication:"required",reloadOnSearch:!1})}];b.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],66:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./plugins/cleanupState"),f=a("./plugins/cleanupStats"),g=a("./plugins/cleanupMetrics"),h=a("./config/navigationConfig"),i=a("./config/routeConfig"),j=d.module("cockpit.plugin.cleanup",[e.name,g.name,f.name]);j.config(h),j.config(i),b.exports=j}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./config/navigationConfig":64,"./config/routeConfig":65,"./plugins/cleanupMetrics":68,"./plugins/cleanupState":70,"./plugins/cleanupStats":73}],67:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.moment:"undefined"!=typeof a?a.moment:null,d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupMetrics/directives/cleanup-metrics-diagram.html -->\n\n<div class="metrics-plugin">\n  <div ng-repeat="heat in heats"\n       class="col-xs-3"\n       ng-class="{\'loading\': loading}">\n    <div>{{ \'PLGN_CLUP_REMOVED\' | translate:{name: heat.name} }}<span class="legend-color" ng-style="{backgroundColor: colors[$index]}"></span></div>\n    <span class="value">\n      {{ (!heat.current ? 0 : \'\')}}\n      {{ heat.current | abbreviateNumber }}\n    </span>\n    <span class="glyphicon"\n          tooltip="Last {{ metricsPeriod }}: {{ heat.previous }}"\n          ng-class="heat.className"></span>\n  </div>\n\n  <div class="metrics-plugin--chart col-xs-12">\n    <div cam-widget-chart-line\n         line-colors="chartColors"\n         interval="interval"\n         values="charts"\n         timespan="metricsPeriod"\n         disable-selection="true"\n         is-log-scale="true"\n         ng-if="charts.length"></div>\n          \n    <div cam-widget-chart-line\n         line-colors="colors"\n         interval="interval"\n         values="[[]]"\n         timespan="metricsPeriod"\n         disable-selection="true"\n         is-log-scale="true"\n         ng-if="!charts.length"></div>\n  </div>\n  \n</div>\n\n\n<!-- EE / - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupMetrics/directives/cleanup-metrics-diagram.html  -->\n',e=["$scope","$q","camAPI","$translate",function(a,b,d,e){function f(){var b={dateformat:"YYYY-MM-DD[T]HH:mm:ss.000ZZ"};return b.currentEnd=c(),b.currentStart=b.currentEnd.clone().subtract(1,a.metricsPeriod),b.previousEnd=b.currentStart.clone(),b.previousStart=b.previousEnd.clone().subtract(1,a.metricsPeriod),b}function g(a,b){var c=m[a],d="current"===b?l.currentEnd.endOf("day"):l.previousEnd;return k.sum({endDate:d.format(l.dateformat),startDate:l[b+"Start"].format(l.dateformat),name:c}).then(function(a){return a.result})}function h(b){var c=m[b];return k.byInterval({interval:a.interval,endDate:l.currentEnd.endOf("day").format(l.dateformat),startDate:l.currentStart.format(l.dateformat),name:c})}function i(a,b){return b>a?"glyphicon-arrow-up":b<a?"glyphicon-arrow-up":"glyphicon-arrow-right"}function j(){switch(a.loading=!0,a.interval=900,a.metricsPeriod){case"week":a.interval=2700;break;case"month":a.interval=12600}l=f(),b.all({processesCurrent:g("processes","current"),decisionsCurrent:g("decisions","current"),casesCurrent:g("cases","current"),batchesCurrent:g("batches","current"),processesPrevious:g("processes","previous"),decisionsPrevious:g("decisions","previous"),casesPrevious:g("cases","previous"),batchesPrevious:g("batches","previous"),processesChart:h("processes"),decisionsChart:h("decisions"),casesChart:h("cases"),batchesChart:h("batches")}).then(function(b){var c=[];a.charts=Object.keys(m).map(function(d,e){var f=b[d+"Chart"].reverse();return f.length>0&&c.push(a.colors[e]),f}).filter(function(a){return a.length}),a.chartColors=c,a.heats=[{name:e.instant("PLGN_CLUP_PROCESSES"),previous:b.processesPrevious,current:b.processesCurrent,className:i(b.processesCurrent,b.processesPrevious)},{name:e.instant("PLGN_CLUP_DECISIONS"),previous:b.decisionsPrevious,current:b.decisionsCurrent,className:i(b.decisionsCurrent,b.decisionsPrevious)},{name:e.instant("PLGN_CLUP_CASES"),previous:b.casesPrevious,current:b.casesCurrent,className:i(b.casesCurrent,b.casesPrevious)},{name:e.instant("PLGN_CLUP_BATCH_OPERATIONS"),previous:b.batchesPrevious,current:b.batchesCurrent,className:i(b.batchesCurrent,b.batchesPrevious)}]})["finally"](function(){a.loading=!1})}a.encodeURIComponent=encodeURIComponent,a.data={};var k=d.resource("metrics");a.loading=!1,a.colors=["#F39A32","#1F89B1","#31C373","#D94B38"];var l,m={processes:"history-cleanup-removed-process-instances",decisions:"history-cleanup-removed-decision-instances",cases:"history-cleanup-removed-case-instances",batches:"history-cleanup-removed-batch-operations"};a.$watch("metricsPeriod",j)}];b.exports=function(){return{restrict:"A",scope:{metricsPeriod:"=",resourceName:"@"},template:d,controller:e}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],68:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./views/cleanupMetrics"),f=a("./directives/cleanupMetricsDiagram"),g=d.module("cockpit.plugin.cleanup.cleanupMetrics",[]);g.config(e),g.directive("cleanupMetricsDiagram",f),b.exports=g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./directives/cleanupMetricsDiagram":67,"./views/cleanupMetrics":69}],69:[function(a,b,c){"use strict";var d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupMetrics/views/cleanup-metrics.html -->\n\n<section class="metrics"\n         ng-class="{\'section-collapsed\': !tabActive}">\n\n  <div class="inner">\n    <button tooltip="{{ \'PLGN_CLUP_TOGGLE\' | translate }}"\n      class="section-toggle btn btn-link btn-sm"\n      ng-click="toggleSection()">\n      <span class="glyphicon"\n            ng-class="{\'glyphicon-menu-down\': !tabActive, \'glyphicon-menu-up\': tabActive}"></span>\n    </button>\n    <header>\n      <div class="row">\n        <h1 class="col-xs-3 section-title">{{ \'PLGN_CLUP_METRICS\' | translate }}</h1>\n\n        <div class="col-xs-9 text-right"\n             ng-if="tabActive">\n          <ul class="nav nav-tabs">\n            <li ng-class="{active: metricsPeriod === \'day\'}">\n              <a ng-click="setMetricsPeriod(\'day\')">{{ \'PLGN_CLUP_TODAY\' | translate }}</a>\n            </li>\n\n            <li ng-class="{active: metricsPeriod === \'week\'}">\n              <a ng-click="setMetricsPeriod(\'week\')">{{ \'PLGN_CLUP_WEEK\' | translate }}</a>\n            </li>\n\n            <li ng-class="{active: metricsPeriod === \'month\'}">\n              <a ng-click="setMetricsPeriod(\'month\')">{{ \'PLGN_CLUP_MONTH\' | translate }}</a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </header>\n\n\n    <div class="stats"\n         ng-if="tabActive">\n      <div class="stats-section entry">\n        <h4>{{ \'PLGN_CLUP_REMOVED_DATA\' | translate }}</h4>\n        <div vars="metricsVars"\n             cleanup-metrics-diagram\n             metrics-period="metricsPeriod"\n             class="row"></div>\n      </div>\n    </div>\n  </div>\n</section>\n\n<!-- EE / - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupMetrics/views/cleanup-metrics.html  -->\n',e=["$scope","Views","localConf",function(a,b,c){
a.tabActive=!0,a.metricsPeriod=c.get("dashboardMetricsPeriod","day"),a.toggleSection=function(){a.tabActive=!a.tabActive},a.setMetricsPeriod=function(b){a.metricsPeriod=b,c.set("dashboardMetricsPeriod",b)}}];b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.cleanup",{id:"cleanup-metrics",label:"PLGN_CLUP_CLEANUP_METRICS",template:d,controller:e,priority:0})}]},{}],70:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./views/cleanupState"),f=d.module("cockpit.plugin.cleanup.cleanupState",[]);f.config(e),b.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./views/cleanupState":71}],71:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/moment"),e='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupState/views/cleanup-state.html -->\n\n<section>\n  <div class="inner cleanup-ui"\n       cam-widget-loader\n       loading-state="{{ loadingState }}"\n       text-error="{{ loadingError }}">\n\n    <div class="cleanup-window">\n      <header class="header-empty header-cleanup">\n          <div class="cleanup-message-container">\n            <span state-circle\n                  running="cleanupState.status === \'RUNNING\'"\n                  incidents="incidentJobs"\n                  ng-if="cleanupState.status !== \'NOT_SCHEDULED\'">\n            </span>\n            <span class="cleanup-message"\n                  ng-if="cleanupState.status === \'NOT_SCHEDULED\'">\n              {{ \'PLGN_CLUP_NOT_SCHEDULED\' | translate }}\n            </span>\n            <span class="cleanup-message"\n                  ng-if="cleanupState.status === \'SCHEDULED\'">\n               {{ \'PLGN_CLUP_SCHEDULED\' | translate: {dueDate: cleanupState.relativeDueDate} }}\n            </span>\n            <span class="cleanup-message"\n                  ng-if="cleanupState.status === \'HAS_INCIDENT\'">\n               {{ \'PLGN_CLUP_NOT_RUN\' | translate }}\n            </span>\n            <span class="cleanup-message"\n                  ng-if="cleanupState.status === \'RUNNING\'">\n               {{ \'PLGN_CLUP_RUNNING\' | translate }}\n            </span>\n          </div>\n          <button class="btn btn-primary"\n                  ng-click="cleanupNow()"\n                  ng-show="cleanupState.status === \'SCHEDULED\' || cleanupState.status === \'NOT_SCHEDULED\'">\n            {{ \'PLGN_CLUP_CLEANUP_NOW\' | translate }}\n          </button>\n          <button class="btn btn-primary"\n                  ng-click="retryCleanup()"\n                  ng-show="cleanupState.status === \'HAS_INCIDENT\'">\n            {{ \'PLGN_CLUP_RETRY\' | translate }}\n          </button>\n      </header>\n      <div  ng-repeat="job in incidentJobs"\n            ng-if="cleanupState.status === \'HAS_INCIDENT\'"\n            class="stacktrace">\n        <a ng-href="{{ getStacktraceUrl(job) }}"\n           class="auto-cutoff"\n           target="_blank"\n           tooltip="{{ \'PLGN_CLUP_OPEN_STACKTRACE\' | translate }}"\n           tooltip-placement="top">\n          {{ getExceptionMessage(job) }}\n        </a>\n      </div>\n    </div>\n  </div>\n</section>\n\n<!-- EE / - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupState/views/cleanup-state.html -->\n',f=["$scope","$q","Notifications","Uri","camAPI","$translate",function(a,b,c,e,f,g){function h(a,b){p.status=a,p.relativeDueDate=b||-1}function i(b){return 404===b.status?(a.loadingState="LOADED",h("NOT_SCHEDULED")):void j(b)}function j(b){a.loadingState="ERROR",a.loadingError=b.message}function k(b){a.jobs=b,a.incidentJobs=b.filter(function(a){return 0===a.retries}),a.incidentJobs.length>0?(a.loadingState="LOADED",h("HAS_INCIDENT")):n.cleanupConfiguration().then(l)["catch"](j)}function l(b){a.loadingState="LOADED";var c=a.jobs.filter(function(a){return a.suspended}).length>0;if(b.batchWindowStartTime&&b.batchWindowEndTime){var e=d(),f=d(a.jobs[0].dueDate),g=d(b.batchWindowStartTime),i=d(b.batchWindowEndTime);e.isAfter(g)||e.isSame(g)?f.isAfter(i)?h("SCHEDULED",f.fromNow()):h("RUNNING"):e.isAfter(f)?h("RUNNING"):h("SCHEDULED",f.fromNow())}else h(c?"NOT_SCHEDULED":"RUNNING")}function m(){a.loadingState="LOADING",h("NOT_SCHEDULED"),n.cleanupJobs().then(k)["catch"](i)}d.relativeTimeThreshold("s",60),d.relativeTimeThreshold("m",60),d.relativeTimeThreshold("h",60);var n=f.resource("history"),o=f.resource("job");a.loadingState="LOADING";var p=a.cleanupState={status:"NOT_SCHEDULED",relativeDueDate:-1};a.retryCleanup=function(){var d=a.incidentJobs;d.length>0&&b.all(d.map(function(a){return o.setRetries({id:a.id,retries:1})})).then(function(){c.addMessage({status:g.instant("PLGN_CLUP_NOTIFICATION_SUCCESS"),message:g.instant("PLGN_CLUP_RETRY_SUCCESSFUL")}),m()})["catch"](function(a){c.addError({status:g.instant("PLGN_CLUP_NOTIFICATION_RETRY_FAILED"),message:a.message})})},a.cleanupNow=function(){n.cleanup({executeAtOnce:!0}).then(function(){c.addMessage({status:g.instant("PLGN_CLUP_NOTIFICATION_SUCCESS"),message:g.instant("PLGN_CLUP_CLEANUP_STARTED")}),m()})["catch"](function(){c.addError({status:g.instant("PLGN_CLUP_NOTIFICATION_ERROR"),message:g.instant("PLGN_CLUP_JOB_CREATION_FAILED")})})},a.getStacktraceUrl=function(a){return e.appUri("engine://engine/:engine/job/"+a.id+"/stacktrace")},a.getExceptionMessage=function(a){return a.exceptionMessage||g.instant("PLGN_CLUP_MESSAGE_NULL")},m()}];b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.cleanup",{id:"cleanup-state",label:"PLGN_CLUP_CLEANUP_STATE",template:e,controller:f,priority:3})}]},{"camunda-commons-ui/vendor/moment":11}],72:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null,d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupStats/directives/cleanup-stats-tab.html-->\n\n\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-error="{{ loadingError }}">\n\n  <div ng-if="!pages.total && loadingState !== \'LOADING\'">{{emptyMessage}}</div>\n\n  <table ng-if="pages.total" class="cam-table cleanup-stats-table">\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="sorting">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat="cleanableDataReport in cleanableDataReports">\n          \n        <td class="name"\n            ng-if="!isBatch"\n            cam-widget-clipboard="cleanableDataReport.name || cleanableDataReport.key">\n          <a href="#/{{resourceName}}-definition/{{cleanableDataReport.id}}">\n            {{cleanableDataReport.name || cleanableDataReport.key}} \n          </a>\n        </td>        \n        <td class="version" ng-if="!isBatch">{{cleanableDataReport.version}}</td>\n        <td class="tenantId" ng-if="!isBatch">{{cleanableDataReport.tenantId}}</td>\n        <td class="batchType"\n            ng-if="isBatch"\n            cam-widget-clipboard="cleanableDataReport.batchType">{{cleanableDataReport.batchType}}</td>\n        <td class="finished">{{cleanableDataReport.finishedCount}}</td>\n        <td class="cleanable">{{cleanableDataReport.cleanableCount}}</td>\n        <td class="ttl">\n          <span time-to-live="cleanableDataReport"\n                resource="{{resourceName}}-definition"\n                on-change="onTTLChange"\n                ng-if="!isBatch"></span>\n\n          <span ng-if="isBatch && isNumber(cleanableDataReport.historyTimeToLive)">{{ \'PLGN_CLUP_STATS_TTL_DAYS\' | translate: { days: cleanableDataReport.historyTimeToLive } }}</span>\n          <span ng-if="isBatch && !isNumber(cleanableDataReport.historyTimeToLive)">{{ \'PLGN_CLUP_STATS_TTL_NULL\' | translate }}</span>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <pagination ng-if="pages.total > pages.size"\n              class="pagination-sm"\n              page="pages.current"\n              ng-model="pages.current"\n              total-items="pages.total"\n              items-per-page="pages.size"\n              max-size="7"\n              boundary-links="true">\n  </pagination>\n\n</div>\n\n<!-- EE / - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupStats/directives/cleanup-stats-tab.html -->\n',e=["$scope","search","camAPI","$translate","localConf",function(a,b,d,e,f){function g(a){return a.charAt(0).toUpperCase()+a.slice(1)}function h(a,b){return f.get("history-cleanup-sort-"+a,b)}function i(a,b){f.set("history-cleanup-sort-"+a,b)}function j(){var b=(a.pages.current-1)*a.pages.size,c={firstResult:b,maxResults:a.pages.size,compact:!0,sortBy:q.sortBy,sortOrder:q.sortOrder};return a.loadingState="LOADING",l["cleanable"+o+"Count"](c).then(function(b){return a.pages.total=b.count,l["cleanable"+o](c)}).then(function(b){a.cleanableDataReports=b.map(function(a){return{id:a[m+"DefinitionId"],name:a[m+"DefinitionName"],key:a[m+"DefinitionKey"],batchType:a.batchType,version:a[m+"DefinitionVersion"],tenantId:a.tenantId,historyTimeToLive:a.historyTimeToLive,finishedCount:n?a.finishedBatchesCount:a["finished"+o+"InstanceCount"],cleanableCount:n?a.cleanableBatchesCount:a["cleanable"+o+"InstanceCount"]}}),a.loadingState="LOADED"})["catch"](function(b){a.loadingState="ERROR",a.loadingError=b.message})}var k={process:e.instant("PLGN_CLUP_PROCESS"),decision:e.instant("PLGN_CLUP_DECISION"),"case":e.instant("PLGN_CLUP_CASE"),batch:e.instant("PLGN_CLUP_BATCH")},l=d.resource("history"),m=a.resourceName,n=a.isBatch="batch"===m,o=a.resourceLabel=g(m),p=g(k[m]),q=a.sorting=h(k[m],{sortBy:"finished",sortOrder:"desc"});a.headColumns=[{"class":"name",request:"",sortable:!1,content:e.instant("PLGN_CLUP_STATS_TAB_RESOURCE",{resourceLabel:p}),condition:!n},{"class":"version",request:"",sortable:!1,content:e.instant("PLGN_CLUP_STATS_VERSION"),condition:!n},{"class":"tenantId",request:"",sortable:!1,content:e.instant("PLGN_CLUP_STATS_TENANT_ID"),condition:!n},{"class":"batchType",request:"",sortable:!1,content:e.instant("PLGN_CLUP_STATS_BATCH_TYPE"),condition:n},{"class":"finished",request:"finished",sortable:!0,content:e.instant("PLGN_CLUP_STATS_FINISHED")},{"class":"cleanable",request:"",sortable:!1,content:e.instant("PLGN_CLUP_STATS_CLEANABLE")},{"class":"ttl",request:"",sortable:!1,content:e.instant("PLGN_CLUP_STATS_TTL")}],a.onSortChange=function(a){q=a,i(k[m],q),j()},a.isNumber=c.isNumber,a.onTTLChange=j,a.loadingState="LOADING",a.emptyMessage=e.instant("PLGN_CLUP_STATS_NO_FINISHED")+(n?e.instant("PLGN_CLUP_STATS_BATCH_OPERATIONS"):k[m]+e.instant("PLGN_CLUP_STATS_INSTANCES")),a.pages=c.copy({size:50,total:0,current:+b().page||1}),a.$watch("pages.current",function(a,c){var d=+b().page||1;c!==a&&d!==a&&b("page",a?a:null)}),a.$on("$locationChangeSuccess",function(){var a=b();a&&a.page&&j()}),a.$on("$destroy",function(){b("page",null)}),j()}];b.exports=function(){return{restrict:"A",scope:{resourceName:"@"},template:d,controller:e}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],73:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./views/cleanupStats"),f=a("./views/tabs/processesTab"),g=a("./views/tabs/casesTab"),h=a("./views/tabs/batchesTab"),i=a("./views/tabs/decisionsTab"),j=a("./directives/cleanupStatsTab"),k=d.module("cockpit.plugin.cleanup.cleanupStats",[]);k.config(e),k.config(f),k.config(g),k.config(i),k.config(h),k.directive("cleanupStatsTab",j),b.exports=k}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./directives/cleanupStatsTab":72,"./views/cleanupStats":74,"./views/tabs/batchesTab":75,"./views/tabs/casesTab":76,"./views/tabs/decisionsTab":77,"./views/tabs/processesTab":78}],74:[function(a,b,c){"use strict";var d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupStats/views/cleanup-stats.html -->\n\n<section class="cleanup-stats"\n         ng-class="{\'section-collapsed\': !tabActive}">\n  <div class="inner">\n    <button tooltip="{{ \'PLGN_CLUP_TOGGLE\' | translate }}"\n          class="section-toggle btn btn-link btn-sm"\n          ng-click="toggleSection()">\n      <span class="glyphicon"\n            ng-class="{\'glyphicon-menu-down\': !tabActive, \'glyphicon-menu-up\': tabActive}"></span>\n    </button>\n    <div class="ctn-tabbed">\n     <header>\n       <h1 class="section-title">{{ \'PLGN_CLUP_CLEANABLE_DATA\' | translate }}</h1>\n       <div ng-if="tabs.length && tabActive">\n         <div class="stats-row stats-header">\n           <ul class="nav nav-tabs">\n             <li ng-class="{ active: selectedTab === tabProvider }"\n                 ng-repeat="tabProvider in tabs">\n               <a href ng-click="selectTab(tabProvider)">{{ tabProvider.label | translate }}</a>\n             </li>\n           </ul>\n         </div>\n       </div>\n     </header>\n     <div class="stats-row" ng-if="tabActive">\n       <view provider="selectedTab" />\n     </div>\n    </div>\n  </div>\n</section>\n\n<!-- EE / - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupStats/views/cleanup-stats.html -->\n',e=["$scope","Views","search",function(a,b,c){a.tabActive=!0;var d=a.tabs=b.getProviders({component:"cockpit.cleanup.cleanupStats"});if(a.selectTab=function(b){a.selectedTab=b,c.updateSilently({detailsTab:b.id})},a.toggleSection=function(){a.tabActive=!a.tabActive},d&&d.length){var e=c().detailsTab;if(e){var f=b.getProvider({component:"cockpit.cleanup.cleanupStats",id:e});if(f&&d.indexOf(f)!==-1)return void(a.selectedTab=f)}c.updateSilently({detailsTab:null}),a.selectedTab=d[0]}}];b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.cleanup",{id:"cleanup-stats",label:"PLGN_CLUP_CLEANUP_STATISTICS",template:d,controller:e,priority:2})}]},{}],75:[function(a,b,c){"use strict";var d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupStats/views/tabs/batches-tab.html -->\n\n<div cleanup-stats-tab\n     resource-name="batch">\n</div>\n\n<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupStats/views/tabs/batches-tab.html -->\n';b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.cleanup.cleanupStats",{id:"batches-tab",label:"PLGN_CLUP_BATCH_OPERATIONS",template:d,priority:3})}]},{}],76:[function(a,b,c){"use strict";var d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupStats/views/tabs/cases-tab.html -->\n\n<div cleanup-stats-tab\n     resource-name="case">\n</div>\n\n<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupStats/views/tabs/cases-tab.html -->\n';b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.cleanup.cleanupStats",{id:"cases-tab",label:"PLGN_CLUP_CASES",template:d,priority:3})}]},{}],77:[function(a,b,c){"use strict";var d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupStats/views/tabs/decisions-tab.html -->\n\n<div cleanup-stats-tab\n     resource-name="decision">\n</div>\n\n\n<!-- EE / - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupStats/views/tabs/decisions-tab.html -->\n';b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.cleanup.cleanupStats",{id:"decisions-tab",label:"PLGN_CLUP_BATCH_DECISIONS",template:d,priority:4})}]},{}],78:[function(a,b,c){"use strict";var d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupStats/views/tabs/processes-tab.html -->\n\n<div cleanup-stats-tab\n     resource-name="process">\n</div>\n\n<!-- EE / - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupStats/views/tabs/processes-tab.html -->\n';b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.cleanup.cleanupStats",{id:"processes-tab",label:"PLGN_CLUP_BATCH_PROCESSES",template:d,priority:5})}]},{}],79:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./adjustment/app/plugin"),f=a("./activityInstance-period/app/plugin"),g=a("./case/app/plugin"),h=a("./heatmap/app/plugin"),i=a("./history/app/plugin"),j=a("./dashboard-metrics/plugin"),k=a("./jobRetry/app/plugin"),l=a("./migration/app/plugin"),m=a("./batch/operation/app/plugin"),n=a("./modification/app/plugin"),o=a("./processDefinitionEE/app/plugin"),p=a("./processActionsEE/app/plugin"),q=a("./redeploy/app/plugin"),r=a("./reporting/app/plugin"),s=a("./search/app/plugin"),t=a("./search-decisions/app/plugin"),u=a("./search-tasks/app/plugin"),v=a("./skeleton/app/plugin"),w=a("./drd/app"),x=a("./external-tasks"),y=a("./deployment/app"),z=a("./cleanup/plugin");b.exports=d.module("cockpit.plugin.cockpitEE",[f.name,e.name,g.name,h.name,i.name,j.name,k.name,l.name,m.name,n.name,o.name,p.name,q.name,r.name,s.name,t.name,u.name,v.name,w.name,x.name,y.name,z.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./activityInstance-period/app/plugin":15,"./adjustment/app/plugin":19,"./batch/operation/app/plugin":28,"./case/app/plugin":43,"./cleanup/plugin":66,"./dashboard-metrics/plugin":85,"./deployment/app":90,"./drd/app":133,"./external-tasks":150,"./heatmap/app/plugin":156,"./history/app/plugin":166,"./jobRetry/app/plugin":195,"./migration/app/plugin":216,"./modification/app/plugin":223,"./processActionsEE/app/plugin":231,"./processDefinitionEE/app/plugin":235,"./redeploy/app/plugin":242,"./reporting/app/plugin":246,"./search-decisions/app/plugin":256,"./search-tasks/app/plugin":259,"./search/app/plugin":262,"./skeleton/app/plugin":275}],80:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.moment:"undefined"!=typeof a?a.moment:null,d=function(a,b){this.searches=[],this.translations=b.tooltips,this.types=b.types,this.operators=b.operators,this.withPrefix=b.withPrefix,this.config=b;var c=this;a.on(b.operationEvent+".finished",function(){c.searches=[]})};d.prototype.getTypes=function(){return this.types},d.prototype.getQueryParamBySearch=function(a,b){var c=a.type.value.key,d=a.operator.value.key;return c.indexOf("Date")!==-1&&(c=c.slice(0,-4)),["After","Before","Like","NotIn"].indexOf(d)!==-1&&(c+=d),b&&(c=c.substr(2)),c};var e=/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(|\.[0-9]{0,4})$/;d.prototype.sanitizeValue=function(a,b,d){var f=/(\\%)|(\\_)/g,g=/(\%)|(\_)/;return"like"!==b.toLowerCase()||g.test(a.replace(f,""))?d.allowDates&&e.test(a)?c(a).format("YYYY-MM-DDTHH:mm:ss.SSSZZ"):a:"%"+a+"%"},d.prototype.parseValue=function(a){return isNaN(a)||""===a.trim()?"true"===a||"false"!==a&&("NULL"===a?null:0===a.indexOf("'")&&a.lastIndexOf("'")===a.length-1?a.substr(1,a.length-2):a):+a},d.prototype.getQueryValueBySearch=function(a,b){if(a.basic)return!0;var c=a.type.value.key;return b.nonSanitizedTypes.indexOf(c)===-1?this.sanitizeValue(a.value.value,a.operator.value.key,a):{name:a.name.value,operator:a.operator.value.key,value:this.sanitizeValue(this.parseValue(a.value.value),a.operator.value.key,a)}},d.prototype.getParams=function(){var a={},b=this;return b.searches.forEach(function(c){var d=b.getQueryParamBySearch(c,b.withPrefix),e=b.getQueryValueBySearch(c,b.config);b.config.arrayTypes.indexOf(d)!==-1?(a[d]=a[d]||[],a[d].push(e)):a[d]=e}),a},d.prototype.searchesToSearchQuery=function(){var a=[],b=this;return b.searches.forEach(function(c){var d=b.getQueryParamBySearch(c),e=b.getQueryValueBySearch(c,b.config),f={type:d,name:c.name.value,operator:c.operator.value.key,value:e};"string"!=typeof e&&(f.value=""+e.value),a.push(f)}),a},b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],81:[function(a,b,c){"use strict";var d=a("./instances-search-field"),e=function(a,b,c,e,f){var g=this;g.callbackContainer=f,g.eventBus=a,g.operationComponent=b,g.api=c,g.selectedInstances=[],g.instances=[],g.instancesCount=0,g.selectAll=!1,g.pageSize=12,g.currentPage=1,g.loadingState="INITIAL",g.currentParams="",g.searchConfig=e,g.search=new d(a,e)};e.prototype.hasQueryOrInstances=function(){return this.selectedInstances.length>0||this.instancesCount>0},e.prototype.loadInstances=function(){this.callbackContainer.updatePage(!0)},e.prototype.applySelection=function(){for(var a=0;this.instances&&a<this.instances.length;a++){var b=this.instances[a];b.selected=this.selectedInstances.indexOf(b.id)!==-1}},e.prototype.reset=function(){this.selectedInstances=[],this.instances=[],this.instancesCount=0,this.selectAll=!1,this.currentPage=1,this.loadingState="INITIAL",this.currentParams=""},e.prototype.updateSelectedInstances=function(){for(var a=!1,b=0;b<this.instances.length;b++){var c=this.instances[b];this.selectedInstances.indexOf(c.id)===-1&&c.selected?this.selectedInstances.push(c.id):this.selectedInstances.indexOf(c.id)===-1||c.selected||this.selectedInstances.splice(this.selectedInstances.indexOf(c.id),1),c.selected||(a=!0)}this.selectAll=!a},e.prototype.toggleAll=function(){for(var a=0;a<this.instances.length;a++)this.instances[a].selected=this.selectAll;this.updateSelectedInstances()},b.exports=e},{"./instances-search-field":80}],82:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.moment:"undefined"!=typeof c?c.moment:null,e=a("./../utils").resultsCb,f=("undefined"!=typeof window?window["camunda-bpm-sdk-js"]:"undefined"!=typeof c?c["camunda-bpm-sdk-js"]:null).utils.series;b.exports=["camAPI","$scope",function(a,b){function c(){b.selectionInfo={},b.loading=!0;var a=d(),c=a.clone().subtract(1,b.metricsPeriod),h=c.clone(),i=h.clone().subtract(1,b.metricsPeriod);switch(b.interval=900,b.metricsPeriod){case"week":b.interval=2700;break;case"month":b.interval=12600}var j="YYYY-MM-DD[T]HH:mm:ss.000ZZ";f({executedCurrent:function(b){g.sum({endDate:a.endOf("day").format(j),startDate:c.format(j),name:"executed-decision-elements"},e(b))},executedPrevious:function(a){g.sum({endDate:h.format(j),startDate:i.format(j),name:"executed-decision-elements"},e(a))},chartExecuted:function(d){g.byInterval({interval:b.interval,endDate:a.endOf("day").format(j),startDate:c.format(j),name:"executed-decision-elements"},d)}},function(a,c){if(b.loading=!1,a)throw a;c.chartExecuted.reverse(),b.data=c,b.executedHeat=c.executedCurrent>c.executedPrevious?"glyphicon-arrow-up":c.executedCurrent<c.executedPrevious?"glyphicon-arrow-up":"glyphicon-arrow-right"})}b.encodeURIComponent=encodeURIComponent,b.data={};var g=a.resource("metrics");b.loading=!1,b.colors=["#F39A32","#1F89B1"],b.selectionInfo={},b.selectionChanged=function(a){b.selectionInfo=a},b.$watch("metricsPeriod",c)}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../utils":86}],83:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.moment:"undefined"!=typeof c?c.moment:null,e=a("./../utils").resultsCb,f=("undefined"!=typeof window?window["camunda-bpm-sdk-js"]:"undefined"!=typeof c?c["camunda-bpm-sdk-js"]:null).utils.series;b.exports=["camAPI","$scope",function(a,b){function c(){b.selectionInfo={},b.loading=!0;var a=d(),c=a.clone().subtract(1,b.metricsPeriod),h=c.clone(),i=h.clone().subtract(1,b.metricsPeriod);switch(b.interval=900,b.metricsPeriod){case"week":b.interval=2700;break;case"month":b.interval=12600}var j="YYYY-MM-DD[T]HH:mm:ss.000ZZ";f({startedCurrent:function(b){g.sum({endDate:a.endOf("day").format(j),startDate:c.format(j),name:"activity-instance-start"},e(b))},startedPrevious:function(a){g.sum({endDate:h.format(j),startDate:i.format(j),name:"activity-instance-start"},e(a))},endedCurrent:function(b){g.sum({endDate:a.endOf("day").format(j),startDate:c.format(j),name:"activity-instance-end"},e(b))},endedPrevious:function(a){g.sum({endDate:h.format(j),startDate:i.format(j),name:"activity-instance-end"},e(a))},chartStarted:function(d){g.byInterval({interval:b.interval,endDate:a.endOf("day").format(j),startDate:c.format(j),name:"activity-instance-start"},d)},chartEnded:function(d){g.byInterval({interval:b.interval,endDate:a.endOf("day").format(j),startDate:c.format(j),name:"activity-instance-end"},d)}},function(a,c){if(b.loading=!1,a)throw a;c.chartStarted.reverse(),c.chartEnded.reverse(),b.data=c,b.startedHeat=c.startedCurrent>c.startedPrevious?"glyphicon-arrow-up":c.startedCurrent<c.startedPrevious?"glyphicon-arrow-up":"glyphicon-arrow-right",b.endedHeat=c.endedCurrent>c.endedPrevious?"glyphicon-arrow-up":c.endedCurrent<c.endedPrevious?"glyphicon-arrow-up":"glyphicon-arrow-right"})}b.encodeURIComponent=encodeURIComponent,b.data={};var g=a.resource("metrics");b.loading=!1,b.colors=["#F39A32","#1F89B1"],b.selectionInfo={},b.selectionChanged=function(a){b.selectionInfo=a},b.$watch("metricsPeriod",c)}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../utils":86}],84:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.moment:"undefined"!=typeof c?c.moment:null,e=a("./../utils").resultsCb,f=("undefined"!=typeof window?window["camunda-bpm-sdk-js"]:"undefined"!=typeof c?c["camunda-bpm-sdk-js"]:null).utils.series;b.exports=["camAPI","$scope",function(a,b){function c(){b.selectionInfo={},b.loading=!0;var a=d(),c=a.clone().subtract(1,b.metricsPeriod),h=c.clone(),i=h.clone().subtract(1,b.metricsPeriod);switch(b.interval=900,b.metricsPeriod){case"week":b.interval=2700;break;case"month":b.interval=12600}var j="YYYY-MM-DD[T]HH:mm:ss.000ZZ";f({successfulCurrent:function(b){g.sum({endDate:a.endOf("day").format(j),startDate:c.format(j),name:"job-successful"},e(b))},successfulPrevious:function(a){g.sum({endDate:h.format(j),startDate:i.format(j),name:"job-successful"},e(a))},failedCurrent:function(b){g.sum({endDate:a.endOf("day").format(j),startDate:c.format(j),name:"job-failed"},e(b))},failedPrevious:function(a){g.sum({endDate:h.format(j),startDate:i.format(j),name:"job-failed"},e(a))},chartSuccessful:function(d){g.byInterval({interval:b.interval,endDate:a.endOf("day").format(j),startDate:c.format(j),name:"job-successful"},d)},chartFailed:function(d){g.byInterval({interval:b.interval,endDate:a.endOf("day").format(j),startDate:c.format(j),name:"job-failed"},d)}},function(a,c){if(b.loading=!1,a)throw a;c.chartSuccessful.reverse(),c.chartFailed.reverse(),b.data=c,b.successfulHeat=c.successfulCurrent>c.successfulPrevious?"glyphicon-arrow-up":c.successfulCurrent<c.successfulPrevious?"glyphicon-arrow-up":"glyphicon-arrow-right",b.failedHeat=c.failedCurrent>c.failedPrevious?"glyphicon-arrow-up":c.failedCurrent<c.failedPrevious?"glyphicon-arrow-up":"glyphicon-arrow-right"})}b.encodeURIComponent=encodeURIComponent,b.data={};var g=a.resource("metrics");b.loading=!1,b.colors=["#F39A32","#1F89B1"],b.selectionInfo={},b.selectionChanged=function(a){b.selectionInfo=a},b.$watch("metricsPeriod",c)}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../utils":86}],85:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=d.module("cockpit.plugin.dashboard.metrics",[]);e.config(["ViewsProvider",function(b){b.registerDefaultView("cockpit.dashboard.metrics",{id:"executed-activity-instances",label:"PLGN_MTRCS_EXECUTED_ACTIVITY_INSTANCES",url:window.$("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/dashboard-metrics/executed-activity-instances/template.html",controller:a("./executed-activity-instances/controller"),priority:10}),b.registerDefaultView("cockpit.dashboard.metrics",{id:"evaluated-decision-instances",label:"PLGN_MTRCS_EXECUTED_DECISION_INSTANCES",url:window.$("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/dashboard-metrics/evaluated-decision-instances/template.html",controller:a("./evaluated-decision-instances/controller"),priority:20}),b.registerDefaultView("cockpit.dashboard.metrics",{id:"executed-jobs",label:"PLGN_MTRCS_EXECUTED_JOBS",url:window.$("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/dashboard-metrics/executed-jobs/template.html",controller:a("./executed-jobs/controller"),priority:30})}]),b.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./evaluated-decision-instances/controller":82,"./executed-activity-instances/controller":83,"./executed-jobs/controller":84}],86:[function(a,b,c){(function(a){"use strict";function c(a){var b={};return a.forEach(function(a){b[a.timestamp]?b[a.timestamp].value+=a.value:b[a.timestamp]=a}),Object.keys(b).map(function(a){return b[a]})}function d(a){return function(b,d){return b?a(b):void a(null,f(d.result)?c(d.result):d.result)}}var e="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null,f=e.isArray;b.exports={resultsCb:d}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],87:[function(a,b,c){"use strict";var d='<button ng-if="Deploy.isFileUploadSupported" ng-click="Deploy.open()" class="deploy-resource ng-scope btn btn-link">\n  <span class="glyphicon glyphicon-open"></span>{{ \'PLGN_DPLY_DEPLOY\' | translate }}\n</button>\n';b.exports=function(){return{restrict:"A",template:d,controller:"CamDeployController as Deploy",scope:{onDeployed:"&camDeploy"}}}},{}],88:[function(a,b,c){"use strict";function d(a,b,c){this.isFileUploadSupported=c(),this.open=function(){b.open({template:e,controller:"DeploymentModalController as Modal",size:"lg"}).result.then(a.onDeployed)}}var e='<!-- EE # src/main/resources-plugin/cockpit/deployment/app/controllers/modal.html -->\n<div class="modal-header row">\n  <div class="col-xs-4">\n    <h3 class="modal-title">{{ \'PLGN_DPLY_MODAL_DEPLOY\' | translate }}</h3>\n  </div>\n\n  <div class="col-xs-8 text-right">\n    <div class="form-control-static">\n      {{ \'PLGN_DPLY_MODAL_UPLOAD_FILES\' | translate }}\n      <input type="file" multiple cam-file="Modal.onFileInputChange(files)" style="display: inline"/>\n    </div>\n  </div>\n</div>\n\n<div class="deployment-modal modal-body">\n  <div class="help-block">\n    {{ \'PLGN_DPLY_MODAL_PLAYING_WITH\' | translate }}<span title="fire" class="glyphicon glyphicon-fire"></span>.<br/>\n    {{ \'PLGN_DPLY_MODAL_NEW_DEPLOYMENT\' | translate }}\n  </div>\n  <div class="deployment-name">\n    <label for="new-deployment-name">{{ \'PLGN_DPLY_MODAL_DEPLOYMENT_NAME\' | translate }}</label>\n    <div>\n      <input type="text"\n             id="new-deployment-name"\n             ng-model="Modal.deploymentName"\n             class="form-control" />\n    </div>\n  </div>\n  <div class="deployment-tenant-id">\n    <label for="new-deployment-tenant-id">{{ \'PLGN_DPLY_MODAL_TENANT_ID\' | translate }}</label>\n    <div>\n      <input type="text"\n             id="new-deployment-tenant-id"\n             ng-model="Modal.tenantId"\n             class="form-control" />\n    </div>\n  </div>\n  <ul class="list-unstyled" ng-if="Modal.files && Modal.files.length > 0">\n    <li class="deployment-file" ng-repeat="entry in Modal.files">\n      <h4>\n        {{entry.file.name}}\n      </h4>\n    </li>\n  </ul>\n</div><!-- .modal-body -->\n\n<div class="modal-footer row">\n  <div class="col-xs-12 text-right">\n    <button class="btn btn-link"\n            ng-click="Modal.cancel()">{{ \'PLGN_DPLY_MODAL_CANCEL\' | translate }}</button>\n\n    <button class="btn btn-primary"\n            ng-disabled="!Modal.canDeploy()"\n            ng-click="Modal.deploy()">{{ \'PLGN_DPLY_MODAL_DEPLOY\' | translate }}</button>\n  </div>\n</div>\n<!-- EE / src/main/resources-plugin/cockpit/deployment/app/controllers/modal.html -->\n';
b.exports=["$scope","$modal","isFileUploadSupported",d]},{}],89:[function(a,b,c){"use strict";function d(a,b,c,d,e,f){this.$modalInstance=a,this.upload=b,this.Uri=c,this.Notifications=d,this.getDeploymentUrl=e,this.translate=f}b.exports=["$modalInstance","upload","Uri","Notifications","getDeploymentUrl","$translate",d],d.prototype.onFileInputChange=function(a){this.files=this.files||[],this.files=this.files.concat(a)},d.prototype.cancel=function(){this.$modalInstance.dismiss()},d.prototype.canDeploy=function(){return this.files&&this.files.length>0&&this.deploymentName},d.prototype.deploy=function(){var a={"deployment-name":this.deploymentName,"deployment-source":"cockpit"};this.tenantId&&(a["tenant-id"]=this.tenantId),this.upload(this.Uri.appUri("engine://engine/:engine/deployment/create"),this.files,a).then(function(a){this.Notifications.addMessage({status:this.translate.instant("PLGN_DPLY_DEPLOYMENT_SUCCESSFUL"),unsafe:!0,message:this.translate.instant("PLGN_DPLY_RESOURCE_UPDATED")+'<a href="'+this.getDeploymentUrl(a)+'">'+this.translate.instant("PLGN_DPLY_SEE_DEPLOYMENT")+"</a>"}),this.$modalInstance.close()}.bind(this))["catch"](function(a){var b=JSON.parse(a.target.responseText).message;this.Notifications.addError({status:this.translate.instant("PLGN_DPLY_DEPLOYMENT_FAILED"),message:this.translate.instant("PLGN_DPLY_RESOURCE_NOT_UPDATED")+b,exclusive:!0})}.bind(this))}},{}],90:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e="undefined"!=typeof window?window["cam-common"]:"undefined"!=typeof c?c["cam-common"]:null,f=d.module("cockpit.plugin.deployment",[e.name]),g=a("./components/cam-deploy");f.directive("camDeploy",g);var h=a("./controllers/cam-deploy-controller");f.controller("CamDeployController",h);var i=a("./controllers/deployment-modal");f.controller("DeploymentModalController",i),b.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./components/cam-deploy":87,"./controllers/cam-deploy-controller":88,"./controllers/deployment-modal":89}],91:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.jquery:"undefined"!=typeof a?a.jquery:null;b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.plugin.drd.dashboard",{id:"drd-dashboard",label:"PLGN_DRD_DASHBOARD",url:c("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/drd/dashboard.html",controller:["$scope","localConf","$translate",function(a,b,c){function d(a){b.set("sortDRDTab",a)}function e(a){return b.get("sortDRDTab",a)}a.headColumns=[{"class":"name",request:"name",sortable:!0,content:c.instant("PLGN_DRD_NAME")},{"class":"tenant-id",request:"tenantId",sortable:!0,content:c.instant("PLGN_DRD_TENANT_ID_COL")}];var f={sortBy:"name",sortOrder:"asc",sortReverse:!1};a.sortObj=e(f),a.onSortChange=function(b){b=b||a.sortObj,b.sortReverse="asc"!==b.sortOrder,d(b),a.sortObj=b}}],priority:20})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],92:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./dashboard"),f=d.module("cockpit.plugin.drd.dashboard",[]);f.config(e),b.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./dashboard":91}],93:[function(a,b,c){"use strict";var d='<!-- # EE - src/main/resources-plugin/cockpit/drd/app/components/drd-def-sidebar.html -->\n<div cam-hover-area>\n  <dl class="process-information">\n    <dt>{{ \'PLGN_DRD_DEFINITION_VERSION\' | translate }}</dt>\n    <dd drd-def-versions="DrdDefSidebar.definition"\n        class="definition-version">\n    </dd>\n\n    <dt cam-widget-clipboard="DrdDefSidebar.definition.id"\n        cam-hoverable-title="definition-id">{{ \'PLGN_DRD_DEFINITION_ID\' | translate }}</dt>\n    <dd cam-hover-trigger="definition-id">{{ DrdDefSidebar.definition.id }}</dd>\n\n    <dt cam-widget-clipboard="DrdDefSidebar.definition.key"\n        cam-hoverable-title="definition-key">{{ \'PLGN_DRD_DEFINITION_KEY\' | translate }}</dt>\n    <dd class="definition-key"\n        cam-hover-trigger="definition-key">{{ DrdDefSidebar.definition.key }}</dd>\n\n    <dt>{{ \'PLGN_DRD_DEFINITION_NAME\' | translate }}</dt>\n    <dd class="definition-name"\n        ng-if="DrdDefSidebar.shouldDisplayName()">{{ DrdDefSidebar.definition.name }}</dd>\n    <dd class="definition-name"\n        ng-if="!DrdDefSidebar.shouldDisplayName()"><span class="null-value">{{ \'PLGN_DRD_NULL\' | translate }}</span></dd>\n\n    <dt ng-if="DrdDefSidebar.definition.tenantId"\n        cam-widget-clipboard="DrdDefSidebar.definition.tenantId"\n        cam-hoverable-title="tenant-id">{{ \'PLGN_DRD_TENANT_ID\' | translate }}</dt>\n    <dd class="tenant-id"\n        ng-if="DrdDefSidebar.definition.tenantId" cam-hover-trigger="tenant-id">{{ DrdDefSidebar.definition.tenantId }}</dd>\n\n    <dt ng-if="!DrdDefSidebar.definition.tenantId">{{ \'PLGN_DRD_TENANT_ID\' | translate }}</dt>\n    <dd class="tenant-id"\n        ng-if="!DrdDefSidebar.definition.tenantId"><span class="null-value">{{ \'PLGN_DRD_NULL\' | translate }}</span></dd>\n\n    <dt cam-widget-clipboard="DrdDefSidebar.definition.deploymentId"\n        cam-hoverable-title="deployment-id">{{ \'PLGN_DRD_DEPLOYMENT_ID\' | translate }}</dt>\n    <dd class="deployment-id"\n        cam-hover-trigger="deployment-id">\n      <span drd-deployment-link="DrdDefSidebar.definition"></span>\n    </dd>\n  </dl>\n</div>\n<!-- / EE - src/main/resources-plugin/cockpit/drd/app/components/drd-def-sidebar.html -->\n';b.exports=function(){return{restrict:"A",template:d,scope:{definition:"=drdDefSidebar"},controller:"DrdDefSidebarController as DrdDefSidebar"}}},{}],94:[function(a,b,c){"use strict";var d='<div cam-tabs="DrdDefTabs.providerParams" tabs-api="DrdDefTabs.tabsApi">\n</div>\n';b.exports=function(){return{restrict:"A",template:d,controller:"DrdDefTabsController as DrdDefTabs",scope:{definition:"=drdDefTabs"}}}},{}],95:[function(a,b,c){"use strict";var d='<!-- # EE - src/main/resources-plugin/cockpit/drd/app/components/drd-def-toolbar.html -->\n<div cam-toolbar="DrdDefToolbar.providers" vars="{definition: definition}"></div>\n<!-- / EE - src/main/resources-plugin/cockpit/drd/app/components/drd-def-toolbar.html -->\n';b.exports=function(){return{restrict:"A",template:d,scope:{definition:"=drdDefToolbar"},Controller:"DrdDefToolbarController as DrdDefToolbar"}}},{}],96:[function(a,b,c){"use strict";var d='<div cam-widget-loader\n     loading-state="{{DrdDefVersions.loadingState}}"\n     text-error="{{DrdDefVersions.loadingError}}">\n  <div class="dropdown" ng-if="DrdDefVersions.versions.length > 1">\n    <a href\n       class="dropdown-toggle">\n      {{ DrdDefVersions.definition.version }}\n      <span class="caret"></span>\n    </a>\n\n    <ul class="dropdown-menu">\n      <li ng-repeat="definition in DrdDefVersions.versions">\n        <a ng-href="#/decision-requirement/{{ definition.id }}">\n          {{ definition.version }}\n        </a>\n      </li>\n    </ul>\n  </div>\n\n  <span ng-if="DrdDefVersions.versions.length === 1">\n    {{ DrdDefVersions.definition.version }}\n  </span>\n</div>\n';b.exports=function(){return{restrict:"A",template:d,controller:"DrdDefVersionsController as DrdDefVersions",scope:{definition:"=drdDefVersions"}}}},{}],97:[function(a,b,c){"use strict";function d(a,b){b(a,this,["definition"])}b.exports=["$scope","exposeScopeProperties",d],d.prototype.shouldDisplayName=function(){var a=this.definition;return a.name&&a.name!==a.key}},{}],98:[function(a,b,c){"use strict";function d(a){this.providerParams={component:"cockpit.drd.definition.tab"},this.tabsApi=e(a)}var e=a("../plugin-apis/tabs-api");b.exports=["$scope",d]},{"../plugin-apis/tabs-api":105}],99:[function(a,b,c){"use strict";function d(a){this.providers=a.getProviders({component:"cockpit.drd.definition.action"})}b.exports=["Views",d]},{}],100:[function(a,b,c){"use strict";function d(a,b,c){c(a,this,["definition"]),this.loadingState="LOADING";var d={key:a.definition.key,sortBy:"version",sortOrder:"desc"};a.definition.tenantId?d.tenantIdIn=a.definition.tenantId:d.withoutTenantId=!0,b.getAllVersions(d).then(function(a){this.loadingState="LOADED",this.versions=a}.bind(this))["catch"](function(a){throw this.loadingState="ERROR",this.loadingError=a.message,a}.bind(this))}b.exports=["$scope","drdDefinition","exposeScopeProperties",d]},{}],101:[function(a,b,c){"use strict";function d(a,b,c,d){this.page=b,this.definition=a,this.rootScope=c,this.overlayProviderParams={component:"cockpit.drd.definition.overlay"},this.translate=d,this.init()}b.exports=["definition","page","$rootScope","$translate",d],d.prototype.init=function(){var a=this.definition;this.rootScope.showBreadcrumbs=!0,this.page.breadcrumbsClear(),this.page.breadcrumbsAdd([{label:this.translate.instant("PLGN_DRD_DECISIONS"),href:"#/decisions"},{type:"decisionRequirement",label:a.name||a.key||a.id,href:"#/decision-requirement/"+a.id}]),this.page.titleSet([a.name||a.key||a.id,this.translate.instant("PLGN_DRD_DEFINITION_VIEW")].join(" | "))}},{}],102:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e="undefined"!=typeof window?window["cam-common"]:"undefined"!=typeof c?c["cam-common"]:null,f=a("./tabs"),g=a("../drd-common"),h=a("./overlay"),i=a("./route.config.js"),j=a("./controllers/drd-definition"),k=a("./controllers/drd-def-toolbar"),l=a("./controllers/drd-def-sidebar"),m=a("./controllers/drd-def-tabs"),n=a("./controllers/drd-def-versions"),o=a("./components/drd-def-sidebar"),p=a("./components/drd-def-toolbar"),q=a("./components/drd-def-tabs"),r=a("./components/drd-def-versions"),s=d.module("cockpit.plugin.drd.definition",[e.name,f.name,g.name,h.name]);s.config(i),s.controller("DrdDefinitionController",j),s.controller("DrdDefToolbarController",k),s.controller("DrdDefSidebarController",l),s.controller("DrdDefTabsController",m),s.controller("DrdDefVersionsController",n),s.directive("drdDefSidebar",o),s.directive("drdDefToolbar",p),s.directive("drdDefTabs",q),s.directive("drdDefVersions",r),b.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../drd-common":128,"./components/drd-def-sidebar":93,"./components/drd-def-tabs":94,"./components/drd-def-toolbar":95,"./components/drd-def-versions":96,"./controllers/drd-def-sidebar":97,"./controllers/drd-def-tabs":98,"./controllers/drd-def-toolbar":99,"./controllers/drd-def-versions":100,"./controllers/drd-definition":101,"./overlay":103,"./route.config.js":106,"./tabs":113}],103:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./view-provider.config"),f=d.module("cockpit.plugin.drd.definition.overlay",[]);f.config(e),b.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./view-provider.config":104}],104:[function(a,b,c){"use strict";b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.drd.definition.overlay",{id:"drd-definition-statistics",template:'<div drd-stats-overlay="diagramOverlayApi.getStatistics()"></div>'})}]},{}],105:[function(a,b,c){"use strict";b.exports=function(a){function b(){return a.definition}return{getDefinition:b}}},{}],106:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.jquery:"undefined"!=typeof c?c.jquery:null,e=a("camunda-bpm-webapp/ui/common/scripts/util/routeUtil");b.exports=["$routeProvider",function(a){a.when("/decision-requirement/:id",{redirectTo:function(a,b,c){var d=b+"/history";return e.redirectTo(d,c,!0)}}).when("/decision-requirement/:id/history",{templateUrl:d("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/drd/definition.html",authentication:"required",reloadOnSearch:!1,controller:"DrdDefinitionController as DrdDefinition",resolve:{definition:["$route","drdDefinition",function(a,b){return b.getDefinition(a.current.params.id)}]}})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"camunda-bpm-webapp/ui/common/scripts/util/routeUtil":6}],107:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e="undefined"!=typeof window?window["cam-common"]:"undefined"!=typeof c?c["cam-common"]:null,f=a("./view-provider.config"),g=d.module("cockpit.plugin.drd.definition.tabs.decision-instances",[e.name]);g.config(f),b.exports=g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./view-provider.config":108}],108:[function(a,b,c){"use strict";b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.drd.definition.tab",{id:"decision-instance-table",label:"PLGN_DRD_DECISION_INSTANCES",template:'<div drd-decision-instances="tabsApi.getDefinition()"></div>',priority:500})}]},{}],109:[function(a,b,c){"use strict";var d='<!-- EE # src/main/resources-plugin/cockpit/drd/app/definition/tabs/decision-instances/component/drd-decision-instances.html -->\n<div drd-decision-table="Instances.definition"\n     on-instances-loaded="Instances.onInstancesLoaded(instances)"\n     process-params="Instances.processParams(params)"\n     register-on-load="Instances.registerOnLoadFn(loadInstances)">\n  \n  <table class="decision-instances cam-table cam-fixed-layout">\n    <thead sortable-table-head\n           head-columns="Instances.headColumns"\n           on-sort-change="Instances.onSortChange(Instances.sorting)"\n           default-sort="Instances.sorting">\n    </thead>\n\n    <tbody>\n    <tr ng-repeat="decisionInstance in Instances.instances">\n      <td class="drd-instance"\n          cam-widget-clipboard="decisionInstance.id">\n        <a ng-href="#/decision-requirement/{{ Instances.definition.id }}/instance/{{ decisionInstance.id }}"\n           title="{{ decisionInstance.id }}">\n          {{ decisionInstance.id }}\n        </a>\n      </td>\n\n      <td class="evaluation-time"\n          cam-widget-clipboard="decisionInstance.evaluationTime">\n        {{ decisionInstance.evaluationTime | camDate }}\n      </td>\n\n      <td class="decision-definition"\n          cam-widget-clipboard="decisionInstance.decisionDefinitionKey">\n        <a ng-href="#/decision-definition/{{decisionInstance.decisionDefinitionId}}">\n          {{decisionInstance.decisionDefinitionKey}}\n        </a>\n      </td>\n\n      <td class="definition-key"\n          ng-if="decisionInstance.processDefinitionKey"\n          cam-widget-clipboard="decisionInstance.processDefinitionKey">\n        <a ng-href="#/process-definition/{{ decisionInstance.processDefinitionId }}/history">\n          {{ decisionInstance.processDefinitionKey }}\n        </a>\n      </td>\n\n      <td class="definition-key"\n          ng-if="decisionInstance.caseDefinitionKey"\n          cam-widget-clipboard="decisionInstance.caseDefinitionKey">\n        <span decision-instance-case-definition-link="decisionInstance"></span>\n      </td>\n\n      <td class="definition-key"\n          ng-if="!decisionInstance.processDefinitionKey && !decisionInstance.caseDefinitionKey">\n      </td>\n\n      <td class="instance-id"\n          ng-if="decisionInstance.processInstanceId"\n          cam-widget-clipboard="decisionInstance.processInstanceId">\n        <a ng-href="#/process-instance/{{decisionInstance.processInstanceId}}/history?activityInstanceIds={{decisionInstance.activityInstanceId}}&activityIds={{decisionInstance.activityId}}">\n          {{ decisionInstance.processInstanceId }}\n        </a>\n      </td>\n\n      <td class="instance-id"\n          ng-if="decisionInstance.caseInstanceId"\n          cam-widget-clipboard="decisionInstance.caseInstanceId">\n        <span decision-instance-case-instance-link="decisionInstance"></span>\n      </td>\n\n      <td class="instance-id"\n          ng-if="!decisionInstance.processInstanceId && !decisionInstance.caseInstanceId">\n      </td>\n    </tr>\n    </tbody>\n  </table>\n\n</div>\n<!-- EE / src/main/resources-plugin/cockpit/drd/app/definition/tabs/decision-instances/component/drd-decision-instances.html -->\n';b.exports=function(){return{restrict:"A",template:d,controller:"DrdInstancesController as Instances",scope:{definition:"=drdInstances"}}}},{}],110:[function(a,b,c){(function(a){"use strict";function c(a,b,c,d){b(a,this,["definition"]),this.translate=c,this.localConf=d,this.sorting=this._loadLocal({sortBy:"evaluationTime",sortOrder:"asc"}),this.headColumns=[{"class":"drd-instance",request:"",sortable:!1,content:this.translate.instant("PLGN_DRD_DECISION_REQUIREMENTS_DEFINITION_INSTANCE")},{"class":"evaluation-time",request:"evaluationTime",sortable:!0,content:this.translate.instant("PLGN_DRD_EVALUATION_TIME")},{"class":"decision-definition",request:"",sortable:!1,content:this.translate.instant("PLGN_DRD_DECISION_DEFINITION")},{"class":"definition-key",request:"",sortable:!1,content:this.translate.instant("PLGN_DRD_CALLING_DEFINITION")},{"class":"instance-id",request:"",sortable:!1,content:this.translate.instant("PLGN_DRD_CALLING_INSTANCE_ID")}]}var d="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null;b.exports=["$scope","exposeScopeProperties","$translate","localConf",c],c.prototype._loadLocal=function(a){return this.localConf.get("sortDrdInstancesTab",a)},c.prototype._saveLocal=function(a){return this.localConf.set("sortDrdInstancesTab",a)},c.prototype.onSortChange=function(a){this.sorting=a,this._saveLocal(this.sorting),this.loadInstances()},c.prototype.processParams=function(a){var b={rootDecisionInstancesOnly:!0,sortBy:this.sorting.sortBy,sortOrder:this.sorting.sortOrder};return d.extend(b,a)},c.prototype.onInstancesLoaded=function(a){this.instances=a},c.prototype.registerOnLoadFn=function(a){this.loadInstances=a}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],111:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e="undefined"!=typeof window?window["cam-common"]:"undefined"!=typeof c?c["cam-common"]:null,f=a("./components/drd-instances"),g=a("./controllers/drd-instances"),h=a("./view-provider.config"),i=d.module("cockpit.plugin.drd.definition.tabs.drd-instances",[e.name]);i.directive("drdInstances",f),i.controller("DrdInstancesController",g),i.config(h),b.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./components/drd-instances":109,"./controllers/drd-instances":110,"./view-provider.config":112}],112:[function(a,b,c){"use strict";b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.drd.definition.tab",{id:"drd-instance-table",label:"PLGN_DRD_DECISION_REQUIREMENTS_DEFINITION_INSTANCES",template:'<div drd-instances="tabsApi.getDefinition()"></div>',priority:1e3})}]},{}],113:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./decision-instances"),f=a("./drd-instances");b.exports=d.module("cockpit.plugin.drd.definition.tabs",[f.name,e.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./decision-instances":107,"./drd-instances":111}],114:[function(a,b,c){"use strict";var d='<a ng-href="#/case-definition/{{ InstanceLink.instance.caseDefinitionId }}?{{ InstanceLink.getCaseActivitySearchQuery() }}">\n  {{ InstanceLink.instance.caseDefinitionKey}}\n</a>\n';b.exports=function(){return{restrict:"A",template:d,controller:"DecisionInstanceCaseLinkController as InstanceLink",scope:{instance:"=decisionInstanceCaseDefinitionLink"}}}},{}],115:[function(a,b,c){"use strict";var d='<a ng-href="#/case-instance/{{ InstanceLink.instance.caseInstanceId }}?{{ InstanceLink.getCaseActivitySearchQuery() }}">\n  {{ InstanceLink.instance.caseInstanceId }}\n</a>\n';b.exports=function(){return{restrict:"A",template:d,controller:"DecisionInstanceCaseLinkController as InstanceLink",scope:{instance:"=decisionInstanceCaseInstanceLink"}}}},{}],116:[function(a,b,c){var d='<!-- EE # src/main/resources-plugin/cockpit/drd/app/definition/tabs/decision-instances/component/drd-decision-instances.html -->\n<div drd-decision-table="DrdDecisionInstances.definition"\n     on-instances-loaded="DrdDecisionInstances.onInstancesLoaded(instances)"\n     process-params="DrdDecisionInstances.processParams(params)"\n     register-on-load="DrdDecisionInstances.registerOnLoadFn(loadInstances)">\n\n\n  <table class="decision-instances cam-table cam-fixed-layout">\n    <thead sortable-table-head\n           head-columns="DrdDecisionInstances.headColumns"\n           on-sort-change="DrdDecisionInstances.onSortChange(DrdDecisionInstances.sorting)"\n           default-sort="DrdDecisionInstances.sorting">\n    </thead>\n    <tbody>\n    <tr ng-repeat="decisionInstance in DrdDecisionInstances.instances">\n      <td class="instance-id"\n          cam-widget-clipboard="decisionInstance.id">\n        <a ng-href="#/decision-instance/{{ decisionInstance.id }}" title="{{ decisionInstance.id }}">\n          {{ decisionInstance.id }}\n        </a>\n      </td>\n\n      <td class="evaluation-time"\n          cam-widget-clipboard="decisionInstance.evaluationTime">\n        {{ decisionInstance.evaluationTime | camDate }}\n      </td>\n\n      <td class="decision-definition"\n          cam-widget-clipboard="decisionInstance.decisionDefinitionKey">\n        <a ng-href="#/decision-definition/{{decisionInstance.decisionDefinitionId}}">\n          {{decisionInstance.decisionDefinitionKey}}\n        </a>\n      </td>\n\n      <td class="definition-key"\n          ng-if="decisionInstance.processDefinitionKey"\n          cam-widget-clipboard="decisionInstance.processDefinitionKey">\n        <a ng-href="#/process-definition/{{ decisionInstance.processDefinitionId }}/history">\n          {{ decisionInstance.processDefinitionKey }}\n        </a>\n      </td>\n\n      <td class="definition-key"\n          ng-if="decisionInstance.caseDefinitionKey"\n          cam-widget-clipboard="decisionInstance.caseDefinitionKey">\n        <span decision-instance-case-definition-link="decisionInstance"></span>\n      </td>\n\n      <td class="definition-key"\n          ng-if="!decisionInstance.processDefinitionKey && !decisionInstance.caseDefinitionKey">\n      </td>\n\n      <td class="instance-id"\n          ng-if="decisionInstance.processInstanceId"\n          cam-widget-clipboard="decisionInstance.processInstanceId">\n        <a ng-href="#/process-instance/{{decisionInstance.processInstanceId}}/history?activityInstanceIds={{decisionInstance.activityInstanceId}}&activityIds={{decisionInstance.activityId}}">\n          {{ decisionInstance.processInstanceId }}\n        </a>\n      </td>\n\n      <td class="instance-id"\n          ng-if="decisionInstance.caseInstanceId"\n          cam-widget-clipboard="decisionInstance.caseInstanceId">\n        <span decision-instance-case-instance-link="decisionInstance"></span>\n      </td>\n\n      <td class="instance-id"\n          ng-if="!decisionInstance.processInstanceId && !decisionInstance.caseInstanceId">\n      </td>\n    </tr>\n    </tbody>\n  </table>\n\n</div>\n<!-- EE / src/main/resources-plugin/cockpit/drd/app/definition/tabs/decision-instances/component/drd-decision-instances.html -->\n';b.exports=function(){return{restrict:"A",template:d,controller:"DrdDecisionInstancesController as DrdDecisionInstances",scope:{definition:"=drdDecisionInstances",processParams:"&"}}}},{}],117:[function(a,b,c){"use strict";var d='<div cam-searchable-area\n     on-search-change="DecisionTable.onSearchChange(query, pages)"\n     loading-error="DecisionTable.loadingError"\n     loading-state="DecisionTable.loadingState"\n     config="DecisionTable.config"\n     array-types="DecisionTable.arrayTypes"\n     text-empty="{{ \'PLGN_DRD_NOT_FOUND\' | translate }}"\n     total="DecisionTable.count"\n     storage-group="\'DRDI\'">\n  <div ng-transclude></div>\n</div>\n';b.exports=function(){return{restrict:"A",template:d,transclude:!0,controller:"DrdDecisionTableController as DecisionTable",scope:{definition:"=drdDecisionTable",onInstancesLoaded:"&",processParams:"&?",registerOnLoad:"&"}}}},{}],118:[function(a,b,c){var d='<div class="drd-stats-loader">\n  <div cam-widget-loader loading-state="{{ Diagram.statsLoadingStatus }}"></div>\n</div>\n<div cam-widget-dmn-viewer\n     on-click="Diagram.onClick(element, $event)"\n     on-load="Diagram.onLoad()"\n     control="Diagram.control"\n     disable-loader="true"\n     xml="Diagram.definition.xml"\n     enable-drd-navigation="enableDrdNavigation">\n</div>\n';b.exports=function(){return{restrict:"A",template:d,controller:"DrdDefDiagramController as Diagram",scope:{definition:"=drdDefDiagram",instance:"=?",overlayProviderParams:"=?",enableDrdNavigation:"="}}}},{}],119:[function(a,b,c){"use strict";var d='<a ng-href="{{ DeploymentLink.getDeploymentUrl() }}">{{ DeploymentLink.definition.deploymentId }}</a>\n';b.exports=function(){return{restrict:"A",template:d,controller:"DrdDeploymentLinkController as DeploymentLink",scope:{definition:"=drdDeploymentLink"}}}},{}],120:[function(a,b,c){"use strict";var d='<div class="drd-overlay">\n  <div view ng-repeat="overlayProvider in Overlay.viewProviders"\n       provider="overlayProvider"\n       vars="Overlay.vars">\n  </div>\n</div>\n';b.exports=function(){return{restrict:"A",template:d,controller:"DrdDiagramOverlayController as Overlay",scope:{statistics:"=",decisionKey:"=",overlayProviderParams:"="}}}},{}],121:[function(a,b,c){"use strict";var d='<span class="badge"\n      ng-if="statistics"\n      tooltip="{{ \'PLGN_DRD_EXECUTED_DECISION_DEFINITIONS\' | translate }}"\n      tooltip-placement="top"\n      tooltip-animation="false">\n  {{statistics.evaluations}}\n</span>\n\n';b.exports=function(){return{restrict:"A",template:d,scope:{statistics:"=drdStatsOverlay"}}}},{}],122:[function(a,b,c){"use strict";function d(a,b,c){this.searchWidgetUtils=b,c(a,this,["instance"])}b.exports=["$scope","searchWidgetUtils","exposeScopeProperties",d],d.prototype.getCaseActivitySearchQuery=function(){return this.searchWidgetUtils.getSearchQueryForSearchType("caseActivityIdIn",this.instance.activityId)}},{}],123:[function(a,b,c){(function(a){"use strict";function c(a,b,c,d){b(a,this,["definition"]),this.translate=c,this.localConf=d,this.sorting=this._loadLocal({sortBy:"evaluationTime",sortOrder:"asc"}),this.headColumns=[{"class":"drd-instance",request:"",sortable:!1,content:this.translate.instant("PLGN_DRD_ID")},{"class":"evaluation-time",request:"evaluationTime",sortable:!0,content:this.translate.instant("PLGN_DRD_EVALUATION_TIME")},{"class":"decision-definition",request:"",sortable:!1,content:this.translate.instant("PLGN_DRD_DECISION_DEFINITION")},{"class":"definition-key",request:"",sortable:!1,content:this.translate.instant("PLGN_DRD_CALLING_DEFINITION")},{"class":"instance-id",request:"",sortable:!1,content:this.translate.instant("PLGN_DRD_CALLING_INSTANCE_ID")}]}var d="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null;b.exports=["$scope","exposeScopeProperties","$translate","localConf",c],c.prototype._loadLocal=function(a){return this.localConf.get("sortDrdInstancesTab",a)},c.prototype._saveLocal=function(a){return this.localConf.set("sortDrdInstancesTab",a)},c.prototype.onSortChange=function(a){this.sorting=a,this._saveLocal(this.sorting),this.loadInstances()},c.prototype.processParams=function(a){var b={sortBy:this.sorting.sortBy,sortOrder:this.sorting.sortOrder};return d.extend(b,a)},c.prototype.onInstancesLoaded=function(a){this.instances=a},c.prototype.registerOnLoadFn=function(a){this.loadInstances=a}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],124:[function(a,b,c){(function(a){"use strict";function c(a,b,c,f){this.drdDecisionInstances=b,this.config=d.copy(e);var g=this;d.forEach(g.config.tooltips,function(a,b){g.config.tooltips[b]=f.instant(a)}),g.config.types.map(function(a){return a.id.value=f.instant(a.id.value),a.operators&&(a.operators=a.operators.map(function(a){return a.value=f.instant(a.value),a})),a}),this.arrayTypes=["activityIdIn","activityInstanceIdIn","decisionDefinitionKeyIn"],c(a,this,["definition","processParams","onInstancesLoaded","registerOnLoad"]),this.registerOnLoad({loadInstances:this.loadInstances.bind(this)})}var d="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null,e=JSON.parse('{\n  "types": [\n    {\n      "id": {\n        "key": "decisionInstanceId",\n        "value": "PLGN_DRD_SEARCH_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "decisionDefinitionKeyIn",\n        "value": "PLGN_DRD_SEARCH_DECISION_DEFINITION"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "default": true\n    },\n    {\n      "id": {\n        "key": "processDefinitionId",\n        "value": "PLGN_DRD_SEARCH_PROCESS_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processDefinitionKey",\n        "value": "PLGN_DRD_SEARCH_PROCESS_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processInstanceId",\n        "value": "PLGN_DRD_SEARCH_PROCESS_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseDefinitionId",\n        "value": "PLGN_DRD_SEARCH_CASE_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseDefinitionKey",\n        "value": "PLGN_DRD_SEARCH_CASE_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseInstanceId",\n        "value": "PLGN_DRD_SEARCH_CASE_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "activityIdIn",\n        "value": "PLGN_DRD_SEARCH_ACTIVITY_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "activityInstanceIdIn",\n        "value": "PLGN_DRD_SEARCH_ACTIVITY_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "evaluatedDate",\n        "value": "PLGN_DRD_SEARCH_EVALUATED_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_DRD_SEARCH_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_DRD_SEARCH_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "userId",\n        "value": "PLGN_DRD_SEARCH_USER_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    }\n  ],\n  "operators": {\n    "undefined":  [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "PLGN_DRD_SEARCH_LIKE"\n      }\n    ],\n    "string":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "PLGN_DRD_SEARCH_LIKE"\n      }\n    ],\n    "number":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      }\n    ],\n    "boolean":    [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      }\n    ],\n    "object":     [{\n      "key": "eq",\n      "value": "="\n    },\n      {\n        "key": "neq",\n        "value": "!="\n      }],\n    "date":     [{\n      "key": "lteq",\n      "value": "PLGN_DRD_SEARCH_BEFORE"\n    },\n      {\n        "key": "gteq",\n        "value": "PLGN_DRD_SEARCH_AFTER"\n      }]\n  },\n  "tooltips": {\n    "inputPlaceholder": "PLGN_DRD_SEARCH_ADD_CRITERIA",\n    "invalid": "PLGN_DRD_SEARCH_NOT_VALID",\n    "deleteSearch": "PLGN_DRD_SEARCH_REMOVE_SEARCH",\n    "type": "PLGN_DRD_SEARCH_TYPE",\n    "name": "PLGN_DRD_SEARCH_PROPERTY",\n    "operator": "PLGN_DRD_SEARCH_OPERATOR",\n    "value": "PLGN_DRD_SEARCH_VALUE"\n  }\n}\n');
b.exports=["$scope","drdDecisionInstances","exposeScopeProperties","$translate",c],c.prototype.onSearchChange=function(a,b){return this.params=a,this.pages=b,this.loadInstances()},c.prototype.loadInstances=function(){return this.loadingState="LOADING",this.drdDecisionInstances.getDecisionInstancesForDrd(this.definition.id,this.pages,this.getProcessedParams()).then(function(a){return this.loadingState=a.count>0?"LOADED":"EMPTY",this.count=a.count,this.onInstancesLoaded({instances:a.instances}),a.count}.bind(this))["catch"](function(a){throw this.loadingState="ERROR",this.loadingError=a.message,a}.bind(this))},c.prototype.getProcessedParams=function(){var a=this.processParams({params:this.params});return a||this.params}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],125:[function(a,b,c){(function(a){"use strict";function c(a,b,c,d,e,f,g,h,i){this.searchWidgetUtils=d,this.search=e,this.drdDefinition=f,this.$scope=a,this.$location=b,this.$compile=c,this.Loaders=g,this.drdStatsOverlay=i,this.control={},h(a,this,["definition","instance","overlayProviderParams"]),a.$on("$locationChangeSuccess",this.onLocationChange.bind(this)),a.$on("resize",this.onCollapseChange.bind(this))}var d="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null;b.exports=["$scope","$location","$compile","searchWidgetUtils","search","drdDefinition","Loaders","exposeScopeProperties","drdStatsOverlay",c];var e="decisionDefinitionKeyIn";c.prototype.onCollapseChange=function(){this.control.resetZoom()},c.prototype.onLoad=function(){this.addDecisionOpenListener(),this.overlayProviderParams&&(this.addLoadingStatusListener(),this.loadDrdStatistics().then(this.addOverlays.bind(this)))},c.prototype.addLoadingStatusListener=function(){this.statsLoadingStatus="INITIAL",this.Loaders.addStatusListener(this.$scope,function(a){this.statsLoadingStatus=a}.bind(this))},c.prototype.loadDrdStatistics=function(){var a=this.Loaders.startLoading();return this.drdStatsOverlay.getStatistics(this.definition,this.instance).then(function(b){return a(),b}.bind(this))["catch"](function(b){throw a(),b})},c.prototype.addOverlays=function(a){this.control.getElements(function(a){return"dmn:Decision"===a.type}).forEach(function(b){var c=this.createOverlayElement(b.id,a);this.control.createBadge(b.id,{html:c})}.bind(this))},c.prototype.createOverlayElement=function(a,b){var c='<div drd-diagram-overlay statistics="statistics" overlay-provider-params="overlayProviderParams" decision-key="decisionKey"></div>',d=this.createChildScopeForOverlay(a,b);return this.$compile(c)(d)},c.prototype.createChildScopeForOverlay=function(a,b){var c=this.$scope.$new(!0);return c.overlayProviderParams=this.overlayProviderParams,c.decisionKey=a,c.statistics=b,c},c.prototype.onLocationChange=function(){var a=this.searchWidgetUtils.getActivityIdsFromUrlParams(e,this.search());this.control.clearAllElementsHighlight(),a.forEach(function(a){this.control.highlightElement(a)}.bind(this))},c.prototype.addDecisionOpenListener=function(){this.control.getViewer().getActiveViewer().on("drillDown.click",1500,function(a){return this.getDecisionDefinition(a.element.id).then(this.redirectToDecisionDefinitionPage.bind(this)),!1},this)},c.prototype.getDecisionDefinition=function(a){return this.drdDefinition.getDecisionDefinitionByDrd(a,this.definition)},c.prototype.redirectToDecisionDefinitionPage=function(a){var b="/decision-definition/"+a.id+"/history";this.$location.url(b)},c.prototype.onClick=function(a,b){var c="dmn:Decision"===a.type;this.selectDrdElement(c?a.id:[],c,b.ctrlKey)},c.prototype.selectDrdElement=function(a,b,c){this.updateSearchQuery(a,c),this.updateElementsHighlights(a,c,b)},c.prototype.updateSearchQuery=function(a,b){var c=this.search(),e=this.getUpdatedSearchQuery(c,a,b);this.search.updateSilently(d.extend(c,{searchQuery:JSON.stringify(e)}))},c.prototype.updateElementsHighlights=function(a,b,c){b||this.control.clearAllElementsHighlight(),c&&(b&&this.control.isElementHighlighted(a)?this.control.clearElementHighlight(a):this.control.highlightElement(a))},c.prototype.getUpdatedSearchQuery=function(a,b,c){var d=this.getSearches(a);return c?this.searchWidgetUtils.updateSearchValuesForTypeInCtrlMode(d,e,[].concat(b)):this.searchWidgetUtils.replaceActivitiesInSearchQuery(d,e,[].concat(b))},c.prototype.getSearches=function(a){var b=decodeURI(a.searchQuery||"[]");return JSON.parse(b)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],126:[function(a,b,c){"use strict";function d(a,b,c){this.routeUtil=c,b(a,this,["definition"])}b.exports=["$scope","exposeScopeProperties","routeUtil",d],d.prototype.getDeploymentUrl=function(){var a="#/repository",b=this.definition,c=b.deploymentId,d={deployment:c,resourceName:b.resource,deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:c}])};return this.routeUtil.redirectTo(a,d,["deployment","resourceName","deploymentsQuery"])}},{}],127:[function(a,b,c){"use strict";function d(a,b){this.viewProviders=b.getProviders(a.overlayProviderParams),this.createOverlayApi(a)}var e=a("../plugin-apis/diagram-overlay-api");b.exports=["$scope","Views",d],d.prototype.createOverlayApi=function(a){a.diagramOverlayApi=e(a),this.vars={read:["diagramOverlayApi"]}}},{"../plugin-apis/diagram-overlay-api":129}],128:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e="undefined"!=typeof window?window["cam-common"]:"undefined"!=typeof c?c["cam-common"]:null,f=a("./controllers/drd-decision-table"),g=a("./controllers/drd-def-diagram"),h=a("./controllers/drd-deployment-link"),i=a("./controllers/drd-decision-instances"),j=a("./controllers/decision-instance-case-link"),k=a("./controllers/drd-diagram-overlay"),l=a("./services/drd-decision-instances"),m=a("./services/drd-definition"),n=a("./services/drd-stats-overlay"),o=a("./components/drd-decision-table"),p=a("./components/drd-def-diagram"),q=a("./components/drd-deployment-link"),r=a("./components/drd-decision-instances"),s=a("./components/decision-instance-case-instance-link"),t=a("./components/decision-instance-case-definition-link"),u=a("./components/drd-diagram-overlay"),v=a("./components/drd-stats-overlay"),w=d.module("cockpit.plugin.drd.drd-common",[e.name]);w.controller("DrdDecisionTableController",f),w.controller("DrdDefDiagramController",g),w.controller("DrdDeploymentLinkController",h),w.controller("DrdDecisionInstancesController",i),w.controller("DecisionInstanceCaseLinkController",j),w.controller("DrdDiagramOverlayController",k),w.factory("drdDecisionInstances",l),w.factory("drdDefinition",m),w.factory("drdStatsOverlay",n),w.directive("drdDecisionTable",o),w.directive("drdDefDiagram",p),w.directive("drdDeploymentLink",q),w.directive("drdDecisionInstances",r),w.directive("decisionInstanceCaseInstanceLink",s),w.directive("decisionInstanceCaseDefinitionLink",t),w.directive("drdDiagramOverlay",u),w.directive("drdStatsOverlay",v),b.exports=w}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./components/decision-instance-case-definition-link":114,"./components/decision-instance-case-instance-link":115,"./components/drd-decision-instances":116,"./components/drd-decision-table":117,"./components/drd-def-diagram":118,"./components/drd-deployment-link":119,"./components/drd-diagram-overlay":120,"./components/drd-stats-overlay":121,"./controllers/decision-instance-case-link":122,"./controllers/drd-decision-instances":123,"./controllers/drd-decision-table":124,"./controllers/drd-def-diagram":125,"./controllers/drd-deployment-link":126,"./controllers/drd-diagram-overlay":127,"./services/drd-decision-instances":130,"./services/drd-definition":131,"./services/drd-stats-overlay":132}],129:[function(a,b,c){"use strict";b.exports=function(a){function b(){return a.statistics.filter(function(b){return b.decisionDefinitionKey===a.decisionKey})[0]}return{getStatistics:b}}},{}],130:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null;b.exports=["$q","camAPI",function(a,b){function d(b,d,g){var h=c.extend({decisionRequirementsDefinitionId:b},g);return f.decisionInstanceCount(h).then(function(b){var c=b.count;return c>(d.current-1)*d.size?a.all({count:c,instances:e(h,d)}):b})}function e(a,b){var d=c.extend({firstResult:(b.current-1)*b.size,maxResults:b.size},a);return f.decisionInstance(d)}var f=b.resource("history");return{getDecisionInstancesForDrd:d}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],131:[function(a,b,c){"use strict";b.exports=["$q","camAPI",function(a,b){function c(b){return a.all({definition:f.get(b),xml:f.getXML(b)}).then(function(a){return a.definition.xml=a.xml.dmnXml,a.definition})}function d(a){return f.list(a)}function e(b,c){return g.list({key:b,decisionRequirementsDefinitionId:c.id}).then(function(d){var e=d[0];return e?e:a.reject({message:"Could not find decision definition for drd id "+c.id+" and key "+b})})}var f=b.resource("drd"),g=b.resource("decision-definition");return{getDefinition:c,getAllVersions:d,getDecisionDefinitionByDrd:e}}]},{}],132:[function(a,b,c){"use strict";b.exports=["camAPI",function(a){function b(a,b){var d;return b&&(d={decisionInstanceId:b.id}),c.drdStatistics(a.id,d)}var c=a.resource("history");return{getStatistics:b}}]},{}],133:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./definition"),f=a("./instance"),g=a("./dashboard");b.exports=d.module("cockpit.plugin.drd",[e.name,f.name,g.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./dashboard":92,"./definition":102,"./instance":139}],134:[function(a,b,c){"use strict";var d='<!-- # EE - src/main/resources-plugin/cockpit/drd/app/components/drd-def-sidebar.html -->\n<div cam-hover-area>\n  <dl class="process-information">\n    <dt>{{ \'PLGN_DRD_DEFINITION_VERSION\' | translate }}</dt>\n    <dd class="definition-version">\n      <span>\n        {{ DrdSidebar.definition.version }}\n      </span>\n    </dd>\n\n    <dt cam-widget-clipboard="DrdSidebar.instance.id"\n        cam-hoverable-title="instance-id">{{ \'PLGN_DRD_ROOT_INSTANCE_ID\' | translate }}</dt>\n    <dd cam-hover-trigger="instance-id">\n      <a ng-href="#/decision-instance/{{ DrdSidebar.instance.id }}">\n        {{ DrdSidebar.instance.id }}\n      </a>\n    </dd>\n\n    <dt cam-widget-clipboard="DrdSidebar.definition.id"\n        cam-hoverable-title="definition-id">{{ \'PLGN_DRD_DEFINITION_ID\' | translate }}</dt>\n    <dd cam-hover-trigger="definition-id">\n      <a ng-href="#/decision-requirement/{{ DrdSidebar.definition.id }}">\n        {{ DrdSidebar.definition.id }}\n      </a>\n    </dd>\n\n    <dt cam-widget-clipboard="DrdSidebar.definition.key"\n        cam-hoverable-title="definition-key">{{ \'PLGN_DRD_DEFINITION_KEY\' | translate }}</dt>\n    <dd class="definition-key"\n        cam-hover-trigger="definition-key">{{ DrdSidebar.definition.key }}</dd>\n\n    <dt>{{ \'PLGN_DRD_DEFINITION_NAME\' | translate }}</dt>\n    <dd class="definition-name"\n        ng-if="DrdSidebar.shouldDisplayName()">{{ DrdSidebar.definition.name }}</dd>\n    <dd class="definition-name"\n        ng-if="!DrdSidebar.shouldDisplayName()"><span class="null-value">{{ \'PLGN_DRD_NULL\' | translate }}</span></dd>\n\n    <dt ng-if="DrdSidebar.instance.tenantId"\n        cam-widget-clipboard="DrdSidebar.instance.tenantId"\n        cam-hoverable-title="tenant-id">{{ \'PLGN_DRD_TENANT_ID\' | translate }}</dt>\n    <dd class="tenant-id"\n        ng-if="DrdSidebar.instance.tenantId" cam-hover-trigger="tenant-id">{{ DrdSidebar.instance.tenantId }}</dd>\n\n    <dt ng-if="!DrdSidebar.instance.tenantId">{{ \'PLGN_DRD_TENANT_ID\' | translate }}</dt>\n    <dd class="tenant-id"\n        ng-if="!DrdSidebar.instance.tenantId"><span class="null-value">{{ \'PLGN_DRD_NULL\' | translate }}</span></dd>\n\n    <dt cam-widget-clipboard="DrdSidebar.definition.deploymentId"\n        cam-hoverable-title="deployment-id">{{ \'PLGN_DRD_DEPLOYMENT_ID\' | translate }}</dt>\n    <dd class="deployment-id"\n        cam-hover-trigger="deployment-id">\n      <span drd-deployment-link="DrdSidebar.definition"></span>\n    </dd>\n\n    <dt ng-if="DrdSidebar.instance.processInstanceId"\n        cam-widget-clipboard="DrdSidebar.instance.processInstanceId"\n        cam-hoverable-title="process-id">{{ \'PLGN_DRD_PROCESS_INSTANCE_ID\' | translate }}</dt>\n    <dd ng-if="DrdSidebar.instance.processInstanceId"\n        class="process-instance-id"\n        cam-hover-trigger="process-id">\n      <a ng-href="#/process-instance/{{ DrdSidebar.instance.processInstanceId }}/history?activityIds={{DrdSidebar.instance.activityId}}">\n        {{ DrdSidebar.instance.processInstanceId }}\n      </a>\n    </dd>\n\n    <dt ng-if="!DrdSidebar.instance.processInstanceId">{{ \'PLGN_DRD_PROCESS_INSTANCE_ID\' | translate }}</dt>\n    <dd ng-if="!DrdSidebar.instance.processInstanceId"\n        class="process-instance-id">\n      null\n    </dd>\n\n    <dt ng-if="DrdSidebar.instance.caseInstanceId"\n        cam-widget-clipboard="DrdSidebar.instance.caseInstanceId"\n        cam-hoverable-title="case-id">{{ \'PLGN_DRD_CASE_INSTANCE_ID\' | translate }}</dt>\n    <dd ng-if="DrdSidebar.instance.caseInstanceId"\n        class="case-instance-id"\n        cam-hover-trigger="case-id">\n      <span decision-instance-case-instance-link="DrdSidebar.instance"></span>\n    </dd>\n\n    <dt ng-if="!DrdSidebar.instance.caseInstanceId">{{ \'PLGN_DRD_CASE_INSTANCE_ID\' | translate }}</dt>\n    <dd ng-if="!DrdSidebar.instance.caseInstanceId"\n        class="case-instance-id">\n      null\n    </dd>\n  </dl>\n</div>\n<!-- / EE - src/main/resources-plugin/cockpit/drd/app/components/drd-def-sidebar.html -->\n';b.exports=function(){return{restrict:"A",template:d,controller:"DrdInstanceSidebarController as DrdSidebar",scope:{instance:"=drdInstanceSidebar",definition:"="}}}},{}],135:[function(a,b,c){"use strict";var d='<div cam-tabs="InstanceTabs.providerParams" tabs-api="InstanceTabs.tabsApi">\n</div>\n';b.exports=function(){return{restrict:"A",template:d,controller:"DrdInstanceTabsController as InstanceTabs",scope:{definition:"=drdInstanceTabs",instance:"="}}}},{}],136:[function(a,b,c){"use strict";function d(a,b){b(a,this,["definition","instance"])}b.exports=["$scope","exposeScopeProperties",d],d.prototype.shouldDisplayName=function(){var a=this.definition;return a.name&&a.name!==a.key}},{}],137:[function(a,b,c){"use strict";function d(a){this.providerParams={component:"cockpit.drd.instance.tab"},this.tabsApi=e(a)}var e=a("../plugin-apis/tabs-api");b.exports=["$scope",d]},{"../plugin-apis/tabs-api":142}],138:[function(a,b,c){"use strict";function d(a,b,c,d,e){this.page=c,this.definition=a,this.instance=b,this.rootScope=d,this.overlayProviderParams={component:"cockpit.drd.instance.overlay"},this.translate=e,this.init()}b.exports=["definition","instance","page","$rootScope","$translate",d],d.prototype.init=function(){var a=this.definition,b=this.instance;this.rootScope.showBreadcrumbs=!0,this.page.breadcrumbsClear(),this.page.breadcrumbsAdd([{label:this.translate.instant("PLGN_DRD_DECISIONS"),href:"#/decisions"},{type:"decisionRequirement",label:a.name||a.key||a.id,href:"#/decision-requirement/"+a.id},{type:"decisionRequirementInstance",label:b.id,href:"#/decision-requirement/"+a.id+"/instance/"+b.id+"/history"}]),this.page.titleSet([a.name||a.key||a.id,this.translate.instant("PLGN_DRD_INSTANCE_VIEW")].join(" | "))}},{}],139:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e="undefined"!=typeof window?window["cam-common"]:"undefined"!=typeof c?c["cam-common"]:null,f=a("../drd-common"),g=a("./tabs"),h=a("./overlay"),i=a("./route.config"),j=a("./components/drd-instance-sidebar"),k=a("./components/drd-instance-tabs"),l=a("./services/drd-instance"),m=a("./controllers/drd-instance"),n=a("./controllers/drd-instance-sidebar"),o=a("./controllers/drd-instance-tabs"),p=d.module("cockpit.plugin.drd.instance",[e.name,f.name,g.name,h.name]);p.config(i),p.directive("drdInstanceSidebar",j),p.directive("drdInstanceTabs",k),p.factory("drdInstance",l),p.controller("DrdInstanceController",m),p.controller("DrdInstanceSidebarController",n),p.controller("DrdInstanceTabsController",o),b.exports=p}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../drd-common":128,"./components/drd-instance-sidebar":134,"./components/drd-instance-tabs":135,"./controllers/drd-instance":138,"./controllers/drd-instance-sidebar":136,"./controllers/drd-instance-tabs":137,"./overlay":140,"./route.config":143,"./services/drd-instance":144,"./tabs":147}],140:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./view-provider.config"),f=d.module("cockpit.plugin.drd.instance.overlay",[]);f.config(e),b.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./view-provider.config":141}],141:[function(a,b,c){"use strict";b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.drd.instance.overlay",{id:"drd-definition-statistics",template:'<div drd-stats-overlay="diagramOverlayApi.getStatistics()"></div>'})}]},{}],142:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null;b.exports=function(a){function b(){return a.definition}function d(b){var d={rootDecisionInstanceId:a.instance.id};return c.extend(d,b)}return{getDefinition:b,processParams:d}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],143:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.jquery:"undefined"!=typeof c?c.jquery:null,e=a("camunda-bpm-webapp/ui/common/scripts/util/routeUtil");b.exports=["$routeProvider",function(a){a.when("/decision-requirement/:id/instance/:rootId",{redirectTo:function(a,b,c){var d=b+"/history";return e.redirectTo(d,c,!0)}}).when("/decision-requirement/:id/instance/:rootId/history",{templateUrl:d("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/drd/instance.html",authentication:"required",reloadOnSearch:!1,controller:"DrdInstanceController as DrdInstance",resolve:{definition:["$route","drdDefinition",function(a,b){return b.getDefinition(a.current.params.id)}],instance:["$route","drdInstance",function(a,b){return b.getDecisionInstance(a.current.params.rootId)}]}})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"camunda-bpm-webapp/ui/common/scripts/util/routeUtil":6}],144:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null;b.exports=["$q","camAPI",function(a,b){function d(b){return e.decisionInstance({decisionInstanceId:b}).then(function(d){return c.isArray(d)&&0!==d.length?d[0]:a.reject("No decision instance with id "+b)})}var e=b.resource("history");return{getDecisionInstance:d}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],145:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e="undefined"!=typeof window?window["cam-common"]:"undefined"!=typeof c?c["cam-common"]:null,f=a("./view-provider.config"),g=d.module("cockpit.plugin.drd.instance.tabs.decision-instances",[e.name]);g.config(f),b.exports=g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./view-provider.config":146}],146:[function(a,b,c){"use strict";b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.drd.instance.tab",{id:"decision-instance-table",label:"PLGN_DRD_DECISION_INSTANCES",template:'<div drd-decision-instances="tabsApi.getDefinition()" process-params="tabsApi.processParams(params)"></div>'})}]},{}],147:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null;b.exports=d.module("cockpit.plugin.drd.instance.tabs",[a("./decision-instances").name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./decision-instances":145}],148:[function(a,b,c){var d='<!-- # EE - src/main/resources-plugin/cockpit/external-tasks/components/external-tasks-history-tab.html -->\n<div external-tasks-tab="Tab.onLoad(pages, activityIds)"\n     process-data="Tab.processData">\n\n  <table class="history-job-log cam-table">\n    <thead sortable-table-head\n                     head-columns="Tab.headColumns"\n                     on-sort-change="Tab.onSortChange(Tab.sorting)"\n                     default-sort="Tab.sorting">\n  </thead>\n    <tbody>\n      <tr ng-repeat="task in Tab.tasks track by task.id">\n        <td class="id"\n            cam-widget-clipboard="task.externalTaskId">{{task.externalTaskId}}</td>\n        <td class="state">{{Tab.getTasksState(task)}}</td>\n        <td class="error-message">\n          <span cam-widget-clipboard="task.errorMessage">\n            <span ng-if="task.failureLog" external-task-error-message-link="task.id" historic="true">\n              <span ng-if="task.errorMessage">{{task.errorMessage}}</span>\n              <i ng-if="!task.errorMessage">{{ \'PLGN_EXT_MESSAGE_NULL\' | translate }}</i>\n            </span>\n          </span>\n        </td>\n        <td class="process-id"\n            ng-show="Tab.isDefinition"\n            cam-widget-clipboard="task.processInstanceId">\n            <a ng-href="#/process-instance/{{task.processInstanceId}}/history?tab=external-tasks-process-instance-history">\n              {{task.processInstanceId}}\n            </a>\n        </td>\n        <td class="activity">\n          <span external-task-activity-link="task.activityId"\n                search-query-type="Tab.isDefinition ? \'activityIdIn\' : null"\n                bpmn-elements="Tab.bpmnElements">\n          </span>\n        </td>\n        <td class="retries">{{task.retries}}</td>\n        <td class="worker-id">{{task.workerId}}</td>\n        <td class="topic">{{task.topicName}}</td>\n        <td class="priority">{{task.priority}}</td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n<!-- / EE - src/main/resources-plugin/cockpit/external-tasks/components/external-tasks-history-tab.html -->\n';b.exports=function(){return{restrict:"A",template:d,controller:"ExternalTasksHistoryController as Tab",scope:{resource:"=",processData:"=",isDefinition:"="}}}},{}],149:[function(a,b,c){"use strict";function d(a,b,c,d,e,f,g){b(a,this,["resource","processData","isDefinition"]),d(a,this),this.externalTasksHistory=c,this.Uri=e,this.translate=f,this.localConf=g,this.query=null,this.pages=null,this.activityIds=null,this.sorting=this._loadLocal({sortBy:"activityId",sortOrder:"asc"}),this.headColumns=[{"class":"id",request:"externalTaskId",sortable:!0,content:this.translate.instant("PLGN_EXT_TASK_ID")},{"class":"state",request:"",sortable:!1,content:this.translate.instant("PLGN_EXT_STATE")},{"class":"error-message",request:"",sortable:!1,content:this.translate.instant("PLGN_EXT_ERROR_MSG")},{"class":"process-id",request:"processInstanceId",sortable:!0,content:this.translate.instant("PLGN_EXT_PROCESS_INSTANCE_ID"),condition:this.isDefinition},{"class":"activity",request:"activityId",sortable:!1,content:this.translate.instant("PLGN_EXT_ACTIVITY")},{"class":"retries",request:"retries",sortable:!0,content:this.translate.instant("PLGN_EXT_RETRIES")},{"class":"worker-id",request:"workerId",sortable:!0,content:this.translate.instant("PLGN_EXT_WORKER_ID")},{"class":"topic",request:"topicName",sortable:!0,content:this.translate.instant("PLGN_EXT_TOPIC")},{"class":"priority",request:"priority",sortable:!0,content:this.translate.instant("PLGN_EXT_PRIORITY")}]}b.exports=["$scope","exposeScopeProperties","externalTasksHistory","observeBpmnElements","Uri","$translate","localConf",d],d.prototype._loadLocal=function(a){return this.localConf.get("sortExternalTaskHistoryTab",a)},d.prototype._saveLocal=function(a){return this.localConf.set("sortExternalTaskHistoryTab",a)},d.prototype.onSortChange=function(a){this.sorting=a,this._saveLocal(this.sorting),this.onLoad()},d.prototype.onLoad=function(a,b){this.pages=a||this.pages,this.activityIds=b||this.activityIds;var c=this.query||{};return c.sortBy=this.sorting.sortBy,c.sortOrder=this.sorting.sortOrder,b&&b.length&&(c.activityIdIn=b.join(",")),this.isDefinition?c.processDefinitionId=this.resource.id:c.processInstanceId=this.resource.id,this.externalTasksHistory.getExternalTasksLog(c,this.pages).then(function(a){return this.tasks=a.list,a}.bind(this))},d.prototype.getTasksState=function(a){return a.creationLog?this.translate.instant("PLGN_EXT_CREATED"):a.failureLog?this.translate.instant("PLGN_EXT_FAILED"):a.successLog?this.translate.instant("PLGN_EXT_SUCCESSFUL"):a.deletionLog?this.translate.instant("PLGN_EXT_DELETED"):void 0}},{}],150:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e="undefined"!=typeof window?window["cam-common"]:"undefined"!=typeof c?c["cam-common"]:null,f=a("./components/external-tasks-history-tab"),g=a("./services/external-tasks-history"),h=a("./controllers/external-tasks-history-controller"),i=a("./view-provider.config"),j=d.module("cockpit.plugin.external-tasks",[e.name]);j.directive("externalTasksHistoryTab",f),j.factory("externalTasksHistory",g),j.controller("ExternalTasksHistoryController",h),j.config(i),b.exports=j}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./components/external-tasks-history-tab":148,"./controllers/external-tasks-history-controller":149,"./services/external-tasks-history":151,"./view-provider.config":152}],151:[function(a,b,c){"use strict";b.exports=["camAPI","createListQueryFunction",function(a,b){var c=a.resource("history");return{getExternalTasksLog:b(c.externalTaskLogCount.bind(c),c.externalTaskLogList.bind(c))}}]},{}],152:[function(a,b,c){"use strict";var d='<div external-tasks-history-tab\n     resource="processInstance"\n     process-data="processData"\n     is-definition="false">\n</div>\n',e='<div external-tasks-history-tab\n     resource="processDefinition"\n     process-data="processData"\n     is-definition="true">\n</div>\n';b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processInstance.history.tab",{id:"external-tasks-process-instance-history",label:"PLGN_EXT_LOG",priority:2,template:d}),a.registerDefaultView("cockpit.processDefinition.history.tab",{id:"external-tasks-process-defintion-history",label:"PLGN_EXT_LOG",priority:2,template:e})}]},{}],153:[function(a,b,c){(function(c){function d(a,b){return"string"==typeof b&&(b=[b]),"label"!==a.type&&b.filter(function(b){return a.businessObject.$instanceOf("bpmn:"+b)}).length>0}function e(a){return d(a,"SubProcess")&&!a.collapsed}var f,g="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,h=a("../lib/heatmap"),i=30,j=.2,k=10,l=20,m=60,n=.125,o=2.5,p=.17,q=function(a,b,c,d){if(c)for(var e=1;e<b.waypoints.length;e++)for(var f=b.waypoints[e-1],g=b.waypoints[e],h={x:g.x-f.x,y:g.y-f.y},l={x:h.x/(Math.abs(h.x)+Math.abs(h.y))*k,y:h.y/(Math.abs(h.x)+Math.abs(h.y))*k},m=Math.sqrt(h.x*h.x+h.y*h.y)/k,n=0;n<m;n++)a.push({x:f.x+l.x*n-d.x,y:f.y+l.y*n-d.y,value:c*j,radius:i})},r=function(a,b,c){var d=[],f=b.get("elementRegistry");for(var g in a){var h=f.get(g);if(h){if(!e(h))for(var i=0;i<h.width+l/2;i+=l)for(var j=0;j<h.height+l/2;j+=l)d.push({x:h.x+i-c.x,y:h.y+j-c.y,value:a[g]*n,radius:m});for(i=0;i<h.incoming.length;i++)q(d,h.incoming[i],Math.min(a[g],a[h.incoming[i].source.id]),c)}}return d},s=function(a){a.registerDefaultView("cockpit.processDefinition.history.diagram.action",{id:"heatmap-action",url:g.element("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/heatmap/heatmap-action.html",controller:["$scope","$timeout",function(a,b){function c(){var b=a.viewer.get("canvas").getDefaultLayer().getBBox();return{width:b.width+150,height:b.height+150,x:b.x-75,y:b.y-75}}var d;a.toggled=!1,a.processData.observe(["historicActivityStatistics",function(b){d=b,a.toggled&&(i(),e())}]);var e=function(){a.isLoading=!0;var b=a.$parent.$parent.$parent.control,e=c(),g=document.createElement("div");g.style.width=e.width+"px",g.style.height=e.height+"px",g.style.position="absolute",document.body.appendChild(g);var i=h.create({container:g});g.firstChild.setAttribute("width",e.width),g.firstChild.setAttribute("height",e.height);for(var j={},k=0;k<d.length;k++){var l=d[k],m=(l.instances||0)+(l.finished||0);j[l.id]=m}var n=r(j,a.viewer,e),q=Math.max.apply(this,n.map(function(a){return a.value})),s=n.map(function(a){return{x:a.x,y:a.y,radius:a.radius,value:(p+a.value/q*(1-p))/o}});i.setData({max:1,data:s}),document.body.removeChild(g),b.addImage(i.getDataURL(),e.x,e.y).then(function(b){f=b,f.css("pointer-events","none"),f.css("opacity","0.8"),a.isLoading=!1})},g=function(){b(function(){e()})},i=function(){f[0].parentNode.removeChild(f[0])};a.toggleHeatmap=function(){a.toggled=!a.toggled,f&&document.body.contains(f[0])?i():g()},a.hasHeatmap=function(){return f&&document.body.contains(f[0])},a.isLoading=!1,a.$on("$destroy",function(){f&&f[0].parentNode&&f[0].parentNode.contains(f[0])&&i()})}],priority:20})};s.$inject=["ViewsProvider"],b.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/heatmap":155}],154:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./heatmap-action"),f=d.module("cockpit.plugin.heatmap.actions",[]);f.config(e),b.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./heatmap-action":153}],155:[function(b,c,d){!function(b,d,e){"undefined"!=typeof c&&c.exports?c.exports=e():"function"==typeof a&&a.amd?a(e):d[b]=e()}("h337",this,function(){var a={defaultRadius:40,defaultRenderer:"canvas2d",defaultGradient:{.25:"rgb(0,0,255)",.55:"rgb(0,255,0)",.85:"yellow",1:"rgb(255,0,0)"},defaultMaxOpacity:1,defaultMinOpacity:0,defaultBlur:.85,defaultXField:"x",defaultYField:"y",defaultValueField:"value",plugins:{}},b=function(){var b=function(a){this._coordinator={},this._data=[],this._radi=[],this._min=0,this._max=1,this._xField=a.xField||a.defaultXField,this._yField=a.yField||a.defaultYField,this._valueField=a.valueField||a.defaultValueField,a.radius&&(this._cfgRadius=a.radius)},c=a.defaultRadius;return b.prototype={_organiseData:function(a,b){var d=a[this._xField],e=a[this._yField],f=this._radi,g=this._data,h=this._max,i=this._min,j=a[this._valueField]||1,k=a.radius||this._cfgRadius||c;return g[d]||(g[d]=[],f[d]=[]),g[d][e]?g[d][e]+=j:(g[d][e]=j,f[d][e]=k),g[d][e]>h?(b?this.setDataMax(g[d][e]):this._max=g[d][e],!1):{x:d,y:e,value:j,radius:k,min:i,max:h}},_unOrganizeData:function(){var a=[],b=this._data,c=this._radi;for(var d in b)for(var e in b[d])a.push({x:d,y:e,radius:c[d][e],value:b[d][e]});return{min:this._min,max:this._max,data:a}},_onExtremaChange:function(){this._coordinator.emit("extremachange",{min:this._min,max:this._max})},addData:function(){if(arguments[0].length>0)for(var a=arguments[0],b=a.length;b--;)this.addData.call(this,a[b]);else{
var c=this._organiseData(arguments[0],!0);c&&this._coordinator.emit("renderpartial",{min:this._min,max:this._max,data:[c]})}return this},setData:function(a){var b=a.data,c=b.length;this._data=[],this._radi=[];for(var d=0;d<c;d++)this._organiseData(b[d],!1);return this._max=a.max,this._min=a.min||0,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},removeData:function(){},setDataMax:function(a){return this._max=a,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setDataMin:function(a){return this._min=a,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setCoordinator:function(a){this._coordinator=a},_getInternalData:function(){return{max:this._max,min:this._min,data:this._data,radi:this._radi}},getData:function(){return this._unOrganizeData()}},b}(),c=function(){function a(a){var c=a.container,d=this.shadowCanvas=document.createElement("canvas"),e=this.canvas=a.canvas||document.createElement("canvas"),f=(this._renderBoundaries=[1e4,1e4,0,0],getComputedStyle(a.container)||{});e.className="heatmap-canvas",this._width=e.width=d.width=+f.width.replace(/px/,""),this._height=e.height=d.height=+f.height.replace(/px/,""),this.shadowCtx=d.getContext("2d"),this.ctx=e.getContext("2d"),e.style.cssText=d.style.cssText="position:absolute;left:0;top:0;",c.style.position="relative",c.appendChild(e),this._palette=b(a),this._templates={},this._setStyles(a)}var b=function(a){var b=a.gradient||a.defaultGradient,c=document.createElement("canvas"),d=c.getContext("2d");c.width=256,c.height=1;var e=d.createLinearGradient(0,0,256,1);for(var f in b)e.addColorStop(f,b[f]);return d.fillStyle=e,d.fillRect(0,0,256,1),d.getImageData(0,0,256,1).data},c=function(a,b){var c=document.createElement("canvas"),d=c.getContext("2d"),e=a,f=a;if(c.width=c.height=2*a,1==b)d.beginPath(),d.arc(e,f,a,0,2*Math.PI,!1),d.fillStyle="rgba(0,0,0,1)",d.fill();else{var g=d.createRadialGradient(e,f,a*b,e,f,a);g.addColorStop(0,"rgba(0,0,0,1)"),g.addColorStop(1,"rgba(0,0,0,0)"),d.fillStyle=g,d.fillRect(0,0,2*a,2*a)}return c},d=function(a){for(var b=[],c=a.min,d=a.max,e=a.radi,a=a.data,f=Object.keys(a),g=f.length;g--;)for(var h=f[g],i=Object.keys(a[h]),j=i.length;j--;){var k=i[j],l=a[h][k],m=e[h][k];b.push({x:h,y:k,value:l,radius:m})}return{min:c,max:d,data:b}};return a.prototype={renderPartial:function(a){this._drawAlpha(a),this._colorize()},renderAll:function(a){this._clear(),this._drawAlpha(d(a)),this._colorize()},_updateGradient:function(a){this._palette=b(a)},updateConfig:function(a){a.gradient&&this._updateGradient(a),this._setStyles(a)},setDimensions:function(a,b){this._width=a,this._height=b,this.canvas.width=this.shadowCanvas.width=a,this.canvas.height=this.shadowCanvas.height=b},_clear:function(){this.shadowCtx.clearRect(0,0,this._width,this._height),this.ctx.clearRect(0,0,this._width,this._height)},_setStyles:function(a){this._blur=0==a.blur?0:a.blur||a.defaultBlur,a.backgroundColor&&(this.canvas.style.backgroundColor=a.backgroundColor),this._opacity=255*(a.opacity||0),this._maxOpacity=255*(a.maxOpacity||a.defaultMaxOpacity),this._minOpacity=255*(a.minOpacity||a.defaultMinOpacity),this._useGradientOpacity=!!a.useGradientOpacity},_drawAlpha:function(a){for(var b=this._min=a.min,d=this._max=a.max,a=a.data||[],e=a.length,f=1-this._blur;e--;){var g,h=a[e],i=h.x,j=h.y,k=h.radius,l=Math.min(h.value,d),m=i-k,n=j-k,o=this.shadowCtx;this._templates[k]?g=this._templates[k]:this._templates[k]=g=c(k,f),o.globalAlpha=(l-b)/(d-b),o.drawImage(g,m,n),m<this._renderBoundaries[0]&&(this._renderBoundaries[0]=m),n<this._renderBoundaries[1]&&(this._renderBoundaries[1]=n),m+2*k>this._renderBoundaries[2]&&(this._renderBoundaries[2]=m+2*k),n+2*k>this._renderBoundaries[3]&&(this._renderBoundaries[3]=n+2*k)}},_colorize:function(){var a=this._renderBoundaries[0],b=this._renderBoundaries[1],c=this._renderBoundaries[2]-a,d=this._renderBoundaries[3]-b,e=this._width,f=this._height,g=this._opacity,h=this._maxOpacity,i=this._minOpacity,j=this._useGradientOpacity;a<0&&(a=0),b<0&&(b=0),a+c>e&&(c=e-a),b+d>f&&(d=f-b);for(var k=this.shadowCtx.getImageData(a,b,c,d),l=k.data,m=l.length,n=this._palette,o=3;o<m;o+=4){var p=l[o],q=4*p;if(q){var r;r=g>0?g:p<h?p<i?i:p:h,l[o-3]=n[q],l[o-2]=n[q+1],l[o-1]=n[q+2],l[o]=j?n[q+3]:r}}k.data=l,this.ctx.putImageData(k,a,b),this._renderBoundaries=[1e3,1e3,0,0]},getValueAt:function(a){var b,c=this.shadowCtx,d=c.getImageData(a.x,a.y,1,1),e=d.data[3],f=this._max,g=this._min;return b=Math.abs(f-g)*(e/255)>>0},getDataURL:function(){return this.canvas.toDataURL()}},a}(),d=function(){var b=!1;return"canvas2d"===a.defaultRenderer&&(b=c),b}(),e={merge:function(){for(var a={},b=arguments.length,c=0;c<b;c++){var d=arguments[c];for(var e in d)a[e]=d[e]}return a}},f=function(){function c(){var c=this._config=e.merge(a,arguments[0]||{});if(this._coordinator=new f,c.plugin){var h=c.plugin;if(!a.plugins[h])throw new Error("Plugin '"+h+"' not found. Maybe it was not registered.");var i=a.plugins[h];this._renderer=new i.renderer(c),this._store=new i.store(c)}else this._renderer=new d(c),this._store=new b(c);g(this)}var f=function(){function a(){this.cStore={}}return a.prototype={on:function(a,b,c){var d=this.cStore;d[a]||(d[a]=[]),d[a].push(function(a){return b.call(c,a)})},emit:function(a,b){var c=this.cStore;if(c[a])for(var d=c[a].length,e=0;e<d;e++){var f=c[a][e];f(b)}}},a}(),g=function(a){var b=a._renderer,c=a._coordinator,d=a._store;c.on("renderpartial",b.renderPartial,b),c.on("renderall",b.renderAll,b),c.on("extremachange",function(b){a._config.onExtremaChange&&a._config.onExtremaChange({min:b.min,max:b.max,gradient:a._config.gradient||a._config.defaultGradient})}),d.setCoordinator(c)};return c.prototype={addData:function(){return this._store.addData.apply(this._store,arguments),this},removeData:function(){return this._store.removeData&&this._store.removeData.apply(this._store,arguments),this},setData:function(){return this._store.setData.apply(this._store,arguments),this},setDataMax:function(){return this._store.setDataMax.apply(this._store,arguments),this},setDataMin:function(){return this._store.setDataMin.apply(this._store,arguments),this},configure:function(a){return this._config=e.merge(this._config,a),this._renderer.updateConfig(this._config),this._coordinator.emit("renderall",this._store._getInternalData()),this},repaint:function(){return this._coordinator.emit("renderall",this._store._getInternalData()),this},getData:function(){return this._store.getData()},getDataURL:function(){return this._renderer.getDataURL()},getValueAt:function(a){return this._store.getValueAt?this._store.getValueAt(a):this._renderer.getValueAt?this._renderer.getValueAt(a):null}},c}(),g={create:function(a){return new f(a)},register:function(b,c){a.plugins[b]=c}};return g})},{}],156:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./actions/main");b.exports=d.module("cockpit.plugin.heatmap",[e.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./actions/main":154}],157:[function(a,b,c){"use strict";var d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/actions/cancel-process-instance/cancel-process-instance-dialog.html -->\n<div class="modal-header">\n  <h3>{{ \'PLGN_HIST_CANCEL_PROCESS_INSTANCE\' | translate }}</h3>\n</div>\n\n<div class="cancel-process-instance modal-body">\n  <div notifications-panel></div>\n\n  <div ng-hide="status === \'cancellationSuccess\' || status === \'cancellationFailed\' || status === \'beforeCancellation\' || status === \'loadingFailed\'">\n    <span class="glyphicon glyphicon-loading"></span>\n    {{ \'PLGN_HIST_LOADING\' | translate }}\n  </div>\n\n  <p ng-show="status === \'loadingFailed\'">\n    {{ \'PLGN_HIST_NO_FURTHER_INFOS\' | translate }}\n  </p>\n\n  <div ng-show="status === \'beforeCancellation\'">\n    <div ng-show="subProcessInstances.length > 0">\n      <p>\n        {{ \'PLGN_HIST_SUBPROCESS_INSTANCES\' | translate }}\n      </p>\n\n      <table class="table cam-table">\n        <thead>\n          <tr>\n            <th class="instance-id uuid">ID</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          <tr ng-repeat="subProcessInstance in subProcessInstances">\n            <td class="instance-id uuid">\n              <a target="_blank"\n                 ng-href="#/process-instance/{{ subProcessInstance.id }}">\n                {{ subProcessInstance.id }}\n              </a>\n            </td>\n          </tr>\n\n          <tr>\n            <td ng-hide="subProcessInstances.length === subProcessInstancesCount">\n              {{ \'PLGN_HIST_OTHER_INSTANCES\' | translate:{otherCount: (subProcessInstancesCount - subProcessInstances.length) } }}\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <form class="form-horizontal"\n          name="cancelProcessInstanceForm"\n          novalidate\n          request-aware>\n      <div  ng-hide="hideSkipCustomListeners"\n            class="form-group skip-custom-listener">\n\n        <label class="control-label col-xs-5"\n               for="skipCustomListeners">\n          {{ \'PLGN_HIST_SKIP_CUSTOM_LISTENER\' | translate }}\n          <span class="glyphicon glyphicon-question-sign"\n                tooltip="{{ \'PLGN_HIST_BUILT_IN_LISTENERS\' | translate }}"\n                tooltip-placement="right">\n          </span>\n        </label>\n\n        <div class="col-xs-7">\n          <label class="checkbox">\n            <input name="skipCustomListeners"\n                   type="checkbox"\n                   ng-model="options.skipCustomListeners">\n          </label>\n        </div>\n\n      </div>\n\n      <div class="form-group skip-custom-listener">\n\n        <label class="control-label col-xs-5"\n               for="skipIoMappings">\n          {{ \'PLGN_HIST_SKIP_IO_MAPPINGS\' | translate }}\n          <span class="glyphicon glyphicon-question-sign"\n                tooltip="{{ \'PLGN_HIST_SKIP_IO_MAPPINGS_INFO\' | translate }}"\n                tooltip-placement="right">\n          </span>\n        </label>\n\n        <div class="col-xs-7">\n          <label class="checkbox">\n            <input name="skipIoMappings"\n                   type="checkbox"\n                   ng-model="options.skipIoMappings">\n          </label>\n        </div>\n\n      </div>\n    </form>\n\n    <p>{{ \'PLGN_HIST_SURE\' | translate }}</p>\n  </div>\n\n  <div ng-show="status === \'cancellationSuccess\'">\n    <p>{{ \'PLGN_HIST_CANCELED_SUCCESSFULLY\' | translate }}</p>\n    <p>{{ \'PLGN_HIST_REDIRECTION\' | translate }}</p>\n  </div>\n\n  <div ng-show="status === \'cancellationFailed\'">\n    <p>{{ \'PLGN_HIST_COULD_NOT_CANCELED\' | translate }}</p>\n    <p>{{ \'PLGN_HIST_REFRESH\' | translate }}</p>\n  </div>\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="close(status)"\n          ng-disabled="status === \'performCancellation\'"\n          ng-hide="status === \'cancellationSuccess\' || status === \'cancellationFailed\' || status === \'loadingFailed\'">\n    {{ \'PLGN_HIST_CLOSE\' | translate }}\n  </button>\n\n  <button class="btn btn-primary"\n          ng-click="close(status)"\n          ng-show="status === \'cancellationSuccess\' || status === \'cancellationFailed\' || status === \'loadingFailed\'">\n    {{ \'PLGN_HIST_OK\' | translate }}\n  </button>\n\n  <button class="btn btn-primary"\n          ng-click="cancelProcessInstance()"\n          ng-disabled="status !== \'beforeCancellation\'"\n          ng-hide="status === \'cancellationSuccess\' || status === \'cancellationFailed\' || status === \'loadingFailed\'">\n    {{ \'PLGN_HIST_CANCEL_PROCESS_INSTANCE\' | translate }}\n  </button>\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/actions/cancel-process-instance/cancel-process-instance-dialog.html -->\n',e='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/actions/cancel-process-instance/cancel-process-instance-action.html -->\n<a class="btn btn-default btn-toolbar"\n   href\n   ng-click="openDialog()"\n   tooltip="{{ \'PLGN_HIST_CANCEL_RUNNING_INSTANCES\' | translate }}"\n   tooltip-placement="left"\n   ng-hide="processInstance.endTime">\n  <span class="glyphicon glyphicon-remove"></span>\n</a>\n<div tooltip="{{ \'PLGN_HIST_CANCEL_NOT_POSSIBLE\' | translate }}"\n     tooltip-placement="left"\n     ng-show="processInstance.endTime">\n  <a href class="btn btn-default btn-toolbar" disabled>\n    <span class="glyphicon glyphicon-remove"></span>\n  </a>\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/actions/cancel-process-instance/cancel-process-instance-action.html -->\n',f=function(a){a.registerDefaultView("cockpit.processInstance.history.action",{id:"cancel-historic-process-instance-action",label:"PLGN_HIST_CANCEL_PROCESS_INSTANCE_ACTION",template:e,controller:["$scope","$modal",function(a,b){a.openDialog=function(){b.open({resolve:{processData:function(){return a.processData},processInstance:function(){return a.processInstance}},controller:"HistoryCancelProcessInstanceController",template:d})}}],priority:20})};f.$inject=["ViewsProvider"],b.exports=f},{}],158:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null;b.exports=["$scope","$route","Notifications","ProcessInstanceResource","$modalInstance","processInstance","processData","configuration","$translate",function(a,b,d,e,f,g,h,i,j){var k="beforeCancellation",l="performCancellation",m="cancellationSuccess",n="cancellationFailed",o=i.getSkipCustomListeners();a.processInstance=g;var p=h.newChild(a);a.options={skipCustomListeners:o["default"],skipIoMappings:!0},a.hideSkipCustomListeners=o.hidden,a.$on("$routeChangeStart",function(){f.close(a.status)}),p.provide("subProcessInstances",function(){return e.query({firstResult:0,maxResults:5},{superProcessInstance:g.id}).$promise}),p.provide("subProcessInstancesCount",function(){return e.count({superProcessInstance:g.id}).$promise}),p.observe(["subProcessInstancesCount","subProcessInstances"],function(b,c){a.subProcessInstancesCount=b.count,a.subProcessInstances=c,a.status=k}),a.cancelProcessInstance=function(){a.status=l,e["delete"](c.extend({id:g.id},a.options),function(){a.status=m,d.addMessage({status:j.instant("PLGN_HIST_CANCELED"),message:j.instant("PLGN_HIST_CANCELLATION_SUCCESSFUL")})},function(b){a.status=n,d.addError({status:j.instant("PLGN_HIST_FAILED"),message:j.instant("PLGN_HIST_CANCELLATION_FAILED",{err:b.data.message}),exclusive:["type"]})})},a.close=function(a){f.close(a),a===m&&b.reload()}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],159:[function(a,b,c){(function(a){"use strict";var c='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/actions/increment-job-retries-bulk/job-retry-bulk-dialog.html -->\n<div class="modal-header">\n  <h3>{{ \'PLGN_HIST_INCREMENT_RETRIES\' | translate }}</h3>\n</div>\n\n<div class="job-retry-bulk modal-body">\n  <div notifications-panel></div>\n\n  <form name="selectFailedJobsForm"\n        ng-hide="status === \'finished\' || status === \'performing\'">\n    <fieldset>\n      <p>{{ \'PLGN_HIST_SELECT_JOB\' | translate }}</p>\n      <div cam-widget-loader\n           loading-state="{{ loadingState }}"\n           text-empty="{{ \'PLGN_HIST_NO_FAILED_JOBS\' | translate }}">\n        <table class="cam-table">\n          <thead>\n            <tr>\n              <th class="row-select">\n                <input type="checkbox"\n                       title="Select all"\n                       ng-model="allJobsSelected"\n                       ng-change="selectAllJobs(allJobsSelected)">\n              </th>\n              <th class="job-id uuid">{{ \'PLGN_HIST_ID\' | translate }}</th>\n              <th class="scope">{{ \'PLGN_HIST_SCOPE\' | translate }}</th>\n              <th class="exception">{{ \'PLGN_HIST_EXCEPTION\' | translate }}</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            <tr ng-repeat="job in failedJobs">\n              <td class="row-select">\n                <input type="checkbox"\n                       ng-model="job.selected"\n                       ng-change="selectFailedJob(job)">\n              </td>\n\n              <td class="job-id uuid">{{ job.id }}</td>\n\n              <td class="scope">{{ job.activityName }}</td>\n\n              <td class="exception">{{ job.exceptionMessage }}</td>\n            </tr>\n          </tbody>\n        </table>\n\n\n        <pagination ng-if="jobPages.total > jobPages.size"\n                    class="pagination-sm"\n\n                    page="jobPages.current"\n                    ng-model="jobPages.current"\n\n                    total-items="jobPages.total"\n                    items-per-page="jobPages.size"\n\n                    max-size="7"\n                    boundary-links="true"></pagination>\n      </div>\n    </fieldset>\n  </form>\n\n  <div ng-show="status === \'finished\' || status === \'performing\'">\n\n    <table class="cam-table">\n      <thead>\n        <tr>\n          <th class="job-id uuid">{{ \'PLGN_HIST_ID\' | translate }}</th>\n          <th class="status">{{ \'PLGN_HIST_STATUS\' | translate }}</th>\n        </tr>\n      </thead>\n\n      <tbody>\n        <tr ng-repeat="job in showJobsRetried">\n          <td class="job-id uuid">{{ job.id }}</td>\n\n          <td class="status">\n            <span ng-show="job.status && job.status === \'performing\'">\n              <span class="glyphicon glyphicon-loading"></span>\n            </span>\n            <span ng-show="job.status && job.status === \'successful\'">\n              <span class="glyphicon glyphicon-ok"></span>{{ \'PLGN_HIST_SUCCESSFUL\' | translate }}\n            </span>\n            <span ng-show="job.status && job.status === \'failed\'">\n              <span class="glyphicon glyphicon-remove"></span>{{ \'PLGN_HIST_FAILED\' | translate }}\n            </span>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n\n    <pagination ng-if="summarizePages.total > summarizePages.size"\n                class="pagination-sm"\n\n                page="summarizePages.current"\n                ng-model="summarizePages.current"\n\n                total-items="summarizePages.total"\n                items-per-page="summarizePages.size"\n\n                max-size="7"\n                boundary-links="true"></pagination>\n  </div>\n\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="close()"\n          ng-hide="status === \'finished\' || status === \'performing\'">\n    {{ \'PLGN_HIST_CLOSE\' | translate }}\n  </button>\n\n  <button class="btn btn-primary"\n          ng-click="retryFailedJobs(selectedFailedJobIds)"\n          ng-disabled="!failedJobs || !failedJobs.length || !selectedFailedJobIds.length"\n          ng-hide="status === \'finished\' || status === \'performing\'">\n    {{ \'PLGN_HIST_RETRY\' | translate }}\n  </button>\n\n  <button class="btn btn-primary"\n          ng-click="close(status)"\n          ng-disabled="status === \'performing\'"\n          ng-show="status === \'performing\' || status === \'finished\'">\n    {{ \'PLGN_HIST_OK\' | translate }}\n  </button>\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/actions/increment-job-retries-bulk/job-retry-bulk-dialog.html -->\n',d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/actions/increment-job-retries-bulk/job-retry-bulk-action.html -->\n<a class="btn btn-default btn-toolbar"\n   href\n   ng-click="openDialog()"\n   tooltip="{{ \'PLGN_HIST_INCREMENT_RETRIES_FAILED_JOBS\' | translate }}"\n   tooltip-placement="left"\n   ng-if="!processInstance.endTime">\n  <span class="glyphicon glyphicon-repeat"></span>\n</a>\n<div tooltip="{{ \'PLGN_HIST_INCREMENT_RETRIES_NOT_POSSIBLE\' | translate }}"\n     tooltip-placement="left"\n     ng-if="processInstance.endTime">\n  <a href class="btn btn-default btn-toolbar" disabled>\n    <span class="glyphicon glyphicon-repeat"></span>\n  </a>\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/actions/increment-job-retries-bulk/job-retry-bulk-action.html -->\n',e="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null,f=function(a){a.registerDefaultView("cockpit.processInstance.history.action",{id:"history-job-retry-action",label:"PLGN_HIST_JOB_RETRY_ACTION",template:d,controller:["$scope","$modal",function(a,b){a.openDialog=function(){var d=b.open({resolve:{processData:function(){return a.processData},processInstance:function(){return a.processInstance}},controller:"HistoryJobRetriesController",template:c});d.result.then(function(b){"finished"===b&&a.processData.set("filter",e.extend({},a.filter))})}}],priority:15})};f.$inject=["ViewsProvider"],b.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],160:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null;b.exports=["$scope","$q","Notifications","JobDefinitionResource","JobResource","$modalInstance","processData","processInstance","$translate",function(a,b,d,e,f,g,h,i,j){function k(b){a.failedJobs=null,a.allJobsSelected=!1,a.loadingState="LOADING";var c=p.size,d=(b-1)*c;f.query({firstResult:d,maxResults:c},{processInstanceId:i.id,withException:!0,noRetriesLeft:!0}).$promise.then(function(b){for(var c,d=0;c=b[d];d++){r[c.id]=c,c.activityName=(t[c.jobDefinitionId]||{}).activityName;var e=s.indexOf(c.id);c.selected=e!==-1}a.failedJobs=b,a.loadingState=b.length?"LOADED":"EMPTY"}),f.count({processInstanceId:i.id,withException:!0}).$promise.then(function(a){p.total=a.count})}function l(b){for(var c=q.size,d=(b-1)*c,e=a.showJobsRetried=[],f=0;f<c;f++){var g=s[f+d],h=r[g];h&&e.push(h)}}function m(a){function c(a){a.status=w,f.setRetries({id:a.id},{retries:1},function(){a.status=x,g-=1,0===g&&e.resolve()},function(b){u=!0,a.status=y,a.retryError=b,g-=1,0===g&&e.resolve()})}for(var d,e=b.defer(),g=a.length,h=0;d=a[h];h++){var i=r[d];c(i)}return e.promise}var n,o=h.newChild(a),p=a.jobPages={size:5,total:0},q=a.summarizePages={size:5,total:0},r={},s=a.selectedFailedJobIds=[],t={},u=!1;a.allJobsSelected=!1;var v="finished",w="performing",x="successful",y="failed";o.provide("jobDefinitions",["processDefinition",function(a){return e.query({processDefinitionId:a.id}).$promise}]),o.observe(["jobDefinitions","bpmnElements"],function(a,b){n=a,t={},c.forEach(n,function(a){var c=a.activityId,d=b[c];a.activityName=d&&(d.name||d.id)||c,t[a.id]=a})}),a.$on("$routeChangeStart",function(){g.close(a.status)}),a.$watch("jobPages.current",function(a,b){return a?void(a!==b&&(p.current=a,k(a))):void(p.current=1)}),a.$watch("summarizePages.current",function(a){a&&l(a)}),a.selectAllJobs=function(b){c.forEach(a.failedJobs,function(a){a.selected=b,z(a)})};var z=a.selectFailedJob=function(b){var c=s.indexOf(b.id);return b.selected===!0?void(c===-1&&s.push(b.id)):b.selected===!1?(s.splice(c,1),void(a.allJobsSelected===!0&&(a.allJobsSelected=!1))):void 0};a.retryFailedJobs=function(b){a.status=w,q.total=b.length,q.current=1,m(b).then(function(){u?d.addError({status:j.instant("PLGN_HIST_FINISHED"),message:j.instant("PLGN_HIST_FAILD"),exclusive:!0}):d.addMessage({status:j.instant("PLGN_HIST_FINISHED"),message:j.instant("PLGN_HIST_FINISHED_SUCCESSFUL"),exclusive:!0}),a.status=v})},a.close=function(a){g.close(a)}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],161:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./cancel-process-instance/cancelProcessInstanceAction"),f=a("./cancel-process-instance/cancelProcessInstanceDialog"),g=a("./increment-job-retries-bulk/jobRetryBulkAction"),h=a("./increment-job-retries-bulk/jobRetryBulkDialog"),i=a("./update-process-instance-suspension-state/updateSuspensionStateAction"),j=a("./update-process-instance-suspension-state/updateSuspensionStateDialog"),k=d.module("cockpit.plugin.history.actions",[]);k.config(e),k.controller("HistoryCancelProcessInstanceController",f),k.config(g),k.controller("HistoryJobRetriesController",h),k.config(i),k.controller("HistoryUpdateProcessInstanceSuspensionStateController",j),b.exports=k}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cancel-process-instance/cancelProcessInstanceAction":157,"./cancel-process-instance/cancelProcessInstanceDialog":158,"./increment-job-retries-bulk/jobRetryBulkAction":159,"./increment-job-retries-bulk/jobRetryBulkDialog":160,"./update-process-instance-suspension-state/updateSuspensionStateAction":162,"./update-process-instance-suspension-state/updateSuspensionStateDialog":163}],162:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null,d="<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/actions/update-process-instance-suspension-state/update-suspension-state-dialog.html -->\n<div class=\"modal-header\">\n  <h3>{{ (processInstance.suspended ? 'PLGN_HIST_ACTIVATE_PROCESS_INSTANCE' : 'PLGN_HIST_SUSPEND_PROCESS_INSTANCE') | translate }}</h3>\n</div>\n\n<div class=\"process-instance update-suspension-state modal-body\">\n  <div notifications-panel></div>\n\n  <div ng-hide=\"status === 'SUCCESS' || status === 'FAIL'\">\n\n    <div ng-show=\"processInstance.suspended\">\n      <!-- activation -->\n      <p>\n        {{ 'PLGN_HIST_TOKE_STATE' | translate }}\n      </p>\n\n      <p>\n        {{ 'PLGN_HIST_TASKS' | translate }}\n      </p>\n\n      <p>\n        {{ 'PLGN_HIST_JOBS' | translate }}\n      </p>\n\n      <p>\n        {{ 'PLGN_HIST_HIERARCHY' | translate }}\n      </p>\n\n      <p>{{ 'PLGN_HIST_SURE_ACtIVATE' | translate }}</p>\n    </div>\n\n    <div ng-hide=\"processInstance.suspended\">\n      <!-- suspension -->\n      <p>\n        {{ 'PLGN_HIST_TASK_LIFECYCLE' | translate }}\n      </p>\n\n      <p>\n        {{ 'PLGN_HIST_TASKS_SUPSENDED' | translate }}\n        <ul>\n          <li>{{ 'PLGN_HIST_CLAIMING' | translate }}</li>\n          <li>{{ 'PLGN_HIST_COMPLETING' | translate }}</li>\n          <li>{{ 'PLGN_HIST_DELEGATION' | translate }}</li>\n          <li>{{ 'PLGN_HIST_CHANGES' | translate }}</li>\n        </ul>\n      {{ 'PLGN_HIST_CHANGING_PROPERTIES' | translate }}\n      </p>\n\n      <p>\n        {{ 'PLGN_HIST_SUSPENDED_JOBS' | translate }}\n      </p>\n\n      <p>\n        {{ 'PLGN_HIST_SUSPENDED_HIERARCHY' | translate }}\n      </p>\n\n      <p>{{ 'PLGN_HIST_SURE_SUSPEND' | translate }}</p>\n    </div>\n\n  </div>\n\n  <div ng-show=\"status === 'SUCCESS'\">\n    <p ng-show=\"processInstance.suspended\">\n      {{ 'PLGN_HIST_ACTIVATION' | translate }}\n    </p>\n    <p ng-hide=\"processInstance.suspended\">\n      {{ 'PLGN_HIST_SUSPENSION' | translate }}\n    </p>\n  </div>\n\n  <div ng-show=\"status === 'FAIL'\">\n    <p ng-show=\"processInstance.suspended\">\n      {{ 'PLGN_HIST_ACTIVATION_FAILED' | translate }}\n    </p>\n    <p ng-hide=\"processInstance.suspended\">\n      {{ 'PLGN_HIST_SUSPENSION_FAILED' | translate }}\n    </p>\n  </div>\n\n</div>\n<div class=\"modal-footer\">\n  <button class=\"btn btn-default\"\n          ng-click=\"close(status)\"\n          ng-disabled=\"status === 'PERFORM_UDPATE'\"\n          ng-hide=\"status === 'SUCCESS' || status === 'FAIL'\">\n    {{ 'PLGN_HIST_CLOSE' | translate }}\n  </button>\n\n  <button type=\"submit\"\n          class=\"btn btn-primary\"\n          ng-click=\"updateSuspensionState()\"\n          ng-hide=\"status === 'SUCCESS' || status === 'FAIL'\"\n          ng-disabled=\"status === 'PERFORM_UDPATE'\">\n    {{ (processInstance.suspended ? 'PLGN_HIST_ACTIVATE' : 'PLGN_HIST_SUSPEND') | translate }}\n  </button>\n\n  <button class=\"btn btn-primary\"\n          ng-click=\"close(status)\"\n          ng-show=\"status === 'SUCCESS' || status === 'FAIL'\">{{ 'PLGN_HIST_OK' | translate }}</button>\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/actions/update-process-instance-suspension-state/update-suspension-state-dialog.html -->\n",e='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/actions/update-process-instance-suspension-state/update-suspension-state-action.html -->\n<div ng-if="!processInstance.endTime">\n  <a class="btn btn-default btn-toolbar btn-suspend-action"\n     href\n     ng-click="openDialog()"\n     tooltip="{{ \'PLGN_HIST_SUSPEND_PROCESS_INSTANCE\' | translate }}"\n     tooltip-placement="left"\n     ng-show="!runningProcessInstance.suspended">\n    <span class="glyphicon glyphicon-pause"></span>\n  </a>\n  <a class="btn btn-default btn-toolbar"\n     href\n     ng-click="openDialog()"\n     tooltip="{{ \'PLGN_HIST_ACTIVATE_PROCESS_INSTANCE\' | translate }}"\n     tooltip-placement="left"\n     ng-hide="!runningProcessInstance.suspended">\n    <span class="glyphicon glyphicon-play"></span>\n  </a>\n</div>\n<div ng-if="processInstance.endTime"\n      tooltip="{{ \'PLGN_HIST_SUSPENSION_NOT_POSSIBLE\' | translate }}"\n      tooltip-placement="left">\n  <a class="btn btn-default btn-toolbar btn-suspend-action"\n     href\n     disabled>\n    <span class="glyphicon glyphicon-pause"></span>\n  </a>\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/actions/update-process-instance-suspension-state/update-suspension-state-action.html -->\n',f=function(a){a.registerDefaultView("cockpit.processInstance.history.action",{id:"history-update-process-instance-suspension-state-action",label:"PLGN_HIST_UPDATE_SUSPENSION_STATE",template:e,controller:["$scope","$modal","ProcessInstanceResource",function(a,b,e){var f=a.processData.newChild(a);a.processInstance.endTime||(f.provide("runningProcessInstance",function(){return e.get({id:a.processInstance.id}).$promise}),f.observe("runningProcessInstance",function(b){a.runningProcessInstance=b})),a.openDialog=function(){var e=b.open({resolve:{processData:function(){return a.processData},processInstance:function(){return a.runningProcessInstance}},controller:"HistoryUpdateProcessInstanceSuspensionStateController",template:d});e.result.then(function(b){"SUCCESS"===b.status&&(a.runningProcessInstance.suspended=b.suspended,a.processData.set("filter",c.extend({},a.filter)))})}}],priority:5})};f.$inject=["ViewsProvider"],b.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],163:[function(a,b,c){"use strict";b.exports=["$scope","$http","Uri","Notifications","$modalInstance","processInstance","$translate",function(a,b,c,d,e,f,g){var h="BEFORE_UPDATE",i="PERFORM_UDPATE",j="SUCCESS",k="FAIL";a.processInstance=f,a.status=h,a.$on("$routeChangeStart",function(){e.close(a.status)}),a.updateSuspensionState=function(){a.status=i;var e={};e.suspended=!f.suspended,b.put(c.appUri("engine://engine/:engine/process-instance/"+f.id+"/suspended/"),e).success(function(){a.status=j,d.addMessage({status:g.instant("PLGN_HIST_FINISHED"),message:g.instant("PLGN_HIST_UPDATED"),exclusive:!0})}).error(function(b){
a.status=k,d.addError({status:g.instant("PLGN_HIST_FINISHED"),message:g.instant("PLGN_HIST_UPDATE_FAILED",{msg:b.message}),exclusive:!0})})},a.close=function(a){var b={};b.status=a,b.suspended=!f.suspended,e.close(b)}}]},{}],164:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./userOperationsTable"),f=d.module("cockpit.plugin.history.components",[]);f.directive("userOperationsTable",e),b.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./userOperationsTable":165}],165:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null,d='<!-- # CE - camunda-cockpit-ui/client/scripts/directives/user-operations-table.html -->\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-empty="{{ \'PLGN_HIST_NOT_AVAILABLE\' | translate }}">\n\n  <table class="user-operations-table cam-table">\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="sortObj">\n    </thead>\n\n    <tbody>\n    <tr ng-repeat="operation in userOperations | orderBy:sortObj.sortBy:sortObj.sortReverse">\n      <td class="operation" >\n        <table ng-if="operation.operationTypes.length > 0">\n          <tr ng-repeat="operationType in operation.operationTypes track by $index">\n            <td>{{operationType || \'&nbsp;\' }}</td>\n          </tr>\n        </table>\n      </td>\n      <td ng-if="processDefinition && operation.processInstanceId"\n          class="process-instance"\n          cam-widget-clipboard="operation.processInstanceId">\n        <a href="#/process-instance/{{ operation.processInstanceId }}/history"\n           title="{{ operation.processInstanceId }}">\n          {{ operation.processInstanceId }}\n        </a>\n      </td>\n      <td ng-if="processDefinition && !operation.processInstanceId"\n          class="process-instance"></td>\n      <td class="user">{{ operation.user }}</td>\n      <td class="change-time" >{{ operation.timestamp | camDate }}</td>\n      <td class="property" >\n        <table ng-if="operation.properties.length > 0">\n          <tr ng-repeat="property in operation.properties">\n            <td>{{ property || \'&nbsp;\' }}</td>\n          </tr>\n        </table>\n      </td>\n      <td class="new-value" >\n        <table ng-if="operation.newValues.length > 0">\n          <tr ng-repeat="newValue in operation.newValues">\n            <td>{{ newValue || \'&nbsp;\' }}</td>\n          </tr>\n        </table>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n</div>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/user-operations-table.html -->\n',e=["camAPI","$translate","localConf",function(a,b,e){var f=function(d){function f(a){e.set("sortUserOperationTab",a)}function g(a){return e.get("sortUserOperationTab",a)}function h(a){var b={};return a.sort(function(a,b){return a.operationType<b.operationType?-1:1}).forEach(function(a){var c=a.operationId;b[c]||(b[c]={operationTypes:[],userId:a.userId,timestamp:a.timestamp,processInstanceId:a.processInstanceId,properties:[],newValues:[]}),b[c].operationTypes.indexOf(a.operationType)===-1?b[c].operationTypes.push(a.operationType):b[c].operationTypes.push(null),b[c].properties.push(a.property),b[c].newValues.push(a.newValue)}),Object.keys(b).map(function(a){return c.extend({operationId:a},b[a])})}function i(a){var b=[];return a.forEach(function(a){b.indexOf(a.userId)===-1&&b.push(a.userId)}),b}d.headColumns=[{"class":"operation",request:"operationType",sortable:!1,content:b.instant("PLGN_HIST_OPERATION")},{"class":"process-instance",request:"processInstanceId",sortable:!0,content:b.instant("PLGN_HIST_PROCESS_INSTANCE"),condition:!!d.processDefinition},{"class":"user",request:"user",sortable:!0,content:b.instant("PLGN_HIST_USER")},{"class":"change-time",request:"timestamp",sortable:!0,content:b.instant("PLGN_HIST_CHANGE_TIME")},{"class":"property",request:"",sortable:!1,content:b.instant("PLGN_HIST_PROPERTY")},{"class":"new-value",request:"",sortable:!1,content:b.instant("PLGN_HIST_NEW_VALUE")}],d.sortObj=g({sortBy:"user",sortOrder:"asc",sortReverse:!1}),d.onSortChange=function(a){a=a||d.sortObj,a.sortReverse="asc"!==a.sortOrder,f(a),d.sortObj=a};var j={processInstanceId:d.processInstance&&d.processInstance.id,entityTypeIn:["ProcessInstance","Job","Variable"]},k={processDefinitionId:d.processDefinition&&d.processDefinition.id,processInstanceId:null},l={sortBy:"timestamp",sortOrder:"desc"},m=c.extend({},l,d.processInstance?j:k);d.loadingState="LOADING";var n=[];a.resource("history").userOperation(m).then(function(b){return b.length>0?(n=h(b),a.resource("user").list({idIn:i(n)})):void(d.loadingState="EMPTY")}).then(function(a){var b;a&&a.length>0&&(d.userOperations=n.map(function(c){return b=a.filter(function(a){return a.id===c.userId})[0],c.user=b.firstName+" "+b.lastName,c}),d.loadingState="LOADED")})};return{restrict:"E",scope:{processDefinition:"=",processInstance:"="},template:d,link:f}}];b.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],166:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./views/main"),f=a("./resources/main"),g=a("./actions/main"),h=a("./components/main");b.exports=d.module("cockpit.plugin.history",[e.name,f.name,g.name,h.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./actions/main":161,"./components/main":164,"./resources/main":171,"./views/main":173}],167:[function(a,b,c){"use strict";b.exports=["$resource","Uri",function(a,b){return a(b.appUri("engine://engine/:engine/history/detail/:action"),{},{count:{method:"GET",params:{action:"count"}}})}]},{}],168:[function(a,b,c){"use strict";b.exports=["$resource","Uri",function(a,b){return a(b.appUri("engine://engine/:engine/history/job-log/:action"),{},{query:{method:"POST",isArray:!0},count:{method:"GET",params:{action:"count"}}})}]},{}],169:[function(a,b,c){"use strict";b.exports=["$resource","Uri",function(a,b){return a(b.appUri("plugin://history/:engine/process-instance/:id/:action"),{id:"@id"},{query:{method:"POST",isArray:!0},count:{method:"POST",isArray:!1,params:{id:"count"}},processInstances:{method:"POST",isArray:!0,params:{action:"called-process-instances"}},getCalledProcessInstances:{method:"POST",isArray:!0,params:{action:"called-process-instances"}}})}]},{}],170:[function(a,b,c){"use strict";b.exports=["$resource","Uri",function(a,b){return a(b.appUri("engine://engine/:engine/history/task/:id/:action"),{id:"@id"},{query:{method:"POST",isArray:!0},count:{method:"POST",params:{id:"count"}}})}]},{}],171:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./historicProcessInstance"),f=a("./historicDetail"),g=a("./historicTaskInstance"),h=a("./userOperationLog"),i=a("./historicJobLog"),j=d.module("cockpit.plugin.history.resources",[]);j.factory("PluginHistoricProcessInstanceResource",e),j.factory("HistoricDetailResource",f),j.factory("HistoricTaskInstanceResource",g),j.factory("UserOperationLogResource",h),j.factory("HistoricJobLogResource",i),b.exports=j}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./historicDetail":167,"./historicJobLog":168,"./historicProcessInstance":169,"./historicTaskInstance":170,"./userOperationLog":172}],172:[function(a,b,c){"use strict";b.exports=["$resource","Uri",function(a,b){return a(b.appUri("engine://engine/:engine/history/user-operation/:action"),{id:"@id"},{count:{method:"GET",params:{action:"count"}}})}]},{}],173:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e="undefined"!=typeof window?window["cam-common"]:"undefined"!=typeof c?c["cam-common"]:null,f=a("./processDefinition/diagramPlugins"),g=a("./processInstance/diagramPlugins"),h=a("./processDefinition/processInstanceTable"),i=a("./processDefinition/historicJobLogTable"),j=a("./processDefinition/deleteHistoricProcessInstancesAction"),k=a("./processDefinition/incidentsTable"),l=a("./processDefinition/userOperationsTab.js"),m=a("./processInstance/variableInstancesTab"),n=a("./processInstance/variableInstanceLogDialog"),o=a("./processInstance/activityInstanceAuditLog"),p=a("./processInstance/calledProcessInstanceTable"),q=a("./processInstance/userTasksTable"),r=a("./processInstance/userTaskLogDialog"),s=a("./processInstance/userOperationsTab"),t=a("./processInstance/incidentsTab"),u=a("./processInstance/historicJobLogTable"),v=a("./processInstance/jobRetryDialog"),w=a("./processInstance/decisionInstancesTab"),x=d.module("cockpit.plugin.history.views",[e.name,f.name,g.name]);x.config(h),x.config(i),x.config(j),x.config(k),x.config(l),x.config(m),x.controller("VariableInstanceLogController",n),x.config(o),x.config(p),x.config(q),x.controller("TaskInstanceLogController",r),x.config(s),x.config(t),x.config(u),x.controller("HistoryJobRetryController",v),x.config(w),b.exports=x}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./processDefinition/deleteHistoricProcessInstancesAction":174,"./processDefinition/diagramPlugins":175,"./processDefinition/historicJobLogTable":177,"./processDefinition/incidentsTable":178,"./processDefinition/processInstanceTable":179,"./processDefinition/userOperationsTab.js":180,"./processInstance/activityInstanceAuditLog":181,"./processInstance/calledProcessInstanceTable":182,"./processInstance/decisionInstancesTab":183,"./processInstance/diagramPlugins":185,"./processInstance/historicJobLogTable":187,"./processInstance/incidentsTab":188,"./processInstance/jobRetryDialog":189,"./processInstance/userOperationsTab":190,"./processInstance/userTaskLogDialog":191,"./processInstance/userTasksTable":192,"./processInstance/variableInstanceLogDialog":193,"./processInstance/variableInstancesTab":194}],174:[function(a,b,c){"use strict";var d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/history/app/views/processDefinition/delete-historic-process-instances-action.html -->\n<a class="btn btn-default btn-toolbar"\n   ng-click="openBatch()"\n   href=""\n   tooltip="{{ \'PLGN_HIST_DELETE_FINISHED_PROCESS_INSTANCES\' | translate }}"\n   tooltip-placement="left">\n  <span class="glyphicon glyphicon-remove"></span>\n</a>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/history/app/views/processDefinition/delete-historic-process-instances-action.html -->\n';b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processDefinition.history.action",{id:"delete-process-instances",label:"PLGN_HIST_DELETE_HISTORIC_PROCESS_INSTANCES_ACTION",template:d,controller:["$scope","$modal","$location",function(a,b,c){var d=function(a){var b=c.search().searchQuery,d=JSON.parse(b),e=[];d.forEach(function(a){switch(a.type){case"businessKey":a.type="PIprocessInstanceBusinessKey",e.push(a);break;case"startedDate":a.type="PIstartedDate",e.push(a);break;case"variables":a.type="PIvariables",e.push(a)}});var f={type:"PIprocessDefinitionId",operator:"eq",value:a.id,name:""};return e.push(f),JSON.stringify(e)};a.openBatch=function(){c.path("/batch/operation").search({batchSearchQuery:d(a.processDefinition),operation:"DELETE_HISTORY"})}}],priority:20})}]},{}],175:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e="undefined"!=typeof window?window["cam-common"]:"undefined"!=typeof c?c["cam-common"]:null,f=a("./stats"),g=d.module("cockpit.plugin.history.views.definitionDiagramPlugins",[e.name]);g.config(f),b.exports=g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./stats":176}],176:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null,d='<div class="activity-bottom-left-position ">\n  <span class="badge activity-instance-completed"></span>\n  <span class="badge activity-instance-canceled"></span>\n  <span class="badge activity-instance-running"></span>\n</div>\n';b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processDefinition.history.diagram.plugin",{id:"historic-activity-statistics-overlay",overlay:["$scope","control","processData","processDiagram","Loaders","get","$filter","$translate",function(a,b,e,f,g,h,i,j){function k(a){return a.reduce(function(a,b){return a[b.id]=b,a},{})}function l(b){function c(){d.off("click",i),e.off("click",i)}var d=s.clone(),e=s.clone(),f=e.find(".activity-instance-running"),g=d.find(".activity-instance-completed"),h=d.find(".activity-instance-canceled"),i=n.bind(null,b);f.on("click",i),g.on("click",i),h.on("click",i);var j=a.$on("$destroy",function(){c()});return{finished:d,running:e,runningBadge:f,completedBadge:g,canceledBadge:h,removeClickListeners:c,deregisterDestroyListener:j}}function m(a,b){a.instances?(b.running.show(),b.runningBadge.tooltip({container:"body",title:j.instant("PLGN_HIST_RUNNING_ACTIVITY_INSTANCES"),placement:"top",animation:!1}),b.runningBadge.text(i("abbreviateNumber")(a.instances))):b.running.hide(),a.finished?b.finished.show():b.finished.hide(),a.completed&&(b.completedBadge.tooltip({container:"body",title:j.instant("PLGN_HIST_COMPLETED_ACTIVITY_INSTANCES"),placement:"top",animation:!1}),b.completedBadge.text(i("abbreviateNumber")(a.completed))),a.canceled&&(b.canceledBadge.text(i("abbreviateNumber")(a.canceled)),b.canceledBadge.tooltip({container:"body",title:j.instant("PLGN_HIST_CANCELED_ACTIVITY_INSTANCES"),placement:"top",animation:!1}))}function n(b,d){var f=c.copy(u),g=d.ctrlKey,h=b.id,i=c.copy(f.activityIds)||[],j=i.indexOf(h),k=j!==-1;h?g?k?i.splice(j,1):i.push(h):i=[h]:i=null,f.activityIds=i,a.$apply(function(){e.set("filter",f)})}var o=b.getViewer(),p=o.get("overlays"),q=o.get("elementRegistry"),r=g.startLoading(),s=c.element(d),t={};e.observe("historicActivityStatistics",function(a){r();var b=k(a);Object.keys(t).forEach(function(a){if(!b[a]){var c=t[a];c.removeClickListeners(),c.deregisterDestroyListener();for(var d=0;d<c.overlays.length;d++)p.remove(c.overlays[d]);delete t[a]}});for(var c,d=0;c=a[d];d++){var e=q.get(c.id),g=e&&f.bpmnElements[c.id];if(g){c.completed=(c.finished||0)-(c.canceled||0),g.isSelectable=!0;var h=t[g.id];h||(h=l(g),h.overlays=[],h.overlays.push(p.add(g.id,{position:{bottom:0,left:0},show:{minZoom:-(1/0),maxZoom:+(1/0)},html:h.running})),h.overlays.push(p.add(g.id,{position:{bottom:0,right:0},show:{minZoom:-(1/0),maxZoom:+(1/0)},html:h.finished})),t[g.id]=h),m(c,h)}}});var u=e.observe("filter",function(a){u=a})}]})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],177:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("camunda-bpm-webapp/ui/common/scripts/util/search-widget-utils"),f='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processDefinition/historic-job-log-table.html -->\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-empty="{{ \'PLGN_HIST_NO_JOB_LOGS\' | translate }}">\n  <table class="history-job-log cam-table cam-fixed-layout">\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="sortObj">\n    </thead>\n    <tbody>\n      <tr ng-repeat="log in logs">\n        <td class="state">\n          {{ getState(log) }}\n        </td>\n\n        <td class="message">\n          <span ng-show="log.failureLog">\n            <a href="{{ getHistoricJobLogStacktraceUrl(log) }}"\n               target="_blank"\n               ng-show="log.jobExceptionMessage"\n               tooltip="{{ \'PLGN_HIST_OPEN_STACKTRACE\' | translate }}"\n               tooltip-placement="top">\n              {{ log.jobExceptionMessage }}\n            </a>\n            <a href="{{ getHistoricJobLogStacktraceUrl(log) }}"\n               target="_blank"\n               ng-hide="log.jobExceptionMessage"\n               tooltip="{{ \'PLGN_HIST_OPEN_STACKTRACE\' | translate }}"\n               tooltip-placement="top">\n              <i>{{ \'PLGN_HIST_MESSAGE_NULL\' | translate }}</i>\n            </a>\n          </span>\n        </td>\n\n        <td class="timestamp"\n            cam-widget-clipboard="log.timestamp">\n          {{ log.timestamp | camDate }}\n        </td>\n\n        <td class="due"\n            ng-if="log.jobDueDate"\n            cam-widget-clipboard="log.jobDueDate">\n          {{ log.jobDueDate| camDate }}\n        </td>\n\n        <td class="due"\n            ng-if="!log.jobDueDate">\n        </td>\n\n        <td class="activity"\n            cam-widget-clipboard="log.activityId">\n          <a ng-href="#/process-definition/{{ processDefinition.id }}/history?{{getSearchQueryForSearchType(log.activityId)}}&amp;detailsTab=historic-process-definition-job-log">\n            {{ log.activityName }}\n          </a>\n        </td>\n\n        <td class="process-instance"\n            cam-widget-clipboard="log.processInstanceId">\n          <a href="#/process-instance/{{ log.processInstanceId }}/history"\n             title="{{ log.processInstanceId }}">\n            {{ log.processInstanceId }}\n          </a>\n        </td>\n\n        <td class="job"\n            cam-widget-clipboard="log.jobId">\n          {{ log.jobId }}\n        </td>\n\n        <td class="type"\n            cam-widget-clipboard="log.jobDefinitionType">\n          {{ log.jobDefinitionType }}\n        </td>\n\n        <td class="configuration">\n          {{ log.jobDefinitionConfiguration }}\n        </td>\n\n        <td class="retries">\n          {{ log.jobRetries }}\n        </td>\n\n        <td class="priority">\n          {{ log.jobPriority }}\n        </td>\n\n      </tr>\n    </tbody>\n  </table>\n\n\n  <pagination ng-if="pages.total > pages.size"\n              class="pagination-sm"\n\n              page="pages.current"\n              ng-model="pages.current"\n\n              total-items="pages.total"\n              items-per-page="pages.size"\n\n              max-size="7"\n              boundary-links="true"></pagination>\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processDefinition/historic-job-log-table.html -->\n';b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processDefinition.history.tab",{id:"historic-process-definition-job-log",label:"PLGN_HIST_JOB_LOG",template:f,controller:["$scope","search","Uri","HistoricJobLogResource","$translate","localConf",function(a,b,c,f,g,h){function i(a){h.set("sortJobLogTab",a)}function j(a){return h.get("sortJobLogTab",a)}function k(b,c,e){a.filter=b||a.filter,a.bpmnElements=c||a.bpmnElements,a.sortObj=e||a.sortObj;var g={sorting:[{sortBy:a.sortObj.sortBy,sortOrder:a.sortObj.sortOrder}]},h=o.current,i=o.size,j=(h-1)*i,k={processDefinitionId:m.id,activityIdIn:a.filter.activityIds},l=d.extend({},k),n=d.extend({},g,k),p={firstResult:j,maxResults:i};a.logs=null,a.loadingState="LOADING",f.query(p,n).$promise.then(function(b){a.logs=b,a.loadingState=b.length?"LOADED":"EMPTY",d.forEach(b,function(b){var c=b.activityId,d=a.bpmnElements[c];b.activityName=d&&(d.name||d.id)||c})}),f.count(l).$promise.then(function(a){o.total=a.count})}a.headColumns=[{"class":"state",request:"suspended",sortable:!1,content:g.instant("PLGN_HIST_STATE")},{"class":"message",request:"failureLog",sortable:!1,content:g.instant("PLGN_HIST_MESSAGE")},{"class":"timestamp",request:"timestamp",sortable:!0,content:g.instant("PLGN_HIST_TIMESTAMPE")},{"class":"due",request:"jobDueDate",sortable:!0,content:g.instant("PLGN_HIST_DUE_DATE")},{"class":"activity",request:"activityName",sortable:!1,content:g.instant("PLGN_HIST_ACTIVITY")},{"class":"process-instance uuid",request:"activityName",sortable:!1,content:g.instant("PLGN_HIST_PROCESS_INSTANCE_ID")},{"class":"job uuid",request:"jobId",sortable:!0,content:g.instant("PLGN_HIST_JOB_ID")},{"class":"type",request:"jobDefinitionType",sortable:!1,content:g.instant("PLGN_HIST_TYPE")},{"class":"configuration",request:"jobDefinitionConfiguration",sortable:!1,content:g.instant("PLGN_HIST_CONFIGURATION")},{"class":"retries",request:"jobRetries",sortable:!0,content:g.instant("PLGN_HIST_RETRIES")},{"class":"priority",request:"jobPriority",sortable:!0,content:g.instant("PLGN_HIST_PRIORITY")}],a.sortObj=j({sortBy:"timestamp",sortOrder:"asc"}),a.onSortChange=function(b){a.sortObj=b||a.sortObj,i(a.sortObj),k({sortObj:a.sortObj})};var l=a.processData.newChild(a),m=a.processDefinition,n={size:50,total:0,current:1},o=a.pages=d.copy(n);a.loadingState="INITIAL",a.$watch("pages.current",function(a,c){a!=c&&b("page",a&&1!=a?a:null)}),l.observe(["filter","bpmnElements"],function(a,b){o.current=a.page||1,k(a,b)}),a.getState=function(a){return a.creationLog?"Created":a.failureLog?"Failed":a.deletionLog?"Deleted":a.successLog?"Successful":void 0},a.getHistoricJobLogStacktraceUrl=function(a){return c.appUri("engine://engine/:engine/history/job-log/"+a.id+"/stacktrace")},a.getSearchQueryForSearchType=e.getSearchQueryForSearchType.bind(null,"activityIdIn")}],priority:5})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"camunda-bpm-webapp/ui/common/scripts/util/search-widget-utils":7}],178:[function(a,b,c){"use strict";var d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/history/app/views/processDefinition/incidents-table.html -->\n<incidents-tab\n  process-data="processData"\n  process-definition="processDefinition"\n  incidents-context="history"/>\n',e=function(a){a.registerDefaultView("cockpit.processDefinition.history.tab",{id:"incidents-table",label:"PLGN_HIST_INCIDENTS",template:d,priority:9,controller:function(){}})};e.$inject=["ViewsProvider"],b.exports=e},{}],179:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null,d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processDefinition/process-instance-table.html -->\n<div cam-searchable-area\n     config="searchConfig"\n     array-types="[\'activityIdIn\']"\n     variable-types="[\'variables\']"\n     on-search-change="onSearchChange(query, pages)"\n     loading-state="loadingState"\n     text-empty="{{ \'PLGN_HIST_SEARCH_NO_PROCESS_INSTANCES\' | translate }}"\n     storage-group="\'PDI\'">\n\n  <table class="history-process-instance cam-table">\n\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(query, pages, sortObj)"\n           default-sort="sortObj">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat="processInstance in processInstances">\n        <td class="state">{{ getState(processInstance) }}</td>\n\n        <td class="process-instance"\n            cam-widget-clipboard="processInstance.id">\n          <a ng-href="{{ getProcessInstanceUrl(processInstance) }}"\n             title="{{ processInstance.id }}">\n            {{ processInstance.id }}\n          </a>\n        </td>\n\n        <td class="start-time"\n            cam-widget-clipboard="processInstance.startTime">{{ processInstance.startTime | camDate }}</td>\n\n        <td ng-if="processInstance.endTime"\n            class="end-time"\n            cam-widget-clipboard="processInstance.endTime">{{ processInstance.endTime | camDate }}</td>\n        <td ng-if="!processInstance.endTime"\n            class="end-time">{{ processInstance.endTime | camDate }}</td>\n\n        <td ng-if="processInstance.businessKey"\n            class="business-key"\n            cam-widget-clipboard="processInstance.businessKey">{{ processInstance.businessKey }}</td>\n        <td ng-if="!processInstance.businessKey"\n            class="business-key">{{ processInstance.businessKey }}</td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processDefinition/process-instance-table.html -->\n',e=JSON.parse('{\n  "types": [\n    {\n      "id": {\n        "key": "businessKey",\n        "value": "PLGN_HIST_SEARCH_BUSINESS_KEY"\n      },\n      "default": true,\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "activityIdIn",\n        "value": "PLGN_HIST_SEARCH_ACTIVITY_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "finished",\n        "value": "PLGN_HIST_SEARCH_COMPLETED"\n      },\n      "basic": true,\n      "groups": ["Completed"]\n    },\n    {\n      "id": {\n        "key": "unfinished",\n        "value": "PLGN_HIST_SEARCH_RUNNING"\n      },\n      "basic": true,\n      "groups": ["Running"]\n    },\n    {\n      "id": {\n        "key": "startedDate",\n        "value": "PLGN_HIST_SEARCH_START_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_HIST_SEARCH_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_HIST_SEARCH_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "finishedDate",\n        "value": "PLGN_HIST_SEARCH_FINISHED_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_HIST_SEARCH_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_HIST_SEARCH_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "variables",\n        "value": "PLGN_HIST_SEARCH_VARIABLE"\n      },\n      "extended": true,\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        },\n        {\n          "key": "like",\n          "value": "PLGN_HIST_SEARCH_LIKE"\n        }\n      ]\n    }\n  ],\n  "operators": {\n    "undefined":  [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "PLGN_HIST_SEARCH_LIKE"\n      }\n    ],\n    "string":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "PLGN_HIST_SEARCH_LIKE"\n      }\n    ],\n    "number":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      }\n    ],\n    "boolean":    [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      }\n    ],\n    "object":     [{\n      "key": "eq",\n      "value": "="\n    },\n      {\n        "key": "neq",\n        "value": "!="\n      }],\n    "date":     [{\n      "key": "lteq",\n      "value": "PLGN_HIST_SEARCH_BEFORE"\n    },\n      {\n        "key": "gteq",\n        "value": "PLGN_HIST_SEARCH_AFTER"\n      }]\n  },\n  "tooltips": {\n    "inputPlaceholder": "PLGN_HIST_SEARCH_ADD_CRITERIA",\n    "invalid": "PLGN_HIST_SEARCH_INVALID",\n    "deleteSearch": "PLGN_HIST_SEARCH_REMOVE",\n    "type": "PLGN_HIST_SEARCH_TYPE",\n    "name": "PLGN_HIST_SEARCH_PROPERTY",\n    "operator": "PLGN_HIST_SEARCH_OPERATOR",\n    "value": "PLGN_HIST_SEARCH_VALUE"\n  }\n}\n');b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processDefinition.history.tab",{id:"process-instances-table",label:"PLGN_HIST_PROCESS_INSTANCES",template:d,controller:["$scope","$location","search","routeUtil","PluginHistoricProcessInstanceResource","localConf","$translate",function(a,b,d,f,g,h,i){function j(b,d,e){a.queryObj=b||a.queryObj,a.pagesObj=d||a.pagesObj,e=e||a.sortObj,k(e);var f=a.pagesObj.current,h=a.queryObj,i=a.pagesObj.size,j=(f-1)*i,l={processDefinitionId:o.id,parentProcessDefinitionId:m},n={firstResult:j,maxResults:i,sortBy:e.sortBy,sortOrder:e.sortOrder},p=c.extend({},l,h),q=c.extend({},p,n);return a.processInstances=null,a.loadingState="LOADING",g.count(p).$promise.then(function(b){var c=b.count;return g.query(n,q).$promise.then(function(b){return a.processInstances=b,a.loadingState=b.length?"LOADED":"EMPTY",c})})}function k(a){h.set("sortHistProcInst",a)}function l(a){return h.get("sortHistProcInst",a)}var m,n=a.processData.newChild(a),o=a.processDefinition;n.provide("parentProcessDefinitionId",["filter",function(a){return a.parentProcessDefinitionId}]),a.searchConfig=c.copy(e),c.forEach(a.searchConfig.tooltips,function(b,c){a.searchConfig.tooltips[c]=i.instant(b)}),a.searchConfig.types.map(function(a){return a.id.value=i.instant(a.id.value),a.operators&&(a.operators=a.operators.map(function(a){return a.value=i.instant(a.value),a})),a}),a.loadingState="INITIAL",a.onSearchChange=j,a.onSortChange=j,a.headColumns=[{"class":"state",request:"state",sortable:!1,content:i.instant("PLGN_HIST_STATE")},{"class":"process-instance uuid",request:"instanceId",sortable:!1,content:i.instant("PLGN_HIST_ID")},{"class":"start-time",request:"startTime",sortable:!0,content:i.instant("PLGN_HIST_START_TIME")},{"class":"end-time",request:"endTime",sortable:!1,content:i.instant("PLGN_HIST_END_TIME")},{"class":"business-key",request:"businessKey",sortable:!1,content:i.instant("PLGN_HIST_BUSINESS_KEY")}];var p={sortBy:"startTime",sortOrder:"desc"};a.sortObj=l(p),n.observe("parentProcessDefinitionId",function(a){m=a}),a.getState=function(a){return a.endTime?"completed":a.incidents.length?"has incidents":"running"},a.getProcessInstanceUrl=function(a){var d="#/process-instance/"+a.id+"/history",e=c.extend({},b.search()||{});return f.redirectTo(d,e,["viewbox"])}}],priority:10})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],180:[function(a,b,c){"use strict";var d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/processDefinition/user-operations-tab.html -->\n<user-operations-table process-definition="processDefinition" />\n<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/processDefinition/user-operations-tab.html -->\n\n';
b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processDefinition.history.tab",{id:"user-operations-table",label:"PLGN_HIST_USER_OPERATIONS",template:d,priority:3})}]},{}],181:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null,d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/activity-instance-audit-log.html -->\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-empty="{{ \'PLGN_HIST_NO_ACTIVITY_INSTANCES\' | translate }}"\n     text-error="{{ \'PLGN_HIST_FAILED_TO_LOAD\' | translate }}">\n  <table class="history-audit-log cam-table cam-fixed-layout">\n\n    <thead sortable-table-head\n       head-columns="headColumns"\n       on-sort-change="onSortChange(sortObj)"\n       default-sort="sortObj">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat="activityInstance in activityInstances">\n        <td class="state">\n          <!-- running -->\n          <span ng-if="!activityInstance.endTime"\n                class="glyphicon glyphicon-adjust"\n                tooltip="{{ \'PLGN_HIST_RUNNING_ACTIVITY_INSTANCE\' | translate }}"\n                tooltip-placement="right"></span>\n\n          <!-- completed -->\n          <span ng-if="activityInstance.endTime && !activityInstance.canceled"\n                class="glyphicon glyphicon-ok-circle"\n                tooltip="{{ \'PLGN_HIST_COMPLETED_ACTIVITY_INSTANCE\' | translate }}"\n                tooltip-placement="right"></span>\n\n          <!-- canceled -->\n          <span ng-if="activityInstance.endTime && activityInstance.canceled"\n                class="glyphicon glyphicon-ban-circle"\n                tooltip="{{ \'PLGN_HIST_CANCELED_ACTIVITY_INSTANCE\' | translate }}"\n                tooltip-placement="right"></span>\n\n        </td>\n\n        <td class="activity"\n            cam-widget-clipboard="activityInstance.id">\n          <a cam-select-activity-instance="activityInstance.id"\n             ng-href="#/process-instance/{{ processInstance.id }}/history?detailsTab=activity-instance-audit-log&amp;activityInstanceIds={{ activityInstance.id }}"\n             title="{{ activityInstance.id }}">\n          {{ activityInstance.name }}\n          </a>\n        </td>\n\n        <td class="start-time"\n            cam-widget-clipboard="activityInstance.startTime">\n          {{ activityInstance.startTime | camDate }}\n        </td>\n\n        <td class="end-time"\n            ng-if="activityInstance.endTime"\n            cam-widget-clipboard="activityInstance.endTime">\n          {{ activityInstance.endTime | camDate }}\n        </td>\n        <td class="end-time"\n            ng-if="!activityInstance.endTime">\n        </td>\n\n        <td class="activity-instance"\n            cam-widget-clipboard="activityInstance.id">\n          {{ activityInstance.id }}\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n\n  <pagination ng-if="pages.total > pages.size"\n              class="pagination-sm"\n\n              page="pages.current"\n              ng-model="pages.current"\n\n              total-items="pages.total"\n              items-per-page="pages.size"\n\n              max-size="7"\n              boundary-links="true"></pagination>\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/activity-instance-audit-log.html -->\n',e=["$scope","search","$http","Uri","$location","$translate","localConf",function(a,b,d,e,f,g,h){function i(a){h.set("sortAudiLogTab",a)}function j(a){return h.get("sortAudiLogTab",a)}function k(b){a.sortObj=b||a.sortObj;var g={processInstanceId:a.processInstance.id,sorting:[{sortBy:a.sortObj.sortBy,sortOrder:a.sortObj.sortOrder}]},h=((f.search()||{}).activityIds&&(f.search()||{}).activityIds.split(",")||[]).map(function(a){return{id:a}});if(0===h.length)d.post(e.appUri("engine://engine/:engine/history/activity-instance/count"),g).success(function(a){n.total=a.count}).error(function(){a.loadingState="ERROR"}),d.post(e.appUri("engine://engine/:engine/history/activity-instance"),g,{params:{firstResult:(n.current-1)*n.size,maxResults:n.size}}).success(function(b){a.activityInstances=(b||[]).map(function(a){return a.name=a.activityName||a.activityType+" ("+a.activityId+")",a}),a.loadingState=a.activityInstances.length?"LOADED":"EMPTY"}).error(function(){a.loadingState="ERROR"});else for(var i=0,j=0;j<h.length;j++)!function(b){var f=c.extend({activityId:h[b].id},g);d.post(e.appUri("engine://engine/:engine/history/activity-instance/count"),f).success(function(a){i+=a.count,h[b].count=a.count,l()}).error(function(){a.loadingState="ERROR"})}(j);a.loadingState="LOADING";var k=h.length,l=function(){if(0===--k){n.total=i;for(var b=(n.current-1)*n.size,f=0;h[f].count<b&&f<h.length;)b-=h[f].count,f++;for(var j=n.size,l=0;j>0&&f<h.length;){var o=c.extend({activityId:h[f].id},g),q={firstResult:b,maxResults:j};!function(b){m++,d.post(e.appUri("engine://engine/:engine/history/activity-instance"),o,{params:q}).success(function(a){p(a,b)}).error(function(){a.loadingState="ERROR"})}(l),j-=h[f].count-b,b=0,f++,l++}}},m=0,o=[],p=function(b,c){o[c]=b,0===--m&&(a.activityInstances=[].concat.apply([],o).map(function(a){return a.name=a.activityName||a.activityType+" ("+a.activityId+")",a}),a.loadingState=a.activityInstances.length?"LOADED":"EMPTY")}}var l=a.processData.newChild(a),m={size:50,total:0,current:1},n=a.pages=c.copy(m);a.loadingState="INITIAL",a.headColumns=[{"class":"state",request:"",sortable:!1,content:g.instant("PLGN_HIST_STATE")},{"class":"activity",request:"activityName",sortable:!0,content:g.instant("PLGN_HIST_ACTIVITY")},{"class":"start-time",request:"startTime",sortable:!0,content:g.instant("PLGN_HIST_START_TIME")},{"class":"end-time",request:"endTime",sortable:!0,content:g.instant("PLGN_HIST_END_TIME")},{"class":"activity-instance",request:"activityId",sortable:!0,content:g.instant("PLGN_HIST_ACTIVITY_INSTANCE_ID")}],a.sortObj=j({sortBy:"startTime",sortOrder:"asc"}),a.onSortChange=function(b){a.sortObj=b||a.sortObj,i(a.sortObj),k(a.sortObj)},a.$watch("pages.current",function(a,c){a!=c&&b("page",a&&1!=a?a:null)}),l.observe(["activityInstances","filter"],function(a,b){n.current=b.page||1,k()})}];b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processInstance.history.tab",{id:"activity-instance-audit-log",label:"PLGN_HIST_AUDIT_LOG",template:d,controller:e,priority:40})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],182:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null,d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/called-process-instance-table.html -->\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-empty="{{ \'PLGN_HIST_NO_CALLED_PROCESS_INSTANCES\' | translate }}">\n  <table class="called-process-instance cam-table">\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sorting)"\n           default-sort="sorting">\n    </thead>\n    <tbody>\n      <tr ng-repeat="calledProcessInstance in calledProcessInstances">\n        <td class="state">{{ getState(calledProcessInstance) }}</td>\n        <td class="called process-instance uuid"\n            cam-widget-clipboard="calledProcessInstance.id">\n          <a href="#/process-instance/{{ calledProcessInstance.id }}/history">\n            {{ calledProcessInstance.id }}\n          </a>\n        </td>\n\n        <td class="process-definition"\n            cam-widget-clipboard="calledProcessInstance.processDefinitionId">\n          <a href="#/process-definition/{{ calledProcessInstance.processDefinitionId }}/history?parentProcessDefinitionId={{ processInstance.processDefinitionId }}">\n            {{ calledProcessInstance.processDefinitionName }}\n          </a>\n        </td>\n\n        <td class="activity"\n            cam-widget-clipboard="calledProcessInstance.instance.id">\n          <a cam-select-activity-instance="calledProcessInstance.instance.id"\n             ng-href="#/process-instance/{{ processInstance.id }}/history?activityInstanceIds={{ calledProcessInstance.instance.id }}&detailsTab=called-process-instances-tab">\n            {{ calledProcessInstance.instance.name }}\n          </a>\n        </td>\n\n        <td class="start-time"\n            cam-widget-clipboard="calledProcessInstance.startTime">{{ calledProcessInstance.startTime | camDate }}</td>\n\n        <td ng-if="calledProcessInstance.endTime"\n            class="end-time"\n            cam-widget-clipboard="calledProcessInstance.endTime">{{ calledProcessInstance.endTime | camDate }}</td>\n\n        <td ng-if="!calledProcessInstance.endTime"\n            class="end-time"></td>\n\n      </tr>\n    </tbody>\n  </table>\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/called-process-instance-table.html -->\n';b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processInstance.history.tab",{id:"called-process-instances-tab",label:"PLGN_HIST_CALLED_PROCESS_INSTANCES",template:d,controller:["$scope","PluginHistoricProcessInstanceResource","$translate","localConf",function(a,b,d,e){function f(a){e.set("sortprocessInstHistTabCalledProcessInstTab",a)}function g(a){return e.get("sortprocessInstHistTabCalledProcessInstTab",a)}function h(d,e,f){a.newFilter=d||a.newFilter,a.sorting=f||a.sorting,a.instanceIdToInstanceMap=e||a.instanceIdToInstanceMap,k=c.copy(d),delete k.page,delete k.activityIds,delete k.scrollToBpmnElement,k.activityInstanceIdIn=k.activityInstanceIds,delete k.activityInstanceIds,k.sortBy=a.sorting.sortBy,k.sortOrder=a.sorting.sortOrder,a.calledProcessInstances=null,a.loadingState="LOADING",b.getCalledProcessInstances({id:j.id},k).$promise.then(function(b){c.forEach(b,function(b){var c=a.instanceIdToInstanceMap[b.callActivityInstanceId];b.instance=c}),a.calledProcessInstances=b,a.loadingState=b.length?"LOADED":"EMPTY"})}var i=a.processData.newChild(a),j=a.processInstance,k=null;a.headColumns=[{"class":"state",request:"",sortable:!1,content:d.instant("PLGN_HIST_STATE")},{"class":"called process-instance uuid",equest:"",sortable:!1,content:d.instant("PLGN_HIST_CALLED_PROCESS_INSTANCE")},{"class":"process-definition",request:"",sortable:!1,content:d.instant("PLGN_HIST_PROCESS_DEFINITION")},{"class":"activity",request:"",sortable:!1,content:d.instant("PLGN_HIST_ACTIVITY")},{"class":"start-time",request:"startTime",sortable:!0,content:d.instant("PLGN_HIST_START_TIME")},{"class":"end-time",request:"",sortable:!1,content:d.instant("PLGN_HIST_END_TIME")}],a.sorting=g({sortBy:"startTime",sortOrder:"desc"}),a.onSortChange=function(a){f(a),h(a)},i.observe(["filter","instanceIdToInstanceMap"],function(a,b){h(a,b)}),a.getState=function(a){return a.endTime?"completed":"running"}}],priority:20})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],183:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null,d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/decision-instances-tab.html -->\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-empty="{{ \'PLGN_HIST_NO_DECISION_INSTANCES\' | translate }}">\n  <table class="decision-instances cam-table">\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="sorting">\n    </thead>\n    <tbody>\n      <tr ng-repeat="decisionInstance in decisionInstances">\n        <td class="instance-id uuid"\n            cam-widget-clipboard="decisionInstance.id">\n          <a ng-href="#/decision-instance/{{ decisionInstance.id }}" title="{{ decisionInstance.id }}">\n            {{ decisionInstance.id }}\n          </a>\n        </td>\n\n        <td class="start-time"\n            cam-widget-clipboard="decisionInstance.evaluationTime">\n          {{ decisionInstance.evaluationTime | camDate }}\n        </td>\n\n        <td class="decision-definition-key"\n            cam-widget-clipboard="decisionInstance.decisionDefinitionKey">\n          <a ng-href="{{ getDecisionDefinitionLink(decisionInstance) }}">\n            {{ decisionInstance.decisionDefinitionKey }}\n          </a>\n        </td>\n\n        <td class="drd-definition"\n            ng-if="decisionInstance.decisionRequirementsDefinitionId"\n            cam-widget-clipboard="decisionInstance.decisionRequirementsDefinitionKey">\n          <a ng-href="#/decision-requirement/{{ decisionInstance.decisionRequirementsDefinitionId }}/history">\n            {{ decisionInstance.decisionRequirementsDefinitionKey }}\n          </a>\n        </td>\n\n        <td class="drd-definition"\n            ng-if="!decisionInstance.decisionRequirementsDefinitionId">\n        </td>\n\n        <td class="activity"\n            cam-widget-clipboard="decisionInstance.activityInstanceId">\n          <a cam-select-activity-instance="decisionInstance.activityInstanceId"\n             ng-href="#/process-instance/{{ processInstance.id }}/history?detailsTab=decision-instances-tab&amp;activityInstanceIds={{ decisionInstance.activityInstanceId }}"\n             title="{{ activityInstance.id }}">\n            {{ decisionInstance.activityInstance.name || decisionInstance.activityId }}\n          </a>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <pagination ng-if="pages.total > pages.size"\n              class="pagination-sm"\n\n              page="pages.current"\n              ng-model="pages.current"\n\n              total-items="pages.total"\n              items-per-page="pages.size"\n\n              max-size="7"\n              boundary-links="true"></pagination>\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/decision-instances-tab.html -->\n\n';b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processInstance.history.tab",{id:"decision-instances-tab",label:"PLGN_HIST_EXECUTED_DECISION_INSTANCES",template:d,controller:["$scope","$location","$translate","search","routeUtil","camAPI","localConf",function(a,b,d,e,f,g,h){function i(a){return h.get("sortHPIExecutedDIsTab",a)}function j(a){h.set("sortHPIExecutedDIsTab",a)}function k(b,c,d){q=b;var e=p.current,f=p.size,g=(e-1)*f;a.decisionInstances=null;var h={processInstanceId:a.processInstance.id,firstResult:g,maxResults:f,sortBy:d.sortBy,sortOrder:d.sortOrder},i={processInstanceId:a.processInstance.id};q.activityIds&&q.activityIds.length>0&&(h.activityIdIn=q.activityIds,i.activityIdIn=q.activityIds),a.loadingState="LOADING",n.decisionInstance(h,function(b,d){a.decisionInstances=d;for(var e,f=0;e=d[f];f++)e.activityInstance=c[e.activityInstanceId];a.loadingState=d.length?"LOADED":"EMPTY"}),n.decisionInstanceCount(i,function(a,b){p.total=b.count})}var l=a.processData.newChild(a),m=a.sorting=i({sortBy:"evaluationTime",sortOrder:"desc"});a.headColumns=[{"class":"instance-id uuid",request:"",sortable:!1,content:d.instant("PLGN_HIST_ID")},{"class":"start-time",request:"evaluationTime",sortable:!0,content:d.instant("PLGN_HIST_EVALUATION_TIME")},{"class":"decision-definition-key",request:"",sortable:!1,content:d.instant("PLGN_HIST_DECISION_DEFINITION_KEY")},{"class":"drd-definition",request:"",sortable:!1,content:d.instant("PLGN_HIST_DECISION_REQUIREMENTS_DEFINITION")},{"class":"activity",request:"",sortable:!1,content:d.instant("PLGN_HIST_ACTIVITY")}],a.getDecisionDefinitionLink=function(a){return"#/decision-definition/"+a.decisionDefinitionId+"/history"},a.$on("$routeChanged",function(){p.current=e().page||1});var n=g.resource("history"),o={size:50,total:0,current:e().page||1},p=a.pages=c.copy(o),q=null,r=null;a.$watch("pages.current",function(a,b){a!=b&&e("page",a&&1!=a?a:null)}),a.onSortChange=function(a){m=a,j(m),k(q,r,m)},l.observe(["instanceIdToInstanceMap","filter"],function(a,b){p.current=b.page||1,r=a,k(b,a,m)})}],priority:17})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],184:[function(a,b,c){"use strict";var d=a("camunda-bpm-webapp/ui/cockpit/client/scripts/components/callActivityOverlay")("history");b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processInstance.history.diagram.plugin",{id:"historic-activity-call-activity-overlay",overlay:d})}]},{"camunda-bpm-webapp/ui/cockpit/client/scripts/components/callActivityOverlay":1}],185:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e="undefined"!=typeof window?window["cam-common"]:"undefined"!=typeof c?c["cam-common"]:null,f=a("./stats"),g=a("./callActivity"),h=d.module("cockpit.plugin.history.views.instanceDiagramPlugins",[e.name]);h.config(f),h.config(g),b.exports=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./callActivity":184,"./stats":186}],186:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null,d='<div class="activity-bottom-left-position instances-overlay">\n  <span class="badge instance-count"></span>\n  <span class="badge badge-important instance-incidents"></span>\n</div>\n',e='<span class="activity-bottom-right-position">\n  <span class="badge badge-important closed-incidents">!</span>\n  <span class="badge activity-instance-canceled"></span>\n  <span class="badge activity-instance-completed"></span>\n</span>\n';b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processInstance.history.diagram.plugin",{id:"historic-activity-statistics-overlay",overlay:["$scope","control","processData","processDiagram","Loaders","get","$filter","$translate",function(a,b,f,g,h,i,j,k){function l(a,b,c){var d=a.id,e=b[d]||b[d+"#multiInstanceBody"]||[],f=c[d]||c[d+"#multiInstanceBody"]||[],g=e.filter(function(a){return a.endTime&&a.canceled}),h=e.filter(function(a){return a.endTime&&!a.canceled}),i=e.filter(function(a){return!a.endTime}),j=f.filter(function(a){return a.open}),k=f.filter(function(a){return a.resolved||a.deleted});return{running:i,completed:h,canceled:g,openIncidents:j,endedIncidents:k}}function m(){var a=w.clone(),b=v.clone();return{completed:a,running:b,closedIncidents:a.find(".closed-incidents"),canceledInstances:a.find(".activity-instance-canceled"),completedInstances:a.find(".activity-instance-completed"),runningInstances:b.find(".instance-count"),openIncidents:b.find(".instance-incidents")}}function n(b,c){var d=p.bind(null,c);b.completed.on("click",d),b.running.on("click",d),a.$on("$destroy",function(){b.completed.off("click",d),b.running.off("click",d)})}function o(a,b){b.endedIncidents.length?(a.closedIncidents.show(),a.closedIncidents.tooltip({container:"body",title:k.instant("PLGN_HIST_CLOSED_INCIDENTS"),placement:"top",animation:!1})):a.closedIncidents.hide(),b.canceled.length?(a.canceledInstances.show(),a.canceledInstances.text(j("abbreviateNumber")(b.canceled.length)),a.canceledInstances.tooltip({container:"body",title:k.instant("PLGN_HIST_CANCELED_ACTIVITY_INSTANCES"),placement:"top",animation:!1})):a.canceledInstances.hide();var c=b.completed.filter(function(a){return a.activityId.indexOf("#multiInstanceBody")>-1}),d=b.completed.filter(function(a){return a.activityId.indexOf("#multiInstanceBody")<=-1});d.length||c.length?(a.completedInstances.show(),a.completedInstances.text(j("abbreviateNumber")(d.length)||0),a.completedInstances.tooltip({container:"body",title:k.instant("PLGN_HIST_COMPLETED_ACTIVITY_INSTANCES"),placement:"top",animation:!1})):a.completedInstances.hide(),b.running.length?(a.runningInstances.show(),a.runningInstances.text(j("abbreviateNumber")(b.running.length)),a.runningInstances.tooltip({container:"body",title:k.instant("PLGN_HIST_RUNNING_ACTIVITY_INSTANCES"),placement:"top",animation:!1})):a.runningInstances.hide(),b.openIncidents.length?(a.openIncidents.show(),a.openIncidents.text(j("abbreviateNumber")(b.openIncidents.length)),a.openIncidents.tooltip({container:"body",title:k.instant("PLGN_HIST_OPEN_INCIDENTS"),placement:"top",animation:!1})):a.openIncidents.hide()}function p(a,b){var d=c.copy(x),e=b.ctrlKey,g=a.id,h=c.copy(d.activityIds)||[],i=h.indexOf(g),j=i!==-1;g?e?j?h.splice(i,1):h.push(g):h=[g]:h=null,d.activityIds=h,f.set("filter",d)}var q=b.getViewer(),r=q.get("overlays"),s=q.get("elementRegistry"),t=h.startLoading(),u={},v=c.element(d),w=c.element(e);f.observe(["activityIdToInstancesMap","activityIdToIncidentsMap"],function(a,b){t(),s.forEach(function(c){var d=g.bpmnElements[c.businessObject.id],e=l(d,a,b);if(d.isSelectable=e.running.length||e.completed.length||e.canceled.length||e.openIncidents.length||e.endedIncidents.length,d.isSelectable){var f=u[d.id];f||(f=m(),n(f,d),r.add(d.id,{position:{bottom:0,left:0},show:{minZoom:-(1/0),maxZoom:+(1/0)},html:f.running}),r.add(d.id,{position:{bottom:0,right:0},show:{minZoom:-(1/0),maxZoom:+(1/0)},html:f.completed}),u[d.id]=f),o(f,e)}})});var x=f.observe("filter",function(a){x=a})}]})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],187:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null,d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/historic-job-log-table.html -->\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-empty="{{ \'PLGN_HIST_NO_JOB_LOGS\' | translate }}">\n  <table class="history-job-log cam-table">\n\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="sortObj">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat="log in logs">\n        <td class="state">\n          {{ getState(log) }}\n        </td>\n\n        <td class="message">\n          <span ng-show="log.failureLog">\n          <a href="{{ getHistoricJobLogStacktraceUrl(log) }}"\n             target="_blank"\n             ng-show="log.jobExceptionMessage"\n             tooltip="{{ \'PLGN_HIST_OPEN_STACKTRACE\' | translate }}"\n             tooltip-placement="top">\n            {{ log.jobExceptionMessage }}\n          </a>\n          <a href="{{ getHistoricJobLogStacktraceUrl(log) }}"\n             target="_blank"\n             ng-hide="log.jobExceptionMessage"\n             tooltip="{{ \'PLGN_HIST_OPEN_STACKTRACE\' | translate }}"\n             tooltip-placement="top">\n            <i>Message is null.</i>\n          </a>\n          </span>\n        </td>\n\n        <td class="timestamp">\n          {{ log.timestamp | camDate }}\n        </td>\n\n        <td class="due">\n          {{ log.jobDueDate | camDate }}\n        </td>\n\n        <td class="activity">\n          <a ng-href="#/process-instance/{{ processInstance.id }}/history?activityIds={{ log.activityId }}&amp;detailsTab=historic-process-instance-job-log">\n            {{ log.activityName }}\n          </a>\n        </td>\n\n        <td class="job uuid">\n          {{ log.jobId }}\n        </td>\n\n        <td class="type">\n          {{ log.jobDefinitionType }}\n        </td>\n\n        <td class="configuration">\n          {{ log.jobDefinitionConfiguration }}\n        </td>\n\n        <td class="retries">\n          {{ log.jobRetries }}\n        </td>\n\n        <td class="priority">\n          {{ log.jobPriority }}\n        </td>\n\n      </tr>\n    </tbody>\n  </table>\n\n\n  <pagination ng-if="pages.total > pages.size"\n              class="pagination-sm"\n\n              page="pages.current"\n              ng-model="pages.current"\n\n              total-items="pages.total"\n              items-per-page="pages.size"\n\n              max-size="7"\n              boundary-links="true"></pagination>\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/historic-job-log-table.html -->\n';b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processInstance.history.tab",{id:"historic-process-instance-job-log",label:"PLGN_HIST_JOB_LOG",template:d,controller:["$scope","search","Uri","HistoricJobLogResource","$translate","localConf",function(a,b,d,e,f,g){function h(a){g.set("sortJobLogTab",a)}function i(a){return g.get("sortJobLogTab",a)}function j(b,d,f){a.filter=b||a.filter,a.bpmnElements=d||a.bpmnElements,a.sortObj=f||a.sortObj;var g=n.current,h=n.size,i=(g-1)*h,j={processInstanceId:l.id,activityIdIn:a.filter.activityIds},k={sorting:[{sortBy:a.sortObj.sortBy,sortOrder:a.sortObj.sortOrder}]},m=c.extend({},j),o=c.extend({},k,j),p={firstResult:i,maxResults:h};a.logs=null,a.loadingState="LOADING",e.query(p,o).$promise.then(function(b){a.logs=b,a.loadingState=b.length?"LOADED":"EMPTY",c.forEach(b,function(b){var c=b.activityId,d=a.bpmnElements[c];b.activityName=d&&(d.name||d.id)||c})}),e.count(m).$promise.then(function(a){n.total=a.count})}a.headColumns=[{"class":"state",request:"suspended",sortable:!1,content:f.instant("PLGN_HIST_STATE")},{"class":"message",request:"failureLog",sortable:!1,content:f.instant("PLGN_HIST_MESSAGE")},{"class":"timestamp",request:"timestamp",sortable:!0,content:f.instant("PLGN_HIST_TIMESTAMPE")},{"class":"due",request:"jobDueDate",sortable:!0,content:f.instant("PLGN_HIST_DUE_DATE")},{"class":"activity",request:"activityName",sortable:!1,content:f.instant("PLGN_HIST_ACTIVITY")},{"class":"job uuid",request:"jobId",sortable:!0,content:f.instant("PLGN_HIST_JOB_ID")},{"class":"type",request:"jobDefinitionType",sortable:!1,content:f.instant("PLGN_HIST_TYPE")},{"class":"configuration",request:"jobDefinitionConfiguration",sortable:!1,content:f.instant("PLGN_HIST_CONFIGURATION")},{"class":"retries",request:"jobRetries",sortable:!0,content:f.instant("PLGN_HIST_RETRIES")},{"class":"priority",request:"jobPriority",sortable:!0,content:f.instant("PLGN_HIST_PRIORITY")}],a.sortObj=i({sortBy:"timestamp",sortOrder:"asc"}),a.onSortChange=function(b){a.sortObj=b||a.sortObj,h(a.sortObj),j({sortObj:a.sortObj})};var k=a.processData.newChild(a),l=a.processInstance,m={size:50,total:0,current:1},n=a.pages=c.copy(m);a.loadingState="INITIAL",a.$watch("pages.current",function(a,c){a!=c&&b("page",a&&1!=a?a:null)}),k.observe(["filter","bpmnElements"],function(a,b){n.current=a.page||1,j(a,b)}),a.getState=function(a){return a.creationLog?"Created":a.failureLog?"Failed":a.deletionLog?"Deleted":a.successLog?"Successful":void 0},a.getHistoricJobLogStacktraceUrl=function(a){return d.appUri("engine://engine/:engine/history/job-log/"+a.id+"/stacktrace")}}],priority:2})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],188:[function(a,b,c){"use strict";var d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/history/app/views/processInstance/incidents-tab.html -->\n<incidents-tab\n  process-data="processData"\n  process-instance="processInstance"\n  incidents-context="history"/>\n';b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processInstance.history.tab",{id:"incidents-tab",label:"PLGN_HIST_INCIDENTS",template:d,controller:function(){},priority:15})}]},{}],189:[function(a,b,c){"use strict";b.exports=["$scope","Notifications","JobResource","$modalInstance","incident","$translate",function(a,b,c,d,e,f){var g="finished",h="performing",i="failed";a.$on("$routeChangeStart",function(){d.close(a.status)}),a.incrementRetry=function(){a.status=h,c.setRetries({id:e.configuration},{retries:1},function(){a.status=g,b.addMessage({status:f.instant("PLGN_HIST_FINISHED"),message:f.instant("PLGN_HIST_INCREMENTING_SUCCESSFUL"),exclusive:!0})},function(c){a.status=i,b.addError({status:f.instant("PLGN_HIST_FINISHED"),message:f.instant("PLGN_HIST_INCREMENTING_FAILED",{err:c.data.message}),exclusive:!0})})},a.close=function(a){d.close(a)}}]},{}],190:[function(a,b,c){"use strict";var d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/processInstance/user-operations-tab.html -->\n<user-operations-table process-instance="processInstance" />\n<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/processInstance/user-operations-tab.html -->\n\n';b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processInstance.history.tab",{id:"user-operations-table",label:"PLGN_HIST_USER_OPERATION",template:d,priority:3})}]},{}],191:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null;b.exports=["$scope","$modalInstance","UserOperationLogResource","userTask",function(a,b,d,e){function f(b){var e=h.size,f=(b-1)*e,i={firstResult:f,maxResults:e},j=c.extend({},i,g);a.loadingState="LOADING",d.query(j).$promise.then(function(b){a.userTaskLog=b,a.loadingState=b.length?"LOADED":"EMPTY"}),d.count(g).$promise.then(function(a){h.total=a.count})}var g={taskId:e.id,sortBy:"timestamp",sortOrder:"asc"},h=a.pages={size:10,total:0};a.userTask=e,a.$on("$routeChangeStart",function(){b.close(a.status)}),a.$watch("pages.current",function(a,b){return a?void(a!==b&&(h.current=a,f(a))):void(h.current=1)}),a.close=function(){b.close()}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],192:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null,d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/user-tasks-table.html -->\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-empty="{{ \'PLGN_HIST_NO_USER_TASKS\' | translate }}">\n  <table class="process-instance user-tasks cam-table">\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="sorting">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat="userTask in userTasks">\n        <td class="activity">\n          <a ng-show="userTask.instance"\n             cam-select-activity-instance="userTask.activityInstanceId"\n             ng-href="#/process-instance/{{ processInstance.id }}/history?detailsTab=user-tasks-tab&amp;activityInstanceIds={{ userTask.activityInstanceId }}">\n            {{ userTask.instance.name }}\n          </a>\n          <span ng-hide="userTask.instance">\n            {{ userTask.name }}\n          </span>\n        </td>\n\n        <td class="assignee"\n            ng-if="userTask.assignee"\n            cam-widget-clipboard="userTask.assignee">\n          {{ userTask.assignee }}\n        </td>\n        <td class="assignee"\n            ng-if="!userTask.assignee"></td>\n\n        <td class="owner"\n            ng-if="userTask.owner"\n            cam-widget-clipboard="userTask.owner">\n          {{ userTask.owner }}\n        </td>\n        <td class="owner"\n            ng-if="!userTask.owner"></td>\n\n        <td class="created"\n            cam-widget-clipboard="userTask.startTime">\n          {{ userTask.startTime | camDate }}\n        </td>\n\n        <td class="completion-date"\n            ng-if="userTask.endTime"\n            cam-widget-clipboard="userTask.endTime">\n          {{ userTask.endTime | camDate }}\n        </td>\n        <td class="completion-date"\n            ng-if="!userTask.endTime"></td>\n\n        <td class="duration"\n            ng-if="userTask.duration"\n            cam-widget-clipboard="userTask.duration">\n          {{ userTask.duration | duration }}\n        </td>\n        <td class="duration"\n            ng-if="!userTask.duration"></td>\n\n        <td class="due"\n            ng-if="userTask.due"\n            cam-widget-clipboard="userTask.due">\n          {{ userTask.due | camDate  }}\n        </td>\n        <td class="due"\n            ng-if="!userTask.due"></td>\n\n        <td class="follow-up-date"\n            ng-if="userTask.followUp"\n            cam-widget-clipboard="userTask.followUp">\n          {{ userTask.followUp | camDate  }}\n        </td>\n        <td class="follow-up-date"\n            ng-if="!userTask.followUp"></td>\n\n        <td class="priority">\n          {{ userTask.priority }}\n        </td>\n\n        <td class="task-id uuid"\n            cam-widget-clipboard="userTask.id">\n          {{ userTask.id }}\n        </td>\n\n        <td class="action">\n          <a class="btn btn-default action-button"\n             ng-click="openUserTaskLogDialog(userTask)"\n             tooltip="{{ \'PLGN_HIST_SHOW_USER_TASK_LOG\' | translate }}"\n             tooltip-placement="left">\n            <span class="glyphicon glyphicon-list"></span>\n          </a>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n\n  <pagination ng-if="pages.total > pages.size"\n              class="pagination-sm"\n\n              page="pages.current"\n              ng-model="pages.current"\n\n              total-items="pages.total"\n              items-per-page="pages.size"\n\n              max-size="7"\n              boundary-links="true"></pagination>\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/user-tasks-table.html -->\n',e='<!-- # EE - src/main/resources/plugin-webapp/history/app/views/processInstance/user-task-log.html -->\n<div class="modal-header">\n  <h3>{{ \'PLGN_HIST_USER_LOG\' | translate:{name: (userTask.instance.name || userTask.name)} }}</h3>\n</div>\n\n<div class="process-instance user-task-log modal-body">\n  <div notifications-panel></div>\n\n  <p>{{ \'PLGN_HIST_CHANGES_TASKS\' | translate }}</p>\n\n  <div cam-widget-loader\n       loading-state="{{ loadingState }}"\n       text-empty="{{ \'PLGN_HIST_NO_USER_TASK_LOG\' | translate }}">\n\n    <table class="task-log cam-table">\n      <thead>\n        <tr>\n          <th class="operation">{{ \'PLGN_HIST_OPERATION\' | translate }}</th>\n          <th class="user">{{ \'PLGN_HIST_USER\' | translate }}</th>\n          <th class="change-time">{{ \'PLGN_HIST_CHANGE_TIME\' | translate }}</th>\n          <th class="property">{{ \'PLGN_HIST_PROPERTY\' | translate }}</th>\n          <th class="original-value">{{ \'PLGN_HIST_ORIGINAL_VALUE\' | translate }}</th>\n          <th class="new-value">{{ \'PLGN_HIST_NEW_VALUE\' | translate }}</th>\n        </tr>\n      </thead>\n\n      <tbody>\n        <tr ng-repeat="log in userTaskLog">\n          <td class="operation">{{ log.operationType }}</td>\n          <td class="user">{{ log.userId }}</td>\n          <td class="change-time">{{ log.timestamp | camDate }}</td>\n          <td class="property">{{ log.property }}</td>\n          <td class="original-value">{{ log.orgValue }}</td>\n          <td class="new-value">{{ log.newValue }}</td>\n        </tr>\n      </tbody>\n    </table>\n\n\n    <pagination ng-if="pages.total > pages.size"\n                class="pagination-sm"\n\n                page="pages.current"\n                ng-model="pages.current"\n\n                total-items="pages.total"\n                items-per-page="pages.size"\n\n                max-size="7"\n                boundary-links="true"></pagination>\n  </div><!-- / cam-widget-loader -->\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="close()">\n    {{ \'PLGN_HIST_CLOSE\' | translate }}\n  </button>\n</div>\n<!-- / EE - src/main/resources/plugin-webapp/history/app/views/processInstance/user-task-log.html -->\n';
b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processInstance.history.tab",{id:"user-tasks-tab",label:"PLGN_HIST_USER_TASKS",template:d,controller:["$scope","$modal","$translate","search","Uri","localConf","camAPI",function(a,b,d,f,g,h,i){function j(a){return h.get("sortHPIUserTaskTab",a)}function k(a){h.set("sortHPIUserTaskTab",a)}function l(b,d,e){function f(b){throw a.loadingError=b.message,a.loadingState="ERROR",b}var g=i.resource("history");q=c.copy(b),delete q.page,delete q.activityIds,delete q.scrollToBpmnElement;var h=p.current,j=p.size,k=(h-1)*j,l={processInstanceId:n.id,processDefinitionId:n.processDefinitionId},m={firstResult:k,maxResults:j,sorting:[{sortBy:e.sortBy,sortOrder:e.sortOrder}]};q.activityInstanceIds&&q.activityInstanceIds.length&&(q.activityInstanceIdIn=q.activityInstanceIds),delete q.activityInstanceIds;var o=c.extend({},q,l),r=c.extend({},q,l,m);a.userTasks=[],a.loadingState="LOADING",g.taskCount(o,function(b,c){return b?f(b):(p.total=c.count,c.count?void g.task(r,function(b,c){if(b)return f(b);for(var e,g=0;e=c[g];g++)e.instance=d[e.activityInstanceId];a.userTasks=c,a.loadingState="LOADED"}):void(a.loadingState="EMPTY"))})}var m=a.processData.newChild(a),n=a.processInstance,o={size:50,total:0,current:1},p=a.pages=c.copy(o),q=null,r=null,s=a.sorting=j({sortBy:"startTime",sortOrder:"desc"});a.headColumns=[{"class":"activity",request:"taskName",sortable:!0,content:d.instant("PLGN_HIST_ACTIVITY")},{"class":"assignee",request:"assignee",sortable:!0,content:d.instant("PLGN_HIST_ASSIGNEE")},{"class":"owner",request:"owner",sortable:!0,content:d.instant("PLGN_HIST_OWNER")},{"class":"created",request:"startTime",sortable:!0,content:d.instant("PLGN_HIST_CREATION_DATE")},{"class":"completion-date",request:"endTime",sortable:!0,content:d.instant("PLGN_HIST_COMPLETION_DATE")},{"class":"duration",request:"duration",sortable:!0,content:d.instant("PLGN_HIST_DURATION")},{"class":"due",request:"dueDate",sortable:!0,content:d.instant("PLGN_HIST_DUE_DATE")},{"class":"follow-up-date",request:"followUpDate",sortable:!0,content:d.instant("PLGN_HIST_FOLLOW_UP_DATE")},{"class":"priority",request:"priority",sortable:!0,content:d.instant("PLGN_HIST_PRIORITY")},{"class":"task-id uuid",request:"taskId",sortable:!0,content:d.instant("PLGN_HIST_TASK_ID")},{"class":"action",request:"",sortable:!1,content:d.instant("PLGN_HIST_ACTION")}],a.$watch("pages.current",function(a,b){a!=b&&f("page",a&&1!=a?a:null)}),m.observe(["filter","instanceIdToInstanceMap"],function(a,b){p.current=a.page||1,r=b,l(a,b,s)}),a.onSortChange=function(a){s=a,k(s),l(q,r,s)},a.openUserTaskLogDialog=function(a){b.open({resolve:{userTask:function(){return a}},controller:"TaskInstanceLogController",template:e})}}],priority:5})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],193:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null;b.exports=["$scope","$http","Uri","$modalInstance","HistoricDetailResource","variable","variableInstanceData",function(a,b,d,e,f,g,h){function i(b){var d=o.size,e=(b-1)*d,g={firstResult:e,maxResults:d,deserializeValues:!1},h=c.extend({},g,n,m);a.loadingState="LOADING",f.query(h).$promise.then(function(b){c.forEach(b,function(a){var b=p[a.activityInstanceId];a.instance=b}),a.variableDetails=b,a.loadingState=b.length?"LOADED":"EMPTY"}),f.count(m).$promise.then(function(a){o.total=a.count})}var j="showObjectDetail",k="showJsonXmlDetail",l="default",m={variableInstanceId:g.id,variableUpdates:!0},n={sortBy:"occurrence",sortOrder:"asc"},o=a.pages={size:10,total:0};a.variable=g,a.state=l,a.selectedDetail=null,a.selectedTab="serialized";var p=h.observe("instanceIdToInstanceMap",function(a){p=a});a.$on("$routeChangeStart",function(){e.close(a.status)}),a.$watch("pages.current",function(a,b){return a?void(a!==b&&(o.current=a,i(a))):void(o.current=1)});var q=a.isBoolean=function(a){return"boolean"===a.variableType||"Boolean"===a.variableType},r=a.isInteger=function(a){return"integer"===a.variableType||"Integer"===a.variableType},s=a.isShort=function(a){return"short"===a.variableType||"Short"===a.variableType},t=a.isLong=function(a){return"long"===a.variableType||"Long"===a.variableType},u=a.isDouble=function(a){return"double"===a.variableType||"Double"===a.variableType},v=a.isFloat=function(a){return"float"===a.variableType||"Float"===a.variableType},w=a.isString=function(a){return"string"===a.variableType||"String"===a.variableType},x=a.isDate=function(a){return"date"===a.variableType||"Date"===a.variableType},y=a.isNull=function(a){return"null"===a.variableType||"Null"===a.variableType};a.isBinary=function(a){return"binary"===a.variableType||"Binary"===a.variableType},a.isObject=function(a){return"object"===a.variableType||"Object"===a.variableType},a.isJsonOrXml=function(a){return a.variableType&&["json","xml"].indexOf(a.variableType.toLowerCase())>-1},a.isPrimitive=function(a){return r(a)||s(a)||t(a)||u(a)||v(a)||w(a)||x(a)||q(a)||y(a)},a.getBinaryVariableDownloadLink=function(a){return d.appUri("engine://engine/:engine/history/detail/"+a.id+"/data")},a.showDetail=function(c){a.state="Object"===c.variableType?j:k,a.selectedDetail=c,a.state===j&&b({method:"GET",url:d.appUri("engine://engine/:engine/history/detail/"+c.id)}).success(function(b){b.errorMessage?a.deserializationError=b.errorMessage:a.selectedDetail.valueDeserialized=JSON.stringify(b.value)})},a.selectTab=function(b){a.selectedTab=b},a.closeDetail=function(){a.state=l,a.selectedDetail=null,a.deserializationError=null},a.close=function(){e.close()}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],194:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/variable-instances-tab.html -->\n<div cam-searchable-area\n     config="searchConfig"\n     array-types="[\'activityInstanceIdIn\']"\n     variable-types="[\'variableValue\']"\n     on-search-change="onSearchChange(query, pages)"\n     loading-state="loadingState"\n     text-empty="{{ \'PLGN_HIST_NO_PROCESS_VARIABLES\' | translate }}"\n     blocked="!instanceIdToInstanceMap"\n     storage-group="\'VI\'">\n\n  <div cam-widget-variables-table\n       on-download="downloadVariable"\n       cam-variables="variables"\n       on-edit="editVariable"\n       on-download="downloadVariable"\n       on-Sort-Change="onSortChange(query, pages,sortObj)"\n       default-sort = "sortObj"\n       cam-editable="[]"\n       cam-headers="headColumns">\n  </div>\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/variable-instances-tab.html -->\n',f='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/variable-instance-log-dialog.html -->\n<div class="modal-header">\n  <h3>{{ \'PLGN_HIST_VARIABLE_LOG\' | translate:{name: variable.name} }}</h3>\n</div>\n\n<div class="process-instance variable-instance-log modal-body">\n  <div notifications-panel></div>\n\n  <div ng-if="state === \'default\'">\n    <p>{{ \'PLGN_HIST_CHANGES_VARIABLE\' | translate }}</p>\n\n    <div cam-widget-loader\n         loading-state="{{ loadingState }}"\n         text-empty="{{ \'PLGN_HIST_NO_VARIABLE_LOG\' | translate }}">\n      <table class="instance-log cam-table">\n        <thead>\n          <tr>\n            <th class="value">{{ \'PLGN_HIST_VALUE_COL\' | translate }}</th>\n            <th class="type">{{ \'PLGN_HIST_TYPE\' | translate }}</th>\n            <th class="change-time">{{ \'PLGN_HIST_CHANGE_TIME\' | translate }}</th>\n            <th class="activity">{{ \'PLGN_HIST_ACTIVITY\' | translate }}</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          <tr ng-repeat="details in variableDetails">\n            <td class="value">\n              <div ng-if="isPrimitive(details) && !isDate(details)">\n                {{ details.value }}\n              </div>\n\n              <div ng-if="isDate(details)">\n                {{ details.value | camDate }}\n              </div>\n\n              <!-- binary variable -->\n              <div ng-if="isBinary(details)">\n                <a class="text-muted"\n                   href="{{getBinaryVariableDownloadLink(details)}}"\n                   target="_blank"\n                   tooltip="{{ \'PLGN_HIST_DOWNLOAD\' | translate }}"\n                   tooltip-placement="right">\n                {{ \'PLGN_HIST_BINARY_CONTENT\' | translate }}\n                </a>\n              </div>\n\n              <!-- object variable -->\n              <div ng-if="isObject(details) || isJsonOrXml(details)">\n                <a class="text-muted"\n                   ng-click="showDetail(details)"\n                   href>\n                  <span ng-if="details.variableType === \'Object\'">{{details.valueInfo.objectTypeName}}</span>\n                  <span ng-if="isJsonOrXml(details)">\n                    {{details.value}}\n                  </span>\n                </a>\n              </div>\n            </td>\n\n            <td class="type">\n              {{ details.variableType }}\n            </td>\n\n            <td class="change-time">\n              {{ details.time | camDate }}\n            </td>\n\n            <td class="activity">\n              <a ng-href="#/process-instance/{{ details.processInstanceId }}/history?activityInstanceIds={{ details.instance.id }}"\n                 ng-show="details.instance"\n                 target="_blank">\n                {{ details.instance.name }}\n              </a>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n\n      <pagination ng-if="pages.total > pages.size"\n                  class="pagination-sm"\n\n                  page="pages.current"\n                  ng-model="pages.current"\n\n                  total-items="pages.total"\n                  items-per-page="pages.size"\n\n                  max-size="7"\n                  boundary-links="true"></pagination>\n    </div>\n  </div>\n\n  <div ng-if="state == \'showObjectDetail\'">\n    <p>\n      <strong>{{ \'PLGN_HIST_VALUE_INFO\' | translate }}</strong>\n    </p>\n\n    <p>\n     <code>{{ \'PLGN_HIST_OBJECT_TYPE_NAME\' | translate }}{{selectedDetail.valueInfo.objectTypeName}}</code>\n    </p>\n\n    <p>\n     <code>{{ \'PLGN_HIST_SERIALIZATION\' | translate }}{{selectedDetail.valueInfo.serializationDataFormat}}</code>\n    </p>\n\n    <p>\n      <strong>{{ \'PLGN_HIST_VALUE\' | translate }}</strong>\n    </p>\n\n    <ul class="nav nav-tabs">\n      <li ng-class="{ active: selectedTab === \'serialized\' }">\n        <a href\n           ng-click="selectTab(\'serialized\')">{{ \'PLGN_HIST_SERIALIZED\' | translate }}</a>\n      </li>\n      <li ng-class="{ active: selectedTab === \'deserialized\' }">\n        <a href\n           ng-click="selectTab(\'deserialized\')">{{ \'PLGN_HIST_DESERIALIZED\' | translate }}</a>\n      </li>\n    </ul>\n\n    <div ng-show="selectedTab === \'serialized\'">\n      <textarea name="currentValue"\n                ng-model="selectedDetail.value"\n                rows="10"\n                class="form-control"\n                disabled>\n      </textarea>\n    </div>\n    <div ng-show="selectedTab === \'deserialized\'">\n      <div class="alert alert-danger" ng-show="deserializationError">\n        <strong>{{ \'PLGN_HIST_DESERIALIZATION_ERROR\' | translate }}</strong>:\n        {{deserializationError}}\n      </div>\n      <div ng-show="!deserializationError">\n        <textarea name="currentValueDeserialized"\n                  ng-model="selectedDetail.valueDeserialized"\n                  rows="10"\n                  class="form-control"\n                  disabled>\n        </textarea>\n      </div>\n    </div>\n\n    <a href\n       ng-click="closeDetail()">{{ \'PLGN_HIST_BACK\' | translate }}</a>\n  </div>\n  <div ng-if="state == \'showJsonXmlDetail\'">\n    <p>\n      <strong>Value:</strong>\n    </p>\n    <textarea name="jsonXmlValue"\n              ng-model="selectedDetail.value"\n              rows="10"\n              class="form-control"\n              ng-readonly="true">\n    </textarea>\n    <a href\n       ng-click="closeDetail()">{{ \'PLGN_HIST_BACK\' | translate }}</a>\n  </div>\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="close()">\n    {{ \'PLGN_HIST_CLOSE\' | translate }}\n  </button>\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/variable-instance-log-dialog.html -->\n',g='{\n  "types": [\n    {\n      "id": {\n        "key": "variableName",\n        "value": "PLGN_HIST_SEARCH_VARIABLE_NAME"\n      },\n      "default": true,\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "PLGN_HIST_SEARCH_LIKE"\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "activityInstanceIdIn",\n        "value": "PLGN_HIST_SEARCH_ACTIVITY_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "variableValue",\n        "value": "PLGN_HIST_SEARCH_VARIABLE_VALUE"\n      },\n      "extended": true,\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    }\n  ],\n  "operators": {\n    "undefined":  [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "PLGN_HIST_SEARCH_LIKE"\n      }\n    ],\n    "string":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "PLGN_HIST_SEARCH_LIKE"\n      }\n    ],\n    "number":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      }\n    ],\n    "boolean":    [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      }\n    ],\n    "object":     [{\n      "key": "eq",\n      "value": "="\n    },\n      {\n        "key": "neq",\n        "value": "!="\n      }],\n    "date":     [{\n      "key": "lteq",\n      "value": "PLGN_HIST_SEARCH_BEFORE"\n    },\n      {\n        "key": "gteq",\n        "value": "PLGN_HIST_SEARCH_AFTER"\n      }]\n  },\n  "tooltips": {\n    "inputPlaceholder": "PLGN_HIST_SEARCH_ADD_CRITERIA",\n    "invalid": "PLGN_HIST_SEARCH_INVALID",\n    "deleteSearch": "PLGN_HIST_SEARCH_REMOVE",\n    "type": "PLGN_HIST_SEARCH_TYPE",\n    "name": "PLGN_HIST_SEARCH_PROPERTY",\n    "operator": "PLGN_HIST_SEARCH_OPERATOR",\n    "value": "PLGN_HIST_SEARCH_VALUE"\n  }\n}\n',h=a("camunda-bpm-webapp/ui/cockpit/client/scripts/components/variables/variable-inspect-dialog");b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processInstance.history.tab",{id:"variables-tab",label:"PLGN_HIST_VARIABLES",template:e,controller:["$scope","$http","$modal","$q","Uri","searchWidgetUtils","unfixDate","camAPI","$translate","localConf",function(a,b,c,e,i,j,k,l,m,n){function o(b,c,e,f){a.queryObj=c||a.queryObj,a.pagesObj=e||a.pagesObj,f=f||a.sortObj;var g=a.pagesObj.current,h=a.pagesObj.size,i=(g-1)*h,l={processInstanceId:t.id,includeDeleted:!0};f&&(l.sorting=[f],p(f));var n={firstResult:i,maxResults:h,deserializeValues:!1},o=d.extend({},a.queryObj,l),q=d.extend({},n,o),s=q.variableValue;return s&&s.length&&(q.variableValue=s[0].value,q.variableName=s[0].name),a.variables=null,a.loadingState="LOADING",r={},u.variableInstanceCount(o).then(function(c){return a.total=c.count,u.variableInstance(q).then(function(c){var e=c;return d.forEach(e,function(a){var c=b[a.activityInstanceId];a.instance=c}),a.variables=e.map(function(c){var e=b[c.activityInstanceId];return c.instance=e,r[c.id]=d.copy(c),"Date"===c.type&&(c.value=k(c.value)),{variable:{id:c.id,name:c.name,type:c.type,value:c.value,valueInfo:c.valueInfo,executionId:c.executionId},original:c,additions:{state:{html:c.state},scope:{html:'<a ng-href="#/process-instance/'+t.id+"/history?detailsTab=variables-tab&"+j.getSearchQueryForSearchType("activityInstanceIdIn",e.id)+'" title="'+e.id+'">'+e.name+"</a>",scopeVariables:{processData:a.processData}},action:{html:'<a class="btn btn-sm btn-default action-button"   ng-click="openVariableDetailsDialog(variable)"   tooltip="'+m.instant("PLGN_HIST_SHOW_VARIABLE_LOG")+'"   tooltip-placement="left">  <span class="glyphicon glyphicon-list"></span></a>',scopeVariables:{variable:c,openVariableDetailsDialog:a.openVariableDetailsDialog,processData:a.processData}}}}}),a.loadingState=e.length?"LOADED":"EMPTY",a.total})})}function p(a){n.set("sortVarInstTab",a)}function q(a){return n.get("sortVarInstTab",a)}var r,s=a.processData.newChild(a),t=a.processInstance,u=l.resource("history");a.headColumns=[{"class":"state",request:"",sortable:!1,content:m.instant("PLUGIN_VARIABLE_STATE")},{"class":"name",request:"variableName",sortable:!0,content:m.instant("PLUGIN_VARIABLE_NAME")},{"class":"type",request:"",sortable:!1,content:m.instant("PLUGIN_VARIABLE_TYPE")},{"class":"value",request:"",sortable:!1,content:m.instant("PLUGIN_VARIABLE_VALUE")},{"class":"scope",request:"",sortable:!1,content:m.instant("PLUGIN_VARIABLE_SCOPE")},{"class":"action",request:"",sortable:!1,content:m.instant("PLUGIN_VARIABLE_ACTION")}];var v={sortBy:"variableName",sortOrder:"asc"};a.sortObj=q(v),a.searchConfig=JSON.parse(g),d.forEach(a.searchConfig.tooltips,function(b,c){a.searchConfig.tooltips[c]=m.instant(b)}),a.searchConfig.types.map(function(a){return a.id.value=m.instant(a.id.value),a.operators&&(a.operators=a.operators.map(function(a){return a.value=m.instant(a.value),a})),a}),a.total=0,a.variableTypes=["String","Boolean","Short","Integer","Long","Double","Date"],a.downloadVariable=function(a){return i.appUri("engine://engine/:engine/history/variable-instance/"+a.variable.id+"/data")},a.onSearchChange=function(b,c,d){return a.query=b||a.query,a.pages=c||a.pages,a.instanceIdToInstanceMap?o(a.instanceIdToInstanceMap,a.query,a.pages,d):e.when(a.total)},a.onSortChange=a.onSearchChange,s.observe(["instanceIdToInstanceMap"],function(b){a.instanceIdToInstanceMap=b}),a.editVariable=function(a){return c.open({template:h.template,controller:h.controller,windowClass:"cam-widget-variable-dialog",resolve:{basePath:function(){return"engine://engine/:engine/execution/"+a.variable.executionId+"/localVariables/"+a.variable.name},history:function(){return!0},readonly:function(){return!0},variable:function(){return a.variable}}}).result},a.openVariableDetailsDialog=function(a){c.open({resolve:{variableInstanceData:function(){return s},variable:function(){return a}},size:"lg",controller:"VariableInstanceLogController",template:f})}}],priority:30})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"camunda-bpm-webapp/ui/cockpit/client/scripts/components/variables/variable-inspect-dialog":3}],195:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./views/main");b.exports=d.module("cockpit.plugin.jobRetry",[e.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./views/main":198}],196:[function(a,b,c){"use strict";b.exports=["$scope","$modalInstance","Notifications","JobDefinitionResource","jobDefinition","$translate",function(a,b,c,d,e,f){var g="PERFORM",h="SUCCESS",i="FAILED";a.$on("$routeChangeStart",function(){b.close(a.status)}),a.incrementJobRetries=function(){a.status=g,d.setRetries({id:e.id},{retries:1},function(){a.status=h,c.addMessage({status:f.instant("PLGN_JRET_NOTIFICATION_FINISHED"),message:f.instant("PLGN_JRET_NOTIFICATION_FINISHED_MSG"),exclusive:!0})},function(b){a.status=i,c.addError({status:f.instant("PLGN_JRET_NOTIFICATION_FAILED"),message:f.instant("PLGN_JRET_NOTIFICATION_FAILED_MSG",{msg:b.data.message}),exclusive:!0})})},a.close=function(a){var c={status:a};b.close(c)}}]},{}],197:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null,d="<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/jobRetry/app/views/jobDefinition/increment-retries-dialog.html -->\n<div class=\"modal-header\">\n  <h3>{{ 'PLGN_JRET_INCREMENT_RETRIES' | translate }}</h3>\n</div>\n\n<div class=\"job-definition increment-retries modal-body\">\n  <div notifications-panel></div>\n\n  <div ng-hide=\"status === 'SUCCESS' || status === 'FAILED'\">\n    <p>{{ 'PLGN_JRET_DIALOG_INCREMENT' | translate }}</p>\n    <p>{{ 'PLGN_JRET_DIALOG_INCREMENT_SURE' | translate }}</p>\n  </div>\n\n  <div ng-show=\"status === 'SUCCESS'\">\n    {{ 'PLGN_JRET_DIALOG_SUCCESS' | translate }}\n  </div>\n\n  <div ng-show=\"status === 'FAILED'\">\n    {{ 'PLGN_JRET_DIALOG_SUCCESS' | translate }}\n  </div>\n\n</div>\n\n<div class=\"modal-footer\">\n  <button class=\"btn btn-default\"\n          ng-click=\"close(status)\"\n          ng-disabled=\"status === 'PERFORM'\"\n          ng-hide=\"status === 'SUCCESS' || status === 'FAILED'\">\n    {{ 'PLGN_JRET_DIALOG_CLOSE' | translate }}\n  </button>\n\n  <button type=\"submit\"\n          class=\"btn btn-primary\"\n          ng-click=\"incrementJobRetries()\"\n          ng-hide=\"status === 'SUCCESS' || status === 'FAILED'\"\n          ng-disabled=\"status === 'PERFORM'\">\n    {{ 'PLGN_JRET_DIALOG_RETRY' | translate }}\n  </button>\n\n  <button class=\"btn btn-primary\"\n          ng-click=\"close(status)\"\n          ng-show=\"status === 'SUCCESS' || status === 'FAILED'\">\n    {{ 'PLGN_JRET_DIALOG_OK' | translate }}\n  </button>\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/jobRetry/app/views/jobDefinition/increment-retries-dialog.html -->\n",e=["ViewsProvider",function(a){a.registerDefaultView("cockpit.jobDefinition.action",{id:"increment-job-retries",url:"plugin://cockpitEE/static/app/jobRetry/increment-retries-action.html",controller:["$scope","$modal",function(a,b){a.openDialog=function(e){var f=b.open({resolve:{jobDefinition:function(){return e}},controller:"IncrementRetriesController",template:d});f.result.then(function(b){"SUCCESS"===b.status&&a.processData.set("filter",c.extend({},a.filter))})}}],priority:20})}];b.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],198:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./jobDefinition/incrementRetriesAction"),f=a("./jobDefinition/incrementRetries"),g=d.module("cockpit.plugin.jobRetry.views",[]);g.config(e),g.controller("IncrementRetriesController",f),b.exports=g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./jobDefinition/incrementRetries":196,"./jobDefinition/incrementRetriesAction":197}],199:[function(a,b,c){"use strict";var d="http://www.w3.org/2000/svg",e=100,f=function(a,b,c,d,e){this._events=b,this._diagram=c,this._instructionBadge=d,this.arrows=[],this.activities={},this.plan={},this.mouseArrow=null,this.showAny=!1,this.setup(a),this.translate=e};f.prototype.toggleAll=function(){var a=this;this.showAny?this.plan&&this.plan.instructions&&this.plan.instructions.forEach(function(b){if(b.sourceActivityIds[0].indexOf("#multiInstanceBody")===-1){var c=a._diagram.source.getElement(b.sourceActivityIds[0]);a.calculateArrow("source",c)}}):this.arrows.slice().forEach(function(b){a.clearArrow(b)})},f.prototype.setup=function(a){var b=this.createCanvas();a.appendChild(b);var c=this;this._events.on("migrationPlan.updated",function(a){c.plan=a,c.repositionArrows(),c._events.emit("state.updated")}),this._events.on("element.click",function(a,b){c.calculateArrow(a,b),c._events.emit("state.updated")}),this._events.on("diagram.viewbox.changed",function(){c.resizeMarkers(),c.repositionArrows(),c._events.emit("state.updated")}),this._events.on("instructionBadges.updated",function(){c.repositionArrows(),c._events.emit("state.updated")}),this._events.on("diagram.rendered",function(){c.resizeMarkers(),c._events.emit("state.updated")}),this._events.on("overlays.show",function(){b.style.display="inherit"}),this._events.on("overlays.hide",function(){b.style.display="none"});var d=function(){c.showAny=!1,c.toggleAll()};this._events.on("version.updated",d),this._events.on("processDefinitionKey.updated",d),this._events.on("tab.changed",d),this._events.on("popover.opened",d),this._events.on("mapping.started",function(a,b){var d=c.activities["source_"+a.id];d&&c.clearArrow(d);var e=c._diagram.source.getViewer().get("canvas"),f=e.viewbox(),g={x:(a.x-f.x+a.width)*f.scale,y:(a.y-f.y+a.height/2)*f.scale},h={x:b.pageX,y:b.pageY-220};c.mouseArrow=c.drawArrow(g,h,!0),c.arrows.splice(c.arrows.indexOf(c.mouseArrow),1)}),this._events.on("mapping.mouseMoved",function(a,b){var d=c.mouseArrow.startCoordinates;c.container.removeChild(c.mouseArrow),c.mouseArrow=c.drawArrow(d,{x:b.pageX,y:b.pageY-220},!0),c.arrows.splice(c.arrows.indexOf(c.mouseArrow),1)}),this._events.on("mapping.finished",function(a,b){if(c.container.removeChild(c.mouseArrow),b&&c.activities["target_"+b]){var d=c._diagram.target.getViewer().get("elementRegistry").get(b);c.calculateArrow("target",d)}}),this.container=b,this.setupMarkers(),this.resizeMarkers()},f.prototype.resizeMarkers=function(){if(this._diagram.loaded.source&&this._diagram.loaded.target){var a=this._diagram.source.getViewer().get("canvas"),b=a.viewbox(),c=this._diagram.target.getViewer().get("canvas"),d=c.viewbox(),e=Math.min(2*b.scale,4),f=this.container.querySelector("defs #startMarker");f.firstChild.setAttribute("r",e);var g=this.container.querySelector("defs #startMarkerError");g.firstChild.setAttribute("r",e);var h=Math.min(3*d.scale,6),i=this.container.querySelector("defs #endMarker");i.firstChild.setAttribute("d","M"+(15-h)+","+(10-h)+" V"+(10+h)+" L15,10 Z");var j=this.container.querySelector("defs #endMarkerError");j.firstChild.setAttribute("d","M"+(15-h)+","+(10-h)+" V"+(10+h)+" L15,10 Z")}},f.prototype.setupMarkers=function(){var a=document.createElementNS(d,"defs");this.container.appendChild(a);var b=document.createElementNS(d,"marker");b.setAttribute("id","endMarker"),b.setAttribute("markerWidth",20),b.setAttribute("markerHeight",20),b.setAttribute("refX",14),b.setAttribute("refY",10),b.setAttribute("orient","auto");var c=document.createElementNS(d,"path");c.setAttribute("d","M5,5 V15 L15,10 Z"),c.setAttribute("style","fill: #338833;"),b.appendChild(c),a.appendChild(b);var e=document.createElementNS(d,"marker");e.setAttribute("id","startMarker"),e.setAttribute("markerWidth",20),e.setAttribute("markerHeight",20),e.setAttribute("refX",10),e.setAttribute("refY",10),e.setAttribute("orient","auto");var f=document.createElementNS(d,"circle");f.setAttribute("cx","10"),f.setAttribute("cy","10"),f.setAttribute("r","4"),f.setAttribute("style","stroke: #338833; fill:#338833;"),e.appendChild(f),a.appendChild(e);var g=document.createElementNS(d,"marker");g.setAttribute("id","endMarkerError"),g.setAttribute("markerWidth",20),g.setAttribute("markerHeight",20),g.setAttribute("refX",14),g.setAttribute("refY",10),g.setAttribute("orient","auto");var h=document.createElementNS(d,"path");h.setAttribute("d","M5,5 V15 L15,10 Z"),h.setAttribute("style","fill: #AA3333;"),g.appendChild(h),a.appendChild(g);var i=document.createElementNS(d,"marker");i.setAttribute("id","startMarkerError"),i.setAttribute("markerWidth",20),i.setAttribute("markerHeight",20),i.setAttribute("refX",10),i.setAttribute("refY",10),i.setAttribute("orient","auto");var j=document.createElementNS(d,"circle");j.setAttribute("cx","10"),j.setAttribute("cy","10"),j.setAttribute("r","4"),j.setAttribute("style","stroke: #AA3333; fill:#AA3333;"),i.appendChild(j),a.appendChild(i)},f.prototype.repositionArrows=function(){var a=this;this.arrows.slice().forEach(function(b){a.repositionArrow(b)})},f.prototype.repositionArrow=function(a){var b=a.sourceElement;this.clearArrow(a),b&&this.calculateArrow("source",a.sourceElement)},f.prototype.calculateArrow=function(a,b){if(!(this.plan&&this.plan.instructions&&this._diagram.loaded.source&&this._diagram.loaded.target))return null;var c="source"===a?[b]:this.findElement("source",b),d="target"===a?b:this.findElement("target",b)[0];if(c.length>0&&d)if("source"===a&&this.activities["source_"+b.id])this.clearArrow(this.activities["source_"+b.id]);else if("target"===a&&this.activities["target_"+d.id])for(;this.activities["target_"+d.id];)this.clearArrow(this.activities["target_"+d.id][0]);else for(var e=0;e<c.length;e++){var f=c[e],g=this._diagram.source.getViewer().get("canvas"),h=g.viewbox(),i=this._diagram.target.getViewer().get("canvas"),j=i.viewbox(),k={x:(f.x-h.x)*h.scale,y:(f.y-h.y)*h.scale},l={x:(d.x-j.x)*j.scale,y:(d.y-j.y)*j.scale};l.x+=h.width*h.scale,k.x+=f.width*h.scale,k.y+=f.height/2*h.scale,l.y+=d.height/2*j.scale;var m=this.drawArrow(k,l,this.isValid(f.id,d.id));m.sourceElement=f,m.targetElement=d,this.activities["source_"+f.id]=m,this.activities["target_"+d.id]=this.activities["target_"+d.id]||[],this.activities["target_"+d.id].push(m),(k.x>h.width*h.scale||l.x<h.width*h.scale)&&(m.style.display="none")}},f.prototype.isValid=function(a){return!this._instructionBadge._getErrorReportForActivityId(a,this._instructionBadge._validationReport)},f.prototype.findElement=function(a,b){var c=this.plan.instructions.filter(function(c){return c["source"===a?"targetActivityIds":"sourceActivityIds"][0]===b.id}),d=this._diagram[a];return c.map(function(b){return d.getElement(b[a+"ActivityIds"][0])})},f.prototype.createCanvas=function(){var a=document.createElementNS(d,"svg");return a.style.position="absolute",a.style.pointerEvents="none",a.style.top=140-e+"px",a.style.left="0",a.style.width="100%",a.style.height="calc(100% - "+(205-2*e)+"px)",a},f.prototype.drawArrow=function(a,b,c){var f=this.container.getBoundingClientRect().height-2*e,g=f/2,h=a.y-g+b.y-g;h*=.2;var i=(b.x-a.x)/2,j="M"+a.x+" "+(a.y+e)+" C"+(a.x+i)+" "+(a.y+e+h)+", "+(b.x-i)+" "+(b.y+e+h)+", "+b.x+" "+(b.y+e),k=document.createElementNS(d,"path");return k.setAttribute("d",j),k.setAttribute("stroke","rgb(0, 0, 0)"),k.setAttribute("stroke-width","3"),k.setAttribute("stroke",c?"#338833":"#AA3333"),k.setAttribute("fill","transparent"),k.setAttribute("marker-start",c?"url(#startMarker)":"url(#startMarkerError)"),k.setAttribute("marker-end",c?"url(#endMarker)":"url(#endMarkerError)"),k.startCoordinates=a,
k.targetCoordinates=b,this.container.appendChild(k),this.arrows.push(k),(a.y<0||b.y<0||b.y>f||a.y>f)&&(k.style.display="none"),this.showAny=!0,k},f.prototype.clearArrow=function(a){var b=this.arrows.indexOf(a);if(b===-1)throw this.translate.instant("PLGN_MIG_COULD_NOT_REMOVE_ARROW");if(this.container.removeChild(a),this.arrows.splice(this.arrows.indexOf(a),1),a.sourceElement){this.activities["source_"+a.sourceElement.id]=null;var c=this.activities["target_"+a.targetElement.id];c.splice(c.indexOf(a),1),0===c.length&&(this.activities["target_"+a.targetElement.id]=null)}this.arrows.length||(this.showAny=!1)},b.exports=f},{}],200:[function(a,b,c){"use strict";b.exports=function(a,b){a.titleSet(["Migration"].join(" | ")),a.breadcrumbsClear(),b.showBreadcrumbs=!0,a.breadcrumbsAdd([{href:"#/processes",label:"PLGN_MIG_PROCESSES"},{label:"PLGN_MIG_MIGRATION"}])}},{}],201:[function(a,b,c){"use strict";var d=function(a,b,c){this.eventBus=a,this.migrationComponent=b,this.instancesComponent=c,this.payload={},this.async=!0,this.skipIoMappings=!0;var d=window.camCockpitConf.skipCustomListeners||{};this.skipCustomListeners={"default":"boolean"!=typeof d["default"]||d["default"],hidden:"boolean"==typeof d.hidden&&d.hidden};var e=this;this.buildPayload=function(){var a={migrationPlan:e.migrationComponent.plan,skipIoMappings:e.skipIoMappings,skipCustomListeners:e.skipCustomListeners["default"]};if(e.instancesComponent.selectedInstances.length)a.processInstanceIds=e.instancesComponent.selectedInstances;else{var b=e.instancesComponent.search.getParams();b.processDefinitionId=e.migrationComponent.migrationManager.processDefinition.source.id,a.processInstanceQuery=b}e.payload=a},this.eventBus.on("tab.changed",function(a){"confirm"===a&&e.buildPayload()})};b.exports=d},{}],202:[function(a,b,c){"use strict";var d=function(a){this.eventBus=a,this.source={},this.target={};var b=this;this.loaded={source:!1,target:!1},this.eventBus.on("version.updated",function(a){b.loaded[a.type]=!1}),this.eventBus.on("processDefinitionKey.updated",function(a){b.loaded[a.type]=!1}),this.eventBus.on("diagram.rendered",function(c){b.loaded[c]=!0,b[c].getViewer()._container.addEventListener("mousedown",function(b){a.emit("diagram.mousedown",{type:c,evt:b})},!0),b[c].getViewer()._container.addEventListener("mouseup",function(b){a.emit("diagram.mouseup",{type:c,evt:b})},!0),b[c].getViewer().get("eventBus").on("canvas.viewbox.changed",function(b){a.emit("diagram.viewbox.changed",{type:c,viewbox:b})}),b[c].getViewer().get("eventBus").on("overlays.show",function(){a.emit("overlays.show",{type:c})}),b[c].getViewer().get("eventBus").on("overlays.hide",function(){a.emit("overlays.hide",{type:c})})}),this.eventBus.on("migrationPlan.updated",function(a){b.plan=a})};d.prototype.highlight=function(a,b,c){if(this.plan&&this.loaded.source&&this.loaded.target)for(var d=this.plan.instructions.filter(function(c){return c[a+"ActivityIds"].indexOf(b.id)!==-1}),e=0;e<d.length;e++){for(var f=d[e],g=0;g<f.sourceActivityIds.length;g++)this.source[c?"clearHighlight":"highlight"](f.sourceActivityIds[g]);for(g=0;g<f.targetActivityIds.length;g++)this.target[c?"clearHighlight":"highlight"](f.targetActivityIds[g]),c?this.target.getViewer().get("canvas").removeMarker(f.targetActivityIds[g],"selectable"):this.target.getViewer().get("canvas").addMarker(f.targetActivityIds[g],"selectable")}},d.prototype.hover=function(a,b){this.highlight(a,b,!1),this[a].getViewer().get("canvas").addMarker(b.id,"hovered"),this.eventBus.emit("element.hovered",a,b)},d.prototype.unhover=function(a,b){this.highlight(a,b,!0),this[a].getViewer().get("canvas").removeMarker(b.id,"hovered"),this.eventBus.emit("element.unhovered",a,b)},d.prototype.click=function(a,b){this.eventBus.emit("element.click",a,b)},d.prototype.load=function(a){this.eventBus.emit("diagram.rendered",a)},d.prototype.getNameForId=function(a,b){if(!a||!b||!this.loaded[a])return b;var c=this[a].getViewer().get("elementRegistry").get(b);if(!c)return b;c=c.businessObject;var d=c.name;return d||(d=c.$type.substr(5)+" ("+c.id+")"),d},d.prototype.canUpdateEventTrigger=function(a){var b=this.source.getViewer().get("elementRegistry").get(a).businessObject;return"bpmn:ReceiveTask"===b.$type||!(["bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent","bpmn:StartEvent"].indexOf(b.$type)===-1||!b.eventDefinitions||!b.eventDefinitions.filter(function(a){return["bpmn:SignalEventDefinition","bpmn:TimerEventDefinition","bpmn:MessageEventDefinition"].indexOf(a.$type)!==-1}).length)&&("bpmn:StartEvent"!==b.$type||"bpmn:SubProcess"===b.$parent.$type)},b.exports=d},{}],203:[function(a,b,c){"use strict";var d=function(a,b){this.linked=!0;var c=this,d={source:!1,target:!1};a.on("diagram.rendered",function(e){var f,g=b[e].getViewer();g.get("eventBus").on("canvas.viewbox.changing",function(){f=g.get("canvas").viewbox()}),g.get("eventBus").on("canvas.viewbox.changed",function(g){if(c.linked&&!d[e]&&f){c.linked=!1;var h=g.viewbox,i=b["source"===e?"target":"source"].getViewer(),j={dx:(f.x-h.x)*h.scale,dy:(f.y-h.y)*h.scale};i.get("canvas").scroll(j);var k=h.scale-f.scale;0!==k&&i.get("canvas").viewbox(h),d["source"===e?"target":"source"]=!0,window.setTimeout(function(){d["source"===e?"target":"source"]=!1},0),c.linked=!0,a.emit("state.updated")}})});var e=!0;a.on("mapping.started",function(){e=c.linked,c.linked=!1}),a.on("mapping.finished",function(){c.linked=e})};b.exports=d},{}],204:[function(a,b,c){"use strict";var d=function(a,b,c,d){this.eventBus=a,this.migrationComponent=b,this.instancesComponent=c,this.status="",this.error=null,this.failedInstructions=[],this.translate=d;var e=this;this.eventBus.on("migration.execute",function(b){e.batchId=null,e.statusIcon="glyphicon-refresh animate-spin",e.status=e.translate.instant("PLGN_MIG_INSTANCES_MIGRATED");var c={migrationPlan:e.migrationComponent.plan};if(e.instancesComponent.selectedInstances.length)c.processInstanceIds=e.instancesComponent.selectedInstances;else{var d=e.instancesComponent.search.getParams();d.processDefinitionId=e.migrationComponent.migrationManager.processDefinition.source.id,c.processInstanceQuery=d}var f=e.migrationComponent.migrationManager;e.migrationInProgress=!0,e.eventBus.emit("migration.started");var g=function(b,c){e.migrationInProgress=!1,b?(e.error=JSON.parse(b.response.text),e.failedInstructions=e._calculateFailedInstructions(),e.status=e.translate.instant("PLGN_MIG_MIGRATION_FAILED",{message:b.message}),e.statusIcon="glyphicon-warning-sign text-danger",a.emit("migration.failed",b.message)):(e.error=null,e.statusIcon="glyphicon-ok text-success",c.id?(e.status=e.translate.instant("PLGN_MIG_MIGRATION_EXECUTED",{id:c.id}),e.batchId=c.id):e.status=e.translate.instant("PLGN_MIG_MIGRATION_FINISHED"),a.emit("migration.finished",{source:e.migrationComponent.source,target:e.migrationComponent.target}))};b?f.executeMigrationPlanAsync(c,g):f.executeMigrationPlan(c,g)})};d.prototype._calculateFailedInstructions=function(){var a=[];if("instance"===this.getErrorType()){var b=function(b){a.push({sourceActivity:b.sourceScopeId,targetActivity:void 0,error:b.failures.join(". ")})};this.error.validationReport.activityInstanceValidationReports.forEach(b),this.error.validationReport.transitionInstanceValidationReports.forEach(b)}else"plan"===this.getErrorType()&&this.error.validationReport.instructionReports.forEach(function(b){a.push({sourceActivity:b.instruction.sourceActivityIds[0],targetActivity:b.instruction.targetActivityIds[0],error:b.failures.join(". ")})});return a},d.prototype.hasError=function(){return!!this.error},d.prototype.getErrorType=function(){switch(this.error.type){case"MigratingProcessInstanceValidationException":return"instance";case"MigrationPlanValidationException":return"plan";default:return"unknown"}},d.prototype.getErrorMessage=function(){return this.error.message},d.prototype.getFailedInstanceId=function(){return this.error.validationReport.processInstanceId},d.prototype.getFailedInstructions=function(){return this.failedInstructions},b.exports=d},{}],205:[function(a,b,c){"use strict";var d='<span class="badge-migration-instances badge" tooltip="{{ \'PLGN_MIG_RUNNING_ACTIVITY_INSTANCES\' | translate }}"></span>\n',e=function(a,b,c){this.eventBus=a,this.diagram=b,this.api=c,this.badges={source:[],target:[]};var d=this;this.statistics={source:!1,target:!1},this.loaded={source:!1,target:!1},this.eventBus.on("version.updated",function(a){d.loaded[a.type]=!1,d.statistics[a.type]=!1,d.updateDiagrams()}),this.eventBus.on("processDefinitionKey.updated",function(a){d.loaded[a.type]=!1,d.statistics[a.type]=!1,d.updateDiagrams()}),this.eventBus.on("diagram.rendered",function(a){d.loaded[a]=!0,d.updateDiagrams()}),this.eventBus.on("instructionBadges.updated",function(){d.updateDiagrams()}),this.eventBus.on("migration.finished",function(a){d.statistics.source=!1,d.statistics.target=!1,d.loadStatistics("source",a.source),d.loadStatistics("target",a.target)}),this.eventBus.on("diagram.loaded",function(a){d.loadStatistics(a.type,a.obj)})};e.prototype.updateDiagrams=function(){this.updateDiagram("source"),this.updateDiagram("target")},e.prototype.setupIsValid=function(a){return this.statistics[a]&&this.loaded[a]},e.prototype.loadStatistics=function(a,b){var c=this,d=b.availableDefinitions.filter(function(a){return a.version===b.version})[0];this.api.resource("process-definition").statistics({id:d.id},function(b,d){if(b)throw b;c.statistics[a]=d,c.eventBus.emit("statistics.loaded",{type:a,data:d}),c.updateDiagram(a)})},e.prototype.removeAllBadges=function(a){var b=this.diagram[a].removeBadge;this.badges[a].forEach(function(a){b(a)}),this.badges[a]=[]},e.prototype.updateDiagram=function(a){if(this.setupIsValid(a)){this.removeAllBadges(a);for(var b=this.statistics[a],c=0;c<b.length;c++){var e=document.createElement("span");e.innerHTML=d,e.firstChild.textContent="{{ "+b[c].instances+" | abbreviateNumber }}";var f=b[c].id;f.indexOf("#multiInstanceBody")!==-1&&(f=f.substr(0,f.length-"#multiInstanceBody".length));var g=this.diagram[a].createBadge(f,{html:e,position:{bottom:12,left:-12}});e.bpmnJsId=b[c].id,this.badges[a].push(g)}this.eventBus.emit("instanceBadges.updated",a,b)}},b.exports=e},{}],206:[function(a,b,c){"use strict";var d=a("../../../../common/batch/instancesList"),e=function(a,b,c,e){this.migrationComponent=b,this.eventBus=a,this.delegate=new d(a,b,c,e,this);var f=this;this.data=this.migrationComponent.source,this.eventBus.on("diagram.loaded",function(){f.loadInstances()}),this.eventBus.on("migration.finished",function(){f.loadInstances()}),this.loadInstances()};e.prototype.setupIsValid=function(){return this.data.key&&this.data.version&&this.migrationComponent.migrationManager.processDefinition.source},e.prototype.updatePage=function(a){var b=this;this.delegate.selectAll=!1,a&&(this.delegate.currentPage=1,this.delegate.selectedInstances=[],this.delegate.applySelection());var c=this.delegate.search.getParams();c.processDefinitionId=this.migrationComponent.migrationManager.processDefinition.source.id,c.sortBy="instanceId",c.sortOrder="desc",c.firstResult=(this.delegate.currentPage-1)*this.delegate.pageSize,c.maxResults=this.delegate.pageSize;var d=JSON.stringify(c);if(this.currentParams!==d){this.currentParams=d,this.loadingState="LOADING";var e=function(){null!==b.delegate.instances&&null!==b.delegate.instancesCount&&(b.delegate.loadingState="LOADED",0===b.delegate.instancesCount&&(b.delegate.loadingState="EMPTY"),b.delegate.eventBus.emit("instanceList.updated"),b.delegate.eventBus.emit("state.updated"))};b.delegate.instances=b.delegate.instancesCount=null,b.delegate.api.resource("process-instance").list(c,function(a,c){b.delegate.instances=c,b.delegate.applySelection(),e()}),b.delegate.api.resource("process-instance").count(c,function(a,c){b.delegate.instancesCount=c.count,e()})}},e.prototype.loadInstances=function(){this.setupIsValid()&&this.updatePage(!0)},b.exports=e},{"../../../../common/batch/instancesList":81}],207:[function(a,b,c){"use strict";var d='<span class="badge-migration badge" tooltip="{{ \'PLGN_MIG_MAPPED_ACTIVITY\' | translate }}">\n  <span class="glyphicon glyphicon-ok"></span>\n</span>\n<div class="popover right">\n  <div class="arrow"></div>\n\n  <h3 class="popover-title">{{ \'PLGN_MIG_MAPPING\' | translate }}</h3>\n\n  <div class="popover-content">\n    <div class="from">\n      <b>{{ \'PLGN_MIG_FROM\' | translate }}</b>{{sourceActivity}}\n    </div>\n    <div class="to">\n      <b>{{ \'PLGN_MIG_TO\' | translate }}</b>{{targetActivity}}<br />\n    </div>\n    <label>\n      <input type="checkbox" {{checked}} />{{ \'PLGN_MIG_UPDATE_EVENT_TRIGGER\' | translate }}\n    </label>\n  </div>\n</div>\n',e='<span class="badge-migration badge migration-unmapped"\n      tooltip="{{ \'PLGN_MIG_NOT_MAPPED\' | translate }}">\n  <span class="glyphicon glyphicon-warning-sign"></span>\n</span>\n',f='<span class="badge-migration badge migration-error" tooltip="{{ \'PLGN_MIG_MAPPING_ERROR\' | translate }}">\n  <span class="glyphicon glyphicon-remove"></span>\n</span>\n<div class="popover right">\n  <div class="arrow"></div>\n\n  <h3 class="popover-title">{{ \'PLGN_MIG_MAPPING_ERROR\' | translate }}</h3>\n\n  <div class="popover-content">\n    {{errorReport}}\n  </div>\n</div>\n',g=function(a,b,c){this.eventBus=a,this.diagram=b,this._sdk=c,this.appliedBadges=[],this._openedPopovers=[],this.statistics=null,this.loaded={source:!1,target:!1};var d=this;this.eventBus.on("migrationPlan.updated",function(a){d.plan=a,d.updateDiagrams()}),this.eventBus.on("version.updated",function(a){d.loaded[a.type]=!1,d.updateDiagrams()}),this.eventBus.on("processDefinitionKey.updated",function(a){d.loaded[a.type]=!1,d.updateDiagrams()}),this.eventBus.on("diagram.rendered",function(a){d.loaded[a]=!0,d.updateDiagrams()}),this.eventBus.on("migration.finished",function(){d.updateDiagrams()}),this.eventBus.on("statistics.loaded",function(a){"source"===a.type&&(d.statistics=a.data,d.updateDiagrams())})};g.prototype.hasInstances=function(a){if(this.statistics)for(var b=0;b<this.statistics.length;b++){var c=this.statistics[b],d=c.id;if(d.indexOf("#multiInstanceBody")!==-1&&(d=d.substr(0,d.length-"#multiInstanceBody".length)),d===a.id)return c.instances>0}return!1},g.prototype.hasMapping=function(a){if(this.plan&&this.plan.instructions)for(var b=0;b<this.plan.instructions.length;b++)for(var c=this.plan.instructions[b],d=0;d<c.sourceActivityIds.length;d++)if(c.sourceActivityIds[d]===a)return c.targetActivityIds;return!1},g.prototype.mapped=g.prototype.hasMapping;var h=function(a){a.stopPropagation()};g.prototype.createBadge=function(a,b,c,e){var f,g="source"===a?b:c;if(this.loaded[a]){var i=this,j=document.createElement("span"),k=e;if(e===d){k=e.replace("{{sourceActivity}}",this.diagram.getNameForId("source",b)).replace("{{targetActivity}}",this.diagram.getNameForId("target",c)).replace("{{checked}}",this._shouldUpdateEventTrigger(b)?"checked":""),j.innerHTML=k;var l=j.querySelector("label");this.diagram.canUpdateEventTrigger(b)?j.querySelector("input").addEventListener("change",function(a){i.plan&&i.plan.instructions&&(i.plan.instructions.filter(function(a){return a.sourceActivityIds.indexOf(b)!==-1})[0].updateEventTrigger=a.target.checked,i.eventBus.emit("migrationPlan.updated",i.plan))}):l.parentNode.removeChild(l),f=j.querySelector(".popover"),j.querySelector(".badge").addEventListener("click",this._togglePopover(a,g)),f.addEventListener("click",h)}else e.indexOf("migration-error")!==-1?(j.innerHTML=k,f=j.querySelector(".popover"),j.querySelector(".badge").addEventListener("click",this._togglePopover(a,g)),f.addEventListener("click",h)):j.innerHTML=k;var m=this.diagram[a].createBadge(g,{html:j,position:{top:-12,right:8}});this.appliedBadges.push({type:a,id:m,activityId:g,html:j})}},g.prototype._getPopoverMarkup=function(a,b){var c=this.appliedBadges.filter(function(c){return c.type===a&&c.activityId===b})[0];return c&&c.html.querySelector(".popover")},g.prototype._isPopoverOpen=function(a,b){return!!this._openedPopovers.filter(function(c){return c.type===a&&c.id===b}).length},g.prototype._openPopover=function(a,b){var c=this._getPopoverMarkup(a,b);if(c){c.style.display="block";var d=this,e=function(){d._closePopover(a,b)};document.body.addEventListener("click",e),this._openedPopovers.push({type:a,id:b,closeFct:e}),d.eventBus.emit("popover.opened",a,b)}},g.prototype._closePopover=function(a,b){var c=this._openedPopovers.filter(function(c){return c.type===a&&c.id===b})[0],d=c.closeFct;document.body.removeEventListener("click",d),this._getPopoverMarkup(a,b).style.display="none",this._openedPopovers.splice(this._openedPopovers.indexOf(c),1)},g.prototype._togglePopover=function(a,b){var c=this;return function(d){d.stopPropagation(),c._isPopoverOpen(a,b)?c._closePopover(a,b):c._openPopover(a,b)}},g.prototype._shouldUpdateEventTrigger=function(a){return this.plan&&this.plan.instructions&&this.plan.instructions.filter(function(b){return b.sourceActivityIds.indexOf(a)!==-1})[0].updateEventTrigger},g.prototype.clearBadges=function(){for(var a=0;a<this.appliedBadges.length;a++){var b=this.appliedBadges[a];this.loaded[b.type]&&this.diagram[b.type].removeBadge(b.id),this._isPopoverOpen(b.type,b.activityId)&&this._closePopover(b.type,b.activityId)}this.appliedBadges=[],this._openedPopovers=[]},g.prototype._validatePlan=function(a){if(this.plan){if(JSON.stringify(this.plan)===this._cachedPlan||this._validationInProgress)return a(this._cachedValidation);var b=this,c=this.plan;this._validationInProgress=!0,this._sdk.resource("migration").validate(this.plan,function(d,e){b._validationInProgress=!1,b._cachedPlan=JSON.stringify(c),b._cachedValidation=e,a(e)})}else a(null)},g.prototype._getErrorReportForActivityId=function(a,b){if(b){var c=b.instructionReports.filter(function(b){return b.instruction.sourceActivityIds[0]===a});if(c.length)return c[0].failures.join(". ")}},g.prototype.updateDiagrams=function(){var a=this;this._validatePlan(function(b){a._validationReport=b;var c=JSON.parse(JSON.stringify(a._openedPopovers));if(a.clearBadges(),a.loaded.source){var g=a.diagram.source.getElements(function(a){return a.businessObject.$instanceOf("bpmn:FlowNode")});g.forEach(function(c){if(a.hasInstances(c)&&!a.hasMapping(c.id))a.createBadge("source",c.id,null,e);else if(a.hasMapping(c.id)){var g=a.mapped(c.id),h=d,i=a._getErrorReportForActivityId(c.id,b);i&&(h=f.replace("{{errorReport}}",i)),a.createBadge("source",c.id,g[0],h),g.forEach(function(b){a.createBadge("target",c.id,b,h)})}}),c.forEach(function(b){a._openPopover(b.type,b.id)}),a.eventBus.emit("instructionBadges.updated")}})},b.exports=g},{}],208:[function(a,b,c){"use strict";b.exports=function(a,b,c,d){a.on("processDefinitions.loaded",function(){var a=d.search();b.source.key=a.sourceKey,b.target.key=a.targetKey,b.source.version=parseInt(a.sourceVersion,10),b.target.version=parseInt(a.targetVersion,10)}),a.on("processVersions.loaded",function(a){var c=parseInt(d.search()[a.type+"Version"],10);isNaN(c)||(b[a.type].version=c)}),a.on("loading.finished",function(a){var b={sourceKey:void 0,targetKey:void 0,sourceVersion:void 0,targetVersion:void 0};a.source.key&&(b.sourceKey=a.source.key),a.source.version&&(b.sourceVersion=a.source.version),a.target.key&&(b.targetKey=a.target.key),a.target.version&&(b.targetVersion=a.target.version),c.updateSilently(b,!0)})}},{}],209:[function(a,b,c){"use strict";var d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/migration/app/page/templates/mappingOverlay.html -->\n<button class="btn btn-sm btn-default create-mapping" tooltip="{{ \'PLGN_MIG_CREATE_MAPPING\' | translate }}">\n  <span class="glyphicon glyphicon-share-alt"></span>\n</button>\n<button class="btn btn-sm btn-default remove-mapping" tooltip="{{ \'PLGN_MIG_REMOVE_MAPPING\' | translate }}">\n  <span class="glyphicon glyphicon-remove"></span>\n</button>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/migration/app/page/templates/mappingOverlay.html -->\n',e=function(a,b){this.eventBus=a,this.diagram=b,this.overlays={},this.createModeActive=!1;var c=this;this.eventBus.on("migrationPlan.updated",function(a){c.plan=a}),this.eventBus.on("diagram.rendered",function(a){"source"===a&&c.createOverlays()}),this.eventBus.on("element.hovered",function(a,b){"source"===a&&c.overlays[b.businessObject.id]&&(c.overlays[b.businessObject.id].elementHovered=!0,c.updateOverlays())}),this.eventBus.on("element.unhovered",function(a,b){"source"===a&&c.overlays[b.businessObject.id]&&(c.overlays[b.businessObject.id].elementHovered=!1,c.updateOverlays())})};e.prototype.updateOverlays=function(){for(var a in this.overlays){var b=this.overlays[a];b.elementHovered||b.buttonHovered||Date.now()-b.lastHovered<200?(b.content.style.display="inline-block",this.hasMapping(b.element)?(b.content.querySelector(".create-mapping").style.display="none",b.content.querySelector(".remove-mapping").style.display="inline-block"):(b.content.querySelector(".create-mapping").style.display="inline-block",b.content.querySelector(".remove-mapping").style.display="none")):b.content.style.display="none"}},e.prototype.hasMapping=function(a){return this.setupIsValid()&&this.plan.instructions.filter(function(b){return b.sourceActivityIds.indexOf(a.id)!==-1}).length>0},e.prototype.setupIsValid=function(){return this.plan},e.prototype.createOverlays=function(){this.overlays={};var a=this.diagram.source,b=a.getViewer(),c=b.get("elementRegistry"),d=c.filter(function(a){return a}),e=this;d.forEach(function(a){var c=a.businessObject;c.$instanceOf("bpmn:FlowNode")&&(e.createOverlayFor(c),b.get("canvas").addMarker(c.id,"selectable"))}),this.eventBus.emit("mappingOverlay.created")},e.prototype.setupHoveringListenersFor=function(a,b){var c=this;a.addEventListener("mouseenter",function(){c.overlays[b.id].buttonHovered=!0,c.updateOverlays()}),a.addEventListener("mouseleave",function(){c.overlays[b.id].buttonHovered=!1,c.overlays[b.id].lastHovered=Date.now(),c.updateOverlays(),window.setTimeout(function(){c.updateOverlays()},210)})},e.prototype.removeMapping=function(a){var b=this.plan.instructions.filter(function(b){return b.sourceActivityIds.indexOf(a.id)!==-1})[0];b&&(this.plan.instructions.splice(this.plan.instructions.indexOf(b),1),this.eventBus.emit("migrationPlan.updated",this.plan)),this.updateOverlays()};var f=function(a){return function(){this.removeMapping(a)}},g=function(a){return function(b){var c=this,d=c.diagram.source.getViewer().get("elementRegistry").get(a.id);this.createModeActive=!0,c.highlightDropTargets();var e=0,f=!1,g={x:0,y:0},h=function(a){f=!0,e=0,g.x=a.screenX,g.y=a.screenY},i=function(a){f&&(e+=Math.abs(g.x-a.screenX),e+=Math.abs(g.y-a.screenY)),c.eventBus.emit("mapping.mouseMoved",d,a)},j=function(a){27===a.keyCode&&k()},k=function(a){document.body.removeEventListener("mousedown",h,!0),document.body.removeEventListener("mousemove",i,!0),document.body.removeEventListener("mouseup",m,!0),document.body.removeEventListener("keydown",j,!0),c.createModeActive=!1,c.clearDropTargets(),c.eventBus.emit("mapping.finished",d,a),c.eventBus.emit("state.updated")},l=function(a){for(var b=a,d="";b.parentNode;){if(b.getAttribute("data-element-id")){d=b.getAttribute("data-element-id");break}b=b.parentNode}return c.diagram.target.getViewer()._container.contains(b)?d:""},m=function(b){if(e>10)return void(f=!1);var d=l(b.target);if(k(d),d){var g=c.diagram.target.getViewer().get("elementRegistry").get(d).businessObject;g&&g.$instanceOf("bpmn:FlowNode")&&c.createMapping(a,g)}c.eventBus.emit("state.updated")};document.body.addEventListener("mousedown",h,!0),document.body.addEventListener("mousemove",i,!0),document.body.addEventListener("mouseup",m,!0),document.body.addEventListener("keydown",j,!0),c.eventBus.emit("mapping.started",d,b),c.eventBus.emit("state.updated")}};e.prototype.highlightDropTargets=function(){var a=this.diagram.target,b=a.getViewer(),c=b.get("elementRegistry"),d=c.filter(function(a){return a});d.forEach(function(a){var c=a.businessObject;c.$instanceOf("bpmn:FlowNode")&&b.get("canvas").addMarker(c.id,"drop-target")})},e.prototype.clearDropTargets=function(){var a=this.diagram.target,b=a.getViewer(),c=b.get("elementRegistry"),d=c.filter(function(a){return a});d.forEach(function(a){var c=a.businessObject;c.$instanceOf("bpmn:FlowNode")&&b.get("canvas").removeMarker(c.id,"drop-target")})},e.prototype.createMapping=function(a,b){var c=this.plan.instructions.filter(function(b){return b.sourceActivityIds[0]===a.id})[0];c?c.targetActivityIds[0]=b.id:this.plan.instructions.push({sourceActivityIds:[a.id],targetActivityIds:[b.id],updateEventTrigger:!1}),this.eventBus.emit("migrationPlan.updated",this.plan)},e.prototype.createOverlayFor=function(a){var b=document.createElement("div");b.style.display="none",b.innerHTML=d,this.setupHoveringListenersFor(b,a),b.querySelector("button.remove-mapping").addEventListener("click",f(a).bind(this)),b.querySelector("button.create-mapping").addEventListener("click",g(a).bind(this)),this.diagram.source.createBadge(a.id,{html:b,position:{bottom:18,right:18}}),this.overlays[a.id]={content:b,element:a}},b.exports=e},{}],210:[function(a,b,c){"use strict";var d=a("./migrationManager"),e=function(a,b){var c=this,e=new d(a);this.migrationManager=e,this.eventBus=b,this.hasValidPlan=!1,this.activateTab("mapping"),this.outstandingRequests=0,this.availableProcessDefinitions=[],this.source={key:"",loadedKey:"",version:0,loadedVersion:{key:"",version:0},availableDefinitions:[],diagramXml:""},this.target={key:"",loadedKey:"",version:0,loadedVersion:{key:"",version:0},availableDefinitions:[],diagramXml:""},this.startRequest(),e.getAllProcessDefinitions(function(a){c.availableProcessDefinitions=a,b.emit("processDefinitions.loaded",a),b.emit("state.updated"),c.endRequest()})};e.prototype.startRequest=function(){this.outstandingRequests++},e.prototype.endRequest=function(){this.outstandingRequests--,0===this.outstandingRequests&&this.eventBus.emit("loading.finished",{source:this.source,target:this.target})},e.prototype.getPageContentId=function(){return this.pageContentId},e.prototype.execute=function(a){this.eventBus.emit("migration.execute",a),this.activateTab("progress")},e.prototype.activateTab=function(a){this.pageContentId=a,this.eventBus.emit("tab.changed",a)},e.prototype.prefill=function(){if(!this.target.key&&this.source.key&&(this.target.key=this.source.key,this.updateProcDef("target")),!this.source.key&&this.target.key&&(this.source.key=this.target.key,this.updateProcDef("source")),!this.source.version&&this.source.availableDefinitions.length){var a=this.source.availableDefinitions;a.length>1?this.source.version=a[a.length-2].version:this.source.version=a[a.length-1].version,this.updateVersion("source")}!this.target.version&&this.target.availableDefinitions.length&&(this.target.version=this.target.availableDefinitions[this.target.availableDefinitions.length-1].version,this.updateVersion("target")),this.eventBus.emit("prefill.completed")},e.prototype.update=function(){this.updateProcDef("source"),this.updateProcDef("target"),this.updateVersion("source"),this.updateVersion("target")},e.prototype.updateProcDef=function(a){var b=this[a];if(b.version=parseInt(b.version,10),b.key===b.loadedKey)return!1;b.loadedKey=b.key;var c=this.eventBus,d=this.migrationManager,e=this;return c.emit("processDefinitionKey.updated",{type:a,key:b.key}),b.diagramXml=void 0,this.hasValidPlan=!1,this.migrationManager.setProcessDefinition(a,null),b.availableDefinitions=[],b.key?(this.startRequest(),d.getVersionsForProcessDefinitionKey(b.key,function(d){b.availableDefinitions=d,c.emit("processVersions.loaded",{processDefinitionKey:b.key,versions:d,type:a});var f=d.map(function(a){return a.version});f.indexOf(b.version)===-1?(b.version=void 0,c.emit("version.updated",{type:a,version:b.version})):e.updateVersion(a),c.emit("state.updated"),e.prefill(),e.endRequest()}),!0):(b.version=0,this.updateVersion(a),!1)},e.prototype.updateVersion=function(a){var b=this,c=this[a];if(c.version=parseInt(c.version,10),c.version===c.loadedVersion.version&&c.key===c.loadedVersion.key)return!1;var d=this.eventBus,e=this.migrationManager;d.emit("version.updated",{type:a,version:c.version}),c.diagramXml=void 0,this.hasValidPlan=!1;var f=c.availableDefinitions.filter(function(a){return a.version===c.version})[0];f?(c.loadedVersion.version=c.version,c.loadedVersion.key=c.key,e.setProcessDefinition(a,f),this.startRequest(),e.getMigrationPlan(function(f){b.hasValidPlan=!!f,b.plan=f,d.emit("migrationPlan.updated",f),d.emit("state.updated"),e.getDiagramXml(a,function(e){c.diagramXml=e,d.emit("diagram.loaded",{type:a,xml:e,obj:c}),b.endRequest()})})):(c.loadedVersion.version=0,c.loadedVersion.key="",this.migrationManager.setProcessDefinition(a,null),0===this.outstandingRequests&&this.eventBus.emit("loading.finished",{source:this.source,target:this.target}))},b.exports=e},{"./migrationManager":211}],211:[function(a,b,c){"use strict";var d=function(a){this.sdk=a,this.processDefinition={source:null,target:null}};d.prototype.getAllProcessDefinitions=function(a){this.sdk.resource("process-definition").list({latestVersion:!0},function(b,c){if(b)throw b;a(c.items)})},d.prototype.getVersionsForProcessDefinitionKey=function(a,b){this.sdk.resource("process-definition").list({key:a},function(a,c){if(a)throw a;b(c.items)})},d.prototype.setProcessDefinition=function(a,b){this.processDefinition[a]=b},d.prototype.getDiagramXml=function(a,b){var c=this.processDefinition[a];c?this.sdk.resource("process-definition").xml({id:c.id},function(a,c){if(a)throw a;b(c.bpmn20Xml)}):b()},d.prototype.getMigrationPlan=function(a){if(this.processDefinition.source&&this.processDefinition.target){var b=this;this.sdk.resource("migration").generate({sourceProcessDefinitionId:this.processDefinition.source.id,targetProcessDefinitionId:this.processDefinition.target.id},function(c,d){if(c)throw c;b.migrationPlan=d,a&&a(d)})}else a()},d.prototype.executeMigrationPlan=function(a,b){this.sdk.resource("migration").execute(a,b)},d.prototype.executeMigrationPlanAsync=function(a,b){this.sdk.resource("migration").executeAsync(a,b)},d.prototype.getProcessInstancesForSourceDefinition=function(a){this.processDefinition.source&&this.sdk.resource("process-instance").list({processDefinitionId:this.processDefinition.source.id},function(b,c){if(b)throw b;a(c.items)})},b.exports=d},{}],212:[function(a,b,c){"use strict";var d=function(a,b){this.plan={},this.diagram=b;var c=this;a.on("migrationPlan.updated",function(a){c.plan=a,c.handleMultiInstance()}),a.on("diagram.rendered",function(){c.handleMultiInstance()})};d.prototype.handleMultiInstance=function(){if(this.plan&&this.plan.instructions.length&&this.diagram.loaded.source&&this.diagram.loaded.target){var a=this;this.plan.instructions.forEach(function(b){a.isMIActivity(b)&&!a.containsMIBodyForActivity(b)?a.addMIBodyForActivity(b):a.isMIBody(b)&&!a.containsMIActivity(b)&&a.removeMIBody(b)})}},d.prototype.isMIActivity=function(a){var b=this.diagram.source.getElement(a.sourceActivityIds[0]),c=this.diagram.target.getElement(a.targetActivityIds[0]);return b&&b.businessObject.loopCharacteristics&&c&&c.businessObject.loopCharacteristics},d.prototype.containsMIBodyForActivity=function(a){return this.plan.instructions.filter(function(b){return b.sourceActivityIds[0]===a.sourceActivityIds[0]+"#multiInstanceBody"&&b.targetActivityIds[0]===a.targetActivityIds[0]+"#multiInstanceBody"}).length},d.prototype.addMIBodyForActivity=function(a){this.plan.instructions.push({sourceActivityIds:[a.sourceActivityIds[0]+"#multiInstanceBody"],targetActivityIds:[a.targetActivityIds[0]+"#multiInstanceBody"],updateEventTrigger:!1})},d.prototype.isMIBody=function(a){return a.sourceActivityIds[0].indexOf("#multiInstanceBody")!==-1&&a.targetActivityIds[0].indexOf("#multiInstanceBody")!==-1},d.prototype.containsMIActivity=function(a){return this.plan.instructions.filter(function(b){return b.sourceActivityIds[0]+"#multiInstanceBody"===a.sourceActivityIds[0]&&b.targetActivityIds[0]+"#multiInstanceBody"===a.targetActivityIds[0];
}).length},d.prototype.removeMIBody=function(a){this.plan.instructions.splice(this.plan.instructions.indexOf(a),1)},b.exports=d},{}],213:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.events:"undefined"!=typeof c?c.events:null,e=a("../components/migrationComponent"),f=a("../components/diagramInteraction"),g="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,h=JSON.parse('{\n  "types": [\n    {\n      "id": {\n        "key": "processInstanceIds",\n        "value": "PLGN_MIG_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "businessKey",\n        "value": "PLGN_MIG_BUSINESS_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "PLGN_MIG_LIKE"\n        }\n      ],\n      "default": true\n    },\n    {\n      "id": {\n        "key": "superProcessInstance",\n        "value": "PLGN_MIG_PARENT_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "subProcessInstance",\n        "value": "PLGN_MIG_SUB_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "variables",\n        "value": "PLGN_MIG_VARIABLE"\n      },\n      "allowDates": true,\n      "extended": true\n    },\n    {\n      "id": {\n        "key": "active",\n        "value": "PLGN_MIG_ACTIVE"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "suspended",\n        "value": "PLGN_MIG_SUSPENDED"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "incidentId",\n        "value": "PLGN_MIG_INCIDENT_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "incidentType",\n        "value": "PLGN_MIG_INCIDENT_TYPE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "incidentMessage",\n        "value": "PLGN_MIG_INCIDENT_MESSAGE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "PLGN_MIG_LIKE"\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "tenantIdIn",\n        "value": "PLGN_MIG_TENANT_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "activityIdIn",\n        "value": "PLGN_MIG_ACTIVITY_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "withoutTenantId",\n        "value": "PLGN_MIG_WITHOUT_TENANT_ID"\n      },\n      "basic": true\n    }\n  ],\n  "operators": {\n        "undefined":  [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        },\n        {\n          "key": "like",\n          "value": "PLGN_MIG_LIKE"\n        }\n      ],\n        "string":     [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        },\n        {\n          "key": "like",\n          "value": "PLGN_MIG_LIKE"\n        }\n      ],\n        "number":     [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        }\n      ],\n        "boolean":    [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        }\n      ],\n        "object":     [{\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        }],\n        "date":     [{\n          "key": "lteq",\n          "value": "PLGN_MIG_BEFORE"\n        },\n        {\n          "key": "gteq",\n          "value": "PLGN_MIG_AFTER"\n        }]\n  },\n  "tooltips": {\n    "inputPlaceholder": "PLGN_MIG_FILTER_INSTANCES",\n    "invalid": "PLGN_MIG_INVALUD",\n    "deleteSearch": "PLGN_MIG_REMOVE",\n    "type": "PLGN_MIG_TYPE",\n    "name": "PLGN_MIG_PROPERTY",\n    "operator": "PLGN_MIG_OPERATOR",\n    "value": "PLGN_MIG_VALUE"\n  },\n  "operationEvent": "migration",\n  "arrayTypes": ["variables", "processInstanceIds", "activityIdIn", "tenantIdIn"],\n  "nonSanitizedTypes": ["variables"]\n}\n');b.exports=["$scope","page","camAPI","$modal","search","$location","$translate",function(b,c,i,j,k,l,m){var n=new d;n.on("state.updated",function(){var a=b.$root.$$phase;"$apply"!==a&&"$digest"!==a&&b.$apply()}),b.$on("$destroy",function(){n.removeAllListeners()}),b.$watch(function(){return l.search()||{}},function(a){b.ctrl.source.key=a.sourceKey,b.ctrl.source.version=a.sourceVersion,b.ctrl.target.key=a.targetKey,b.ctrl.target.version=a.targetVersion,b.ctrl.update()}),b.ctrl=new e(i,n),b.diagram=new f(n),new(a("../components/multiInstanceHandler"))(n,b.diagram),a("../components/locationStore")(n,b.ctrl,k,l),a("../components/breadcrumbs")(c,b.$root);var o=new(a("../components/instructionBadge"))(n,b.diagram,i);b.mappingBadge=new(a("../components/mappingBadge"))(n,b.diagram),new(a("../components/instancesBadge"))(n,b.diagram,i),g.forEach(h.tooltips,function(a,b){h.tooltips[b]=m.instant(a)}),h.types.map(function(a){return a.id.value=m.instant(a.id.value),a.operators&&(a.operators=a.operators.map(function(a){return a.value=m.instant(a.value),a})),a}),b.instancesCtrl=new(a("../components/instancesList"))(n,b.ctrl,i,h),b.confirmCtrl=new(a("../components/confirmationComponent"))(n,b.ctrl,b.instancesCtrl.delegate),b.executionCtrl=new(a("../components/executionComponent"))(n,b.ctrl,b.instancesCtrl.delegate,m),b.arrows=new(a("../components/arrow"))(document.querySelector(".migration-page"),n,b.diagram,o),b.diagramLink=new(a("../components/diagramLink"))(n,b.diagram),b.$watch("instancesCtrl.delegate.search.searches",function(){b.instancesCtrl.loadInstances()})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/arrow":199,"../components/breadcrumbs":200,"../components/confirmationComponent":201,"../components/diagramInteraction":202,"../components/diagramLink":203,"../components/executionComponent":204,"../components/instancesBadge":205,"../components/instancesList":206,"../components/instructionBadge":207,"../components/locationStore":208,"../components/mappingBadge":209,"../components/migrationComponent":210,"../components/multiInstanceHandler":212}],214:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=d.module("cockpit.plugin.migration.page",[]);e.controller("migrationCtrl",a("./controllers/migration")),e.config(a("./routeConfig")),b.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./controllers/migration":213,"./routeConfig":215}],215:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.jquery:"undefined"!=typeof a?a.jquery:null;b.exports=["$routeProvider",function(a){a.when("/migration",{templateUrl:c("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/migration/index.html",authentication:"required",reloadOnSearch:!1})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],216:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./page/index");b.exports=d.module("cockpit.plugin.migration",[e.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./page/index":214}],217:[function(a,b,c){(function(a){var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null;b.exports.fetchTemplates=function(a,b,d){function e(a){return d(a,["data"])}var f=c.element("base").attr("cockpit-api"),g=f+"plugin/cockpitEE/static/app/modification/diagramPlugins/tools.html",h=f+"plugin/cockpitEE/static/app/modification/diagramPlugins/badges.html";return a.all([b.get(g).then(e),b.get(h).then(e)])},b.exports.setupDragAndDrop=function(a,b,d,e){var f=b.tools.parent().parent().find(a).first(),g=c.element(".djs-overlay-container"),h=function(a){var b=g.css("transform")||g.css("-ms-transform"),d=parseFloat(b.substr(7)),e=c.element(".badge-important:visible",f.parent()).length?0:20;f.css({left:(a.clientX-i.x)/d+"px",top:(a.clientY-i.y)/d-e+"px"}),a.stopImmediatePropagation()},i={};f.mousedown(function(a){i.x=a.clientX,i.y=a.clientY,c.element(document).mousemove("mousemove",h),f.addClass("drag"),a.stopPropagation()}).mouseup(function(a){c.element(document).unbind("mousemove",h),f.removeAttr("style").removeClass("drag"),a.stopPropagation();for(var b=document.elementFromPoint(a.clientX,a.clientY);b.parentNode!==document&&null===b.getAttribute("data-element-id");)b=b.parentNode;var g=d[b.getAttribute("data-element-id")];g&&g.$instanceOf("bpmn:FlowNode")&&e(g)})},b.exports.addHovers=function(a,b,c,d,e){var f=document.querySelector('[data-element-id="'+b.id+'"]'),g=null,h=function(c){g=e(function(){a.tools.hide(),b.dropdownOpen&&(b.dropdownOpen=!1,a.dropdownToggle.dropdown("toggle"))},c)},i=function(){return g&&e.cancel(g)};c.observe("modificationHighlight",function(c){var d=a.badgesContent;c&&c.id===b.id?d.addClass("hovered"):d.removeClass("hovered")}),f.addEventListener("mouseover",function(){a.tools.show(),c.set("modificationHighlight",b),i(),d.$apply()}),f.addEventListener("mouseout",function(){h(50),c.set("modificationHighlight",null)}),a.tools[0].addEventListener("mouseover",function(){a.tools.show(),i(),d.$apply()}),a.tools[0].addEventListener("mouseout",function(){h(100)})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],218:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null;b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processDefinition.diagram.plugin",{id:"activity-definition-modification-overlay",overlay:["$scope","modification","control","processData","pageData","processDiagram","search","$translate",function(a,b,d,e,f,g,h,i){function j(a){return a&&"modification-process-instances"===a.detailsTab}function k(a){e.observe(["activityInstanceStatistics","modificationInstructions"],function(b,c){t=c,s=b.reduce(function(a,b){return a[b.id]=b.instances,a},{}),a()})}function l(a){return c.extend({instructionsContainElement:n(a,t),offerMI:!!a.loopCharacteristics,isFlowNode:a.$instanceOf("bpmn:FlowNode"),offerCancel:s[a.id],offerCancelMI:!!a.loopCharacteristics&&s[a.id]},m(a))}function m(a){var b=t.filter(function(b){return b.id===a.id||b.id===a.id+"#multiInstanceBody"}),c=b.some(function(a){return"startBefore"===a.operation||"startAfter"===a.operation}),d=b.some(function(a){return"cancel"===a.operation});return{add:c,remove:d}}function n(a,b){var c=b.map(function(a){return a.id});return c.indexOf(a.id)!==-1||c.indexOf(a.id+"#multiInstanceBody")!==-1}function o(a,b,d){var f,g;s[d.id]?(f=d.id,g=!1):s[d.id+"#multiInstanceBody"]&&(f=d.id+"#multiInstanceBody",g=!0);var h={operation:"startBefore",id:a.id,name:a.name||a.$type.substr(5)+" ("+a.id.substr(0,8)+"...)",bpmnElement:a},i={operation:"cancel",id:f,name:(d.name||d.$type.substr(5)+" ("+f.substr(0,8)+"...)")+(g?" (Multi Instance Body)":""),bpmnElement:d};a.id===f?(t.push(i),t.push(h)):(t.push(h),t.push(i)),e.set("modificationInstructions",c.copy(t))}function p(a,b){var d;q(),"cancelMI"===b&&s[a.id]?(d={operation:"cancel",id:a.id+"#multiInstanceBody",name:(a.name||a.$type.substr(5)+" ("+a.id.substr(0,8)+"...)")+" (Multi Instance Body)",bpmnElement:a},t.push(d)):("cancel"===b&&s[a.id]||"cancel"!==b)&&(d={operation:b,id:a.id,name:a.name||a.$type.substr(5)+" ("+a.id.substr(0,8)+"...)",bpmnElement:a},"startBeforeMI"!==b&&"startAfterMI"!==b||(d.operation="startBeforeMI"===b?"startBefore":"startAfter",d.id+="#multiInstanceBody",d.name+=" (Multi Instance Body)"),t.push(d)),e.set("modificationInstructions",c.copy(t))}function q(){var a=c.copy(h());a.detailsTab="modification-process-instances",h.updateSilently(a)}function r(a,b){b.offerMI?(a.startBeforeMI.show(),a.startAfterMI.show()):(a.startBeforeMI.hide(),a.startAfterMI.hide()),b.offerCancel?a.cancel.show():a.cancel.hide(),b.offerCancelMI?a.cancelMI.show():a.cancelMI.hide(),b.instructionsContainElement?(a.badges.show(),a.badgesContent.text((b.add?"+":"")+(b.add&&b.remove?", ":"")+(b.remove?"-":"")),a.badgesContent.tooltip({container:"body",title:i.instant("PLGN_MOD_PLANNED"),placement:"top",animation:!1})):a.badges.hide()}var s,t,u={isModificationTab:j,observe:k,getDataForElement:l,updateNodes:r,setActiveTabToModification:q,onDragAndDrop:o,selectOperation:p};b(a,d,e,f,g,u)}]})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],219:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null;b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processDefinition.history.diagram.plugin",{id:"activity-definition-restart-overlay",overlay:["$scope","modification","control","processData","pageData","processDiagram","search","$translate",function(a,b,d,e,f,g,h,i){function j(a){return a&&"restart-process-instances"===a.detailsTab}function k(a){e.observe(["modificationInstructions"],function(b){s=b,a()})}function l(a){return c.extend({instructionsContainElement:n(a,s),offerMI:!!a.loopCharacteristics,isFlowNode:a.$instanceOf("bpmn:FlowNode")},m(a))}function m(a){var b=s.filter(function(b){return b.id===a.id||b.id===a.id+"#multiInstanceBody"}),c=b.some(function(a){return"startBefore"===a.operation||"startAfter"===a.operation});return{add:c}}function n(a,b){var c=b.map(function(a){return a.id});return c.indexOf(a.id)!==-1||c.indexOf(a.id+"#multiInstanceBody")!==-1}function o(a,b){var d;p(),"cancelMI"===b&&r[a.id]?(d={operation:"cancel",id:a.id+"#multiInstanceBody",name:(a.name||a.$type.substr(5)+" ("+a.id.substr(0,8)+"...)")+i.instant("PLGN_MOD_MULTI_INSTANCE_BODY"),bpmnElement:a},s.push(d)):("cancel"===b&&r[a.id]||"cancel"!==b)&&(d={operation:b,id:a.id,name:a.name||a.$type.substr(5)+" ("+a.id.substr(0,8)+"...)",bpmnElement:a},"startBeforeMI"!==b&&"startAfterMI"!==b||(d.operation="startBeforeMI"===b?"startBefore":"startAfter",d.id+="#multiInstanceBody",d.name+=i.instant("PLGN_MOD_MULTI_INSTANCE_BODY")),s.push(d)),e.set("modificationInstructions",c.copy(s))}function p(){var a=c.copy(h());a.detailsTab="restart-process-instances",h.updateSilently(a)}function q(a,b){b.offerMI?(a.startBeforeMI.show(),a.startAfterMI.show()):(a.startBeforeMI.hide(),a.startAfterMI.hide()),a.cancel.hide(),a.cancelMI.hide(),b.instructionsContainElement?(a.badges.show(),a.badgesContent.text((b.add?"+":"")+(b.add&&b.remove?", ":"")+(b.remove?"-":"")),a.badgesContent.tooltip({container:"body",title:i.instant("PLGN_MOD_PLANNED"),placement:"top",animation:!1})):a.badges.hide()}var r,s,t={isModificationTab:j,observe:k,getDataForElement:l,updateNodes:q,setActiveTabToModification:p,selectOperation:o};b(a,d,e,f,g,t)}]})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],220:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e="undefined"!=typeof window?window["cam-common"]:"undefined"!=typeof c?c["cam-common"]:null,f=a("./instanceModification"),g=a("./definitionModification"),h=a("./definitionRestart"),i=a("./modificationService"),j=d.module("cockpit.plugin.modification.diagramPlugins",[e.name]);j.config(f),j.config(g),j.config(h),j.factory("modification",i),b.exports=j}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./definitionModification":218,"./definitionRestart":219,"./instanceModification":221,"./modificationService":222}],221:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null;b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processInstance.diagram.plugin",{id:"activity-instance-modification-overlay",overlay:["$scope","control","processData","pageData","processDiagram","search","get","modification","$translate",function(a,b,d,e,f,g,h,i,j){function k(a){return a&&"modification-process-instances"===a.tab}function l(a){d.observe(["activityIdToInstancesMap","instanceIdToInstanceMap","modificationInstructions","processInstance"],function(b,c,d,e){y=b,z=c,A=d,B=e,a()})}function m(a){return c.extend({instructionsContainElement:o(a,A),offerMI:!!a.loopCharacteristics,isFlowNode:a.$instanceOf("bpmn:FlowNode"),offerCancel:y[a.id],offerCancelMI:y[a.id+"#multiInstanceBody"]},n(a))}function n(a){for(var b=0,c=0,d=0;d<A.length;d++)A[d].id!==a.id&&A[d].id!==a.id+"#multiInstanceBody"||("cancel"===A[d].operation?c+=Object.keys(A[d].instances).map(function(a){return A[d].instances[a]}).filter(function(a){return a}).length||Object.keys(A[d].instanceIds).length||1:"startBefore"!==A[d].operation&&"startAfter"!==A[d].operation||(b+=A[d].repeat));return{add:b,remove:c}}function o(a,b){var c=b.map(function(a){return a.id});return c.indexOf(a.id)!==-1||c.indexOf(a.id+"#multiInstanceBody")!==-1}function p(a,b,e){var f,g;y[e.id]?(f=e.id,g=!1):y[e.id+"#multiInstanceBody"]&&(f=e.id+"#multiInstanceBody",g=!0);var h={};(y[a.id]||[]).forEach(function(a){h[a.id]=!1}),A.push({operation:"startBefore",id:a.id,name:a.name||a.$type.substr(5)+" ("+a.id.substr(0,8)+"...)",instanceIds:y[a.id]||[],instances:h,instanceInfo:{},variables:[],ancestors:r(a),bpmnElement:a,repeat:Object.keys(y[f]).length});var i={};(y[f]||[]).forEach(function(a){i[a.id]=!0}),A.push({operation:"cancel",id:f,name:e.name+(g?j.instant("PLGN_MOD_MULTI_INSTANCE_BODY"):"")||e.$type.substr(5)+" ("+f.substr(0,8)+"...)",instanceIds:y[f]||[],instances:i,instanceInfo:{},variables:[],ancestors:r(e),bpmnElement:e,repeat:1}),d.set("modificationInstructions",c.copy(A))}function q(a,b){var e,f;w(),"cancelMI"===b&&y[a.id+"#multiInstanceBody"]?(e={},(y[a.id+"#multiInstanceBody"]||[]).forEach(function(a){e[a.id]=!0}),f={operation:"cancel",id:a.id+"#multiInstanceBody",name:a.name+j.instant("PLGN_MOD_MULTI_INSTANCE_BODY")||a.$type.substr(5)+" ("+a.id.substr(0,8)+"...)",instanceIds:y[a.id+"#multiInstanceBody"]||[],instances:e,instanceInfo:{},variables:[],ancestors:r(a),bpmnElement:a,repeat:1},A.push(f)):("cancel"===b&&y[a.id]||"cancel"!==b)&&(e={},(y[a.id]||[]).forEach(function(a){e[a.id]=!0}),f={operation:b,id:a.id,name:a.name||a.$type.substr(5)+" ("+a.id.substr(0,8)+"...)",instanceIds:y[a.id]||[],instances:e,instanceInfo:{},variables:[],ancestors:r(a),bpmnElement:a,repeat:1},"startBeforeMI"!==b&&"startAfterMI"!==b||(f.operation="startBeforeMI"===b?"startBefore":"startAfter",f.id+="#multiInstanceBody",f.name+=j.instant("PLGN_MOD_MULTI_INSTANCE_BODY")),A.push(f)),d.set("modificationInstructions",c.copy(A))}function r(a){var b=[];if(!a||!a.$parent)return b;for(t(a)&&(c=y[a.id+"#multiInstanceBody"],b=b.concat(u(c)));(a=a.$parent)&&"bpmn:Process"!==a.$type;){var c=s(a);b=b.concat(u(c))}var d=z[B.id];return b.push(v(d)),b}function s(a){var b=y[a.id]||[],c=y[a.id+"#multiInstanceBody"]||[],d=b.concat(c);return d.filter(function(a){return a.id&&!a.isTransitionInstance})}function t(a){return a.loopCharacteristics}function u(a){return(a||[]).map(v)}function v(a){return{id:a.id,name:a.name||a.id,type:a.activityType}}function w(){var a=c.copy(g());a.tab="modification-process-instances",g.updateSilently(a)}function x(a,b){b.offerMI?(a.startBeforeMI.show(),a.startAfterMI.show()):(a.startBeforeMI.hide(),a.startAfterMI.hide()),b.offerCancel?a.cancel.show():a.cancel.hide(),b.offerCancelMI?a.cancelMI.show():a.cancelMI.hide(),b.instructionsContainElement?(a.badges.show(),a.badgesContent.text((b.add?"+"+b.add:"")+(b.add&&b.remove?", ":"")+(b.remove?"-"+b.remove:"")),a.badgesContent.tooltip({container:"body",title:j.instant("PLGN_MOD_PLANNED"),placement:"top",animation:!1})):a.badges.hide()}var y,z,A,B,C={isModificationTab:k,observe:l,getDataForElement:m,updateNodes:x,setActiveTabToModification:w,onDragAndDrop:p,selectOperation:q};i(a,b,d,e,f,C)}]})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],222:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./common");b.exports=["$timeout","$rootScope","search","$http","$q","get","$translate",function(a,b,c,f,g,h,i){return function(j,k,l,m,n,o){function p(a){return D?void a():void C.push(a)}function q(){A.forEach(function(a){r(n.bpmnElements[a.businessObject.id])})}function r(b){var c=o.getDataForElement(b);c.isFlowNode&&(B[b.id]||(B[b.id]=s(),z.add(b.id,{position:{bottom:0,right:0},show:{minZoom:-(1/0),maxZoom:+(1/0)},html:B[b.id].tools}),z.add(b.id,{position:{top:0,left:0},show:{minZoom:-(1/0),maxZoom:+(1/0)},html:B[b.id].badges}),t(B[b.id],b),e.addHovers(B[b.id],b,m,j,a)),o.updateNodes(B[b.id],c))}function s(){var a=d.element(w),b=d.element(x);a.hide();var c=[".modification-start-before",".modification-start-after",".modification-start-before-mi",".modification-start-after-mi",".modification-cancel",".modification-cancel-mi"];return d.forEach(c,function(b){a.find(b)[0].text=i.instant(a.find(b)[0].text)}),{tools:a,badges:b,startBefore:a.find(".modification-start-before"),startAfter:a.find(".modification-start-after"),startBeforeMI:a.find(".modification-start-before-mi"),startAfterMI:a.find(".modification-start-after-mi"),cancel:a.find(".modification-cancel"),cancelMI:a.find(".modification-cancel-mi"),badgesContent:b.find(".badge"),dropdownToggle:a.find('[data-toggle="dropdown"]')}}function t(a,b){var c=["startBefore","startBeforeMI","startAfter","startAfterMI","cancel","cancelMI"];c.forEach(function(c){u(a[c],b,c)}),a.tools.on("shown.bs.dropdown",function(){b.dropdownOpen=!0}),a.tools.on("hide.bs.dropdown",function(){b.dropdownOpen=!1}),p(function(){v(a,b)})}function u(a,b,c){var d=function(){j.$apply(function(){o.selectOperation(b,c)})};a.on("click",d),j.$on("$destroy",function(){a.off("click",d)})}function v(a,b){e.setupDragAndDrop(".instance-count",a,n.bpmnElements,function(c){o.setActiveTabToModification(),o.onDragAndDrop(c,a,b)})}var w,x,y=k.getViewer(),z=y.get("overlays"),A=y.get("elementRegistry"),B={},C=[],D=!1,E=b.$on("cockpit.plugin.base.views:diagram-plugins:instance-plugin-loaded",function(){D=!0,C.forEach(function(a){a()}),C=[],E()});j.$on("$destroy",function(){E(),C=[]}),e.fetchTemplates(g,f,h).then(function(a){w=a[0],x=a[1],w&&x&&o.observe(function(){var a=o.isModificationTab(c());a&&q(),j.$on("$locationChangeSuccess",function(){a||(a=o.isModificationTab(c()),a&&q())})})})}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./common":217}],223:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./views/main"),f=a("./diagramPlugins");b.exports=d.module("cockpit.plugin.modification",[e.name,f.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./diagramPlugins":220,"./views/main":229}],224:[function(a,b,c){"use strict";var d=a("../../../../common/batch/instancesList"),e=function(a,b,c,e){this.definitionId=b,this.eventBus=a,this.delegate=new d(a,null,c,e,this),this.loadInstances()};e.prototype.updatePage=function(a){var b=this;this.delegate.selectAll=!1,a&&(this.delegate.currentPage=1,this.delegate.selectedInstances=[],this.delegate.applySelection());var c=this.delegate.search.getParams();c.processDefinitionId=this.definitionId,c.finished=!0,c.sortBy="instanceId",c.sortOrder="desc",c.firstResult=(this.delegate.currentPage-1)*this.delegate.pageSize,c.maxResults=this.delegate.pageSize;var d=JSON.stringify(c);if(this.currentParams!==d){this.currentParams=d,this.loadingState="LOADING";var e=function(){null!==b.delegate.instances&&null!==b.delegate.instancesCount&&(b.delegate.loadingState="LOADED",0===b.delegate.instancesCount&&(b.delegate.loadingState="EMPTY"),b.delegate.eventBus.emit("instanceList.updated"),b.delegate.eventBus.emit("state.updated"))};b.delegate.instances=b.delegate.instancesCount=null,b.delegate.api.resource("history").processInstance(c,function(a,c){b.delegate.instances=c,b.delegate.applySelection(),e()}),b.delegate.api.resource("history").processInstanceCount(c,function(a,c){b.delegate.instancesCount=c.count,e()})}},e.prototype.loadInstances=function(){this.updatePage(!0)},b.exports=e},{"../../../../common/batch/instancesList":81}],225:[function(a,b,c){"use strict";var d=a("../../../../common/batch/instancesList"),e=function(a,b,c,e){this.definitionId=b,this.eventBus=a,this.delegate=new d(a,null,c,e,this),this.loadInstances()};e.prototype.updatePage=function(a){var b=this;this.delegate.selectAll=!1,a&&(this.delegate.currentPage=1,this.delegate.selectedInstances=[],this.delegate.applySelection());var c=this.delegate.search.getParams();c.processDefinitionId=this.definitionId,c.sortBy="instanceId",c.sortOrder="desc",c.firstResult=(this.delegate.currentPage-1)*this.delegate.pageSize,c.maxResults=this.delegate.pageSize;var d=JSON.stringify(c);if(this.currentParams!==d){this.currentParams=d,this.loadingState="LOADING";var e=function(){null!==b.delegate.instances&&null!==b.delegate.instancesCount&&(b.delegate.loadingState="LOADED",0===b.delegate.instancesCount&&(b.delegate.loadingState="EMPTY"),b.delegate.eventBus.emit("instanceList.updated"),b.delegate.eventBus.emit("state.updated"))};b.delegate.instances=b.delegate.instancesCount=null,b.delegate.api.resource("process-instance").list(c,function(a,c){b.delegate.instances=c,b.delegate.applySelection(),e()}),b.delegate.api.resource("process-instance").count(c,function(a,c){b.delegate.instancesCount=c.count,e()})}},e.prototype.loadInstances=function(){this.updatePage(!0)},b.exports=e},{"../../../../common/batch/instancesList":81}],226:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.events:"undefined"!=typeof c?c.events:null,e="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,f='<!-- EE # webapps/camunda-webapp/plugins/src/main/resources-plugin/modification/app/views/definition/modification-confirmation-dialog.html -->\n<div ng-show="showInstanceSelection">\n  <div class="modal-header">\n    <h3 class="modal-title">{{ \'PLGN_MOD_DIALOG_TITLE\' | translate }}</h3>\n  </div>\n\n  <div class="modal-body">\n    <div class="section-content row">\n      <div class="col-xs-12">\n        <div cam-widget-search\n             cam-widget-search-id="modification"\n             cam-widget-search-total="instancesCtrl.delegate.instancesCount"\n             cam-widget-search-valid-searches="instancesCtrl.delegate.search.searches"\n             cam-widget-search-translations="instancesCtrl.delegate.search.translations"\n             cam-widget-search-types="instancesCtrl.delegate.search.types"\n             cam-widget-search-operators="instancesCtrl.delegate.search.operators"\n             cam-widget-search-storage-group="\'PI\'"\n             cam-widget-search-mode="filter"></div>\n        <div cam-widget-loader\n             loading-state="{{ instancesCtrl.delegate.loadingState }}"\n             text-empty="{{ \'PLGN_MOD_DIALOG_LOADER_EMPTY\' | translate }}">\n          <table class="process-instances cam-table">\n            <thead>\n              <tr>\n                <th class="migrate">\n                  <input type="checkbox"\n                         ng-model="instancesCtrl.delegate.selectAll"\n                         ng-change="instancesCtrl.delegate.toggleAll()"></input></th>\n                <th class="instance-id uuid">{{ \'PLGN_MOD_DIALOG_ID\' | translate }}</th>\n                <th class="business-key">{{ \'PLGN_MOD_DIALOG_BUSINESS_KEY\' | translate }}</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr ng-repeat="processInstance in instancesCtrl.delegate.instances"\n                  ng-class="{selected: processInstance.selected}">\n                <td class="migrate">\n                  <input type="checkbox"\n                         ng-model="processInstance.selected"\n                         ng-change="instancesCtrl.delegate.updateSelectedInstances()"></input>\n                </td>\n\n                <td class="instance-id uuid">\n                  <a ng-href="#/process-instance/{{ processInstance.id }}"\n                     title="{{ processInstance.id }}"\n                     target="_blank">\n                    {{ processInstance.id }}\n                  </a>\n                </td>\n\n                <td class="business-key">\n                  {{ processInstance.businessKey }}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          <pagination ng-if="instancesCtrl.delegate.instancesCount > instancesCtrl.delegate.pageSize"\n                        class="pagination-sm"\n\n                        page="instancesCtrl.delegate.currentPage"\n                        ng-model="instancesCtrl.delegate.currentPage"\n                        ng-change="instancesCtrl.updatePage()"\n\n                        total-items="instancesCtrl.delegate.instancesCount"\n                        items-per-page="instancesCtrl.delegate.pageSize"\n\n                        max-size="7"\n                        boundary-links="true"></pagination>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="modal-footer">\n    <button class="btn btn-link"\n            ng-click="cancel()">{{ \'PLGN_MOD_DIALOG_CANCLE\' | translate }}</button>\n\n    <button class="btn btn-primary"\n            ng-click="gotoConfirmScreen()"\n            ng-disabled="instancesCtrl.delegate.instancesCount === 0">\n      <span ng-if="instancesCtrl.delegate.selectedInstances.length > 0">{{ \'PLGN_MOD_DIALOG_SELECTED\' | translate:{instancesCount: instancesCtrl.delegate.selectedInstances.length} }}</span>\n      <span ng-if="instancesCtrl.delegate.selectedInstances.length === 0">{{ \'PLGN_MOD_DIALOG_ALL\' | translate:{instancesCount: instancesCtrl.delegate.instancesCount} }}</span>\n    </button>\n  </div>\n</div>\n\n\n<div ng-show="!showInstanceSelection">\n  <div class="modal-header">\n    <h3 class="modal-title">{{ \'PLGN_MOD_DIALOG_TITLE_CONFIRM\' | translate }}</h3>\n  </div>\n\n  <div class="modal-body">\n    <div class="help-block text-center">\n      {{ \'PLGN_MOD_DIALOG_PLAYING\' | translate }}<span title="fire" class="glyphicon glyphicon-fire"></span>.\n      {{ \'PLGN_MOD_DIALOG_REVIEW\' | translate }}\n    </div>\n    <div class="h3">{{ \'PLGN_MOD_DIALOG_OPTIONS\' | translate }}</div>\n    <div class="row">\n      <div class="col-sm-6">\n        <div class="checkbox">\n          <label>\n            <input type="checkbox"\n                   ng-model="async" />\n            {{ \'PLGN_MOD_DIALOG_ASYNC\' | translate }}\n          </label>\n          <div class="help-block">{{ \'PLGN_MOD_DIALOG_ASYNC_HELP\' | translate }}</div>\n        </div>\n      </div>\n      <div class="col-sm-6" ng-if="cancelInstructionPresent">\n        <div class="checkbox">\n          <label>\n            <input type="checkbox"\n                   ng-model="cancelCurrentActiveActivityInstances"\n                   ng-init="cancelCurrentActiveActivityInstances = true"\n                   ng-click="changeNewActivityInstance(cancelCurrentActiveActivityInstances)"\n            />\n\n            {{ \'PLGN_MOD_DIALOG_ONLY_CANCEL_CURRENT\' | translate }}\n          </label>\n          <div class="help-block">{{ \'PLGN_MOD_DIALOG_CANCEL_INSTRUCTIONS\' | translate }}</div>\n        </div>\n      </div>\n    </div>\n    <div class="row">\n      <div ng-hide="hideSkipCustomListeners"\n           class="col-sm-6">\n        <div  class="checkbox">\n          <label>\n            <input type="checkbox"\n                   ng-model="requestPayload.skipCustomListeners" />\n            {{ \'PLGN_MOD_DIALOG_SKIP_CUSTOM_LISTENERS\' | translate }}\n          </label>\n          <div class="help-block">{{ \'PLGN_MOD_DIALOG_SKIP_CUSTOM_LISTENERS_HELP\' | translate }}</div>\n        </div>\n      </div>\n      <div class="col-sm-6">\n        <div class="checkbox">\n          <label>\n            <input type="checkbox"\n                   ng-model="requestPayload.skipIoMappings"\n            />\n            {{ \'PLGN_MOD_DIALOG_SKIP_IO_MAPPINGS\' | translate }}\n          </label>\n          <div class="help-block">{{ \'PLGN_MOD_DIALOG_SKIP_IO_MAPPINGS_HELP\' | translate }}</div>\n        </div>\n      </div>\n    </div>\n    <div>\n      <div class="h3">{{ \'PLGN_MOD_DIALOG_SUMMARY\' | translate }}</div>\n      {{ \'PLGN_MOD_DIALOG_ABOUT_TO_MODIFY\' | translate }}\n      <b ng-if="instancesCtrl.delegate.selectedInstances.length > 0">{{instancesCtrl.delegate.selectedInstances.length}}</b>\n      <b ng-if="!(instancesCtrl.delegate.selectedInstances.length > 0)">{{instancesCtrl.delegate.instancesCount}}</b>\n      {{ \'PLGN_MOD_DIALOG_INSTANCE\' | translate }}<span ng-if="instancesCtrl.delegate.selectedInstances.length > 1 || (instancesCtrl.delegate.selectedInstances.length === 0 && instancesCtrl.delegate.instancesCount > 1)">{{ \'PLGN_MOD_DIALOG_S\' | translate }}</span>\n      {{ \'PLGN_MOD_DIALOG_FOLLOWING_WAY\' | translate }}\n      <div class="instruction"\n          ng-repeat="instruction in instructions"\n          ng-class="instruction.operation">\n        <div class="type">{{ instruction.operation }}</div>\n        <div class="target">{{ instruction.name }}</div>\n      </div>\n\n    </div>\n\n    <div cam-widget-debug\n         debugged="requestPayload"\n         display-name="{{ \'PLGN_MOD_DIALOG_PAYLOAD\' | translate }}"\n         class="row"\n         cam-widget-debug-tooltip="{{ \'PLGN_MOD_DIALOG_SHOW_PAYLOAD\' | translate }}"></div>\n  </div><!-- .modal-body -->\n\n\n  <div class="modal-footer with-back">\n    <button class="btn btn-default"\n            ng-click="goBack()">{{ \'PLGN_MOD_DIALOG_BACK\' | translate }}</button>\n    <div>\n      <button class="btn btn-link"\n              ng-click="cancel()">{{ \'PLGN_MOD_DIALOG_CANCEL\' | translate }}</button>\n\n      <button class="btn btn-primary"\n              ng-click="ok()">{{ \'PLGN_MOD_DIALOG_PROCEED\' | translate }}</button>\n    </div>\n  </div>\n</div>\n<!-- EE / webapps/camunda-webapp/plugins/src/main/resources-plugin/modification/app/views/definition/modification-confirmation-dialog.html -->\n',g=JSON.parse('{\n  "types": [\n    {\n      "id": {\n        "key": "processInstanceIds",\n        "value": "PLGN_MOD_SEARCH_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "businessKey",\n        "value": "PLGN_MOD_SEARCH_BUSINESS_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "PLGN_MOD_SEARCH_LIKE"\n        }\n      ],\n      "default": true\n    },\n    {\n      "id": {\n        "key": "superProcessInstance",\n        "value": "PLGN_MOD_SEARCH_PARENT_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "subProcessInstance",\n        "value": "PLGN_MOD_SEARCH_SUB_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "variables",\n        "value": "PLGN_MOD_SEARCH_VARIABLE"\n      },\n      "allowDates": true,\n      "extended": true\n    },\n    {\n      "id": {\n        "key": "active",\n        "value": "PLGN_MOD_SEARCH_ACTIVE"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "suspended",\n        "value": "PLGN_MOD_SEARCH_SUSPENDED"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "incidentId",\n        "value": "PLGN_MOD_SEARCH_INCIDENT_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "incidentType",\n        "value": "PLGN_MOD_SEARCH_INCIDENT_TYPE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "incidentMessage",\n        "value": "PLGN_MOD_SEARCH_INCIDENT_MESSAGE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "PLGN_MOD_SEARCH_LIKE"\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "activityIdIn",\n        "value": "PLGN_MOD_SEARCH_ACTIVITY_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    }\n  ],\n  "operators": {\n        "undefined":  [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        },\n        {\n          "key": "like",\n          "value": "PLGN_MOD_SEARCH_LIKE"\n        }\n      ],\n        "string":     [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        },\n        {\n          "key": "like",\n          "value": "PLGN_MOD_SEARCH_LIKE"\n        }\n      ],\n        "number":     [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        }\n      ],\n        "boolean":    [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        }\n      ],\n        "object":     [{\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        }],\n        "date":     [{\n          "key": "lteq",\n          "value": "PLGN_MOD_SEARCH_BEFORE"\n        },\n        {\n          "key": "gteq",\n          "value": "PLGN_MOD_SEARCH_AFTER"\n        }]\n  },\n  "tooltips": {\n    "inputPlaceholder": "PLGN_MOD_SEARCH_PLACEHOLDER",\n    "invalid": "PLGN_MOD_SEARCH_INVALID",\n    "deleteSearch": "PLGN_MOD_SEARCH_DELETE_SEARCH",\n    "type": "PLGN_MOD_SEARCH_TYPE",\n    "name": "PLGN_MOD_SEARCH_NAME",\n    "operator": "PLGN_MOD_SEARCH_OPERATOR",\n    "value": "PLGN_MOD_SEARCH_VALUE"\n  },\n  "operationEvent": "migration",\n  "arrayTypes": ["variables", "processInstanceIds", "activityIdIn", "tenantIdIn"],\n  "nonSanitizedTypes": ["variables"]\n}\n'),h=a("../patchScope"),i=["$scope","$modalInstance","requestPayload","instructions","camAPI","hideSkipCustomListeners","$translate",function(b,c,f,h,i,j,k){
b.requestPayload=f,b.instructions=h,b.showInstanceSelection=!0,b.async=!0,b.hideSkipCustomListeners=j,b.cancelInstructionPresent=function(){var a=!1;return b.requestPayload.instructions.forEach(function(b){"cancel"===b.type&&(a=!0)}),a}(),b.gotoConfirmScreen=function(){if(delete b.requestPayload.processInstanceIds,delete b.requestPayload.processInstanceQuery,b.instancesCtrl.delegate.selectedInstances.length)b.requestPayload.processInstanceIds=b.instancesCtrl.delegate.selectedInstances;else{var a=b.instancesCtrl.delegate.search.getParams();b.requestPayload.processInstanceQuery=a,b.requestPayload.processInstanceQuery.processDefinitionId=b.requestPayload.processDefinitionId}b.showInstanceSelection=!1},b.goBack=function(){b.showInstanceSelection=!0},b.ok=function(){c.close({payload:f,async:b.async})},b.cancel=function(){c.dismiss("cancel")},b.changeNewActivityInstance=function(a){b.requestPayload.instructions.forEach(function(b){"cancel"===b.type&&(b.cancelCurrentActiveActivityInstances=!a)})};var l=new d;e.forEach(g.tooltips,function(a,b){g.tooltips[b]=k.instant(a)}),g.types.map(function(a){return a.id.value=k.instant(a.id.value),a.operators&&(a.operators=a.operators.map(function(a){return a.value=k.instant(a.value),a})),a}),b.instancesCtrl=new(a("./instancesList"))(l,f.processDefinitionId,i,g),b.$watch("instancesCtrl.delegate.search.searches",function(){b.instancesCtrl.loadInstances()})}],j=["$scope","$modal","$timeout","camAPI","Notifications","configuration","$translate",function(a,b,c,d,g,j,k){function l(){a.requestPayload.instructions=[],a.instructions.forEach(function(b){switch(b.operation){case"cancel":a.requestPayload.instructions.push({type:"cancel",activityId:b.id,cancelCurrentActiveActivityInstances:!0});break;case"startBefore":case"startAfter":var c={startAfter:"startAfterActivity",startBefore:"startBeforeActivity"}[b.operation];a.requestPayload.instructions.push({type:c,activityId:b.id})}})}var m=a.processData.newChild(a),n=a.pageData.newChild(a),o=d.resource("modification"),p=j.getSkipCustomListeners();h(a,m,n,c,e),m.observe("processDefinition",function(b){a.requestPayload={processDefinitionId:b.id,skipCustomListeners:p["default"],skipIoMappings:!0,instructions:[]}}),a.hideSkipCustomListeners=p.hidden,a.$watch("instructions",l,!0),a.selectInstances=function(){var c=b.open({template:f,controller:i,windowClass:"modification-confirmation-dialog",size:"lg",resolve:{requestPayload:function(){return a.requestPayload},hideSkipCustomListeners:function(){return a.hideSkipCustomListeners},instructions:function(){return a.instructions}}});c.result.then(function(b){var c=b.async?"executeAsync":"execute";o[c](b.payload,function(b){return b?void g.addError({status:k.instant("PLGN_MOD_NOTIFICATION_ERROR"),message:b.message}):(a.instructions=[],void location.reload())})})}}];b.exports=function(a){a.config(["ViewsProvider",function(a){a.registerDefaultView("cockpit.processDefinition.runtime.tab",{id:"modification-process-instances",label:"PLGN_MOD_MODIFY",url:e.element("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/modification/views/definition/modification.html",controller:j,priority:-1,initialize:function(a){a.processData.provide("modificationInstructions",[]),a.pageData.provide("modificationHighlight",null)}})}])}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../patchScope":230,"./instancesList":225}],227:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.events:"undefined"!=typeof c?c.events:null,e="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,f='<!-- EE # webapps/camunda-webapp/plugins/src/main/resources-plugin/modification/app/views/definition/restart-confirmation-dialog.html -->\n<div ng-show="showInstanceSelection">\n  <div class="modal-header">\n    <h3 class="modal-title">{{ \'PLGN_MOD_RESTART_DIALOG_SELECT_INSTANCES\' | translate }}</h3>\n  </div>\n\n  <div class="modal-body">\n    <div class="section-content row">\n      <div class="col-xs-12">\n        <div cam-widget-search\n             cam-widget-search-id="modification"\n             cam-widget-search-total="instancesCtrl.delegate.instancesCount"\n             cam-widget-search-valid-searches="instancesCtrl.delegate.search.searches"\n             cam-widget-search-translations="instancesCtrl.delegate.search.translations"\n             cam-widget-search-types="instancesCtrl.delegate.search.types"\n             cam-widget-search-operators="instancesCtrl.delegate.search.operators"\n             cam-widget-search-storage-group="\'PI\'"\n             cam-widget-search-mode="filter"></div>\n        <div cam-widget-loader\n             loading-state="{{ instancesCtrl.delegate.loadingState }}"\n             text-empty="{{ \'PLGN_MOD_RESTART_DIALOG_NO_INSTANCES\' | translate }}">\n          <table class="process-instances cam-table">\n            <thead>\n              <tr>\n                <th class="migrate">\n                  <input type="checkbox"\n                         ng-model="instancesCtrl.delegate.selectAll"\n                         ng-change="instancesCtrl.delegate.toggleAll()"></input></th>\n                <th class="instance-id uuid">{{ \'PLGN_MOD_RESTART_DIALOG_ID\' | translate }}</th>\n                <th class="business-key">{{ \'PLGN_MOD_RESTART_DIALOG_BUSINESS_KEY\' | translate }}</th>\n                <th class="start-time">{{ \'PLGN_MOD_RESTART_DIALOG_START_TIME\' | translate }}</th>\n                <th class="end-time">{{ \'PLGN_MOD_RESTART_DIALOG_END_TIME\' | translate }}</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr ng-repeat="processInstance in instancesCtrl.delegate.instances"\n                  ng-class="{selected: processInstance.selected}">\n                <td class="migrate">\n                  <input type="checkbox"\n                         ng-model="processInstance.selected"\n                         ng-change="instancesCtrl.delegate.updateSelectedInstances()"></input>\n                </td>\n\n                <td class="instance-id uuid">\n                  <a ng-href="#/process-instance/{{ processInstance.id }}"\n                     title="{{ processInstance.id }}"\n                     target="_blank">\n                    {{ processInstance.id }}\n                  </a>\n                </td>\n\n                <td class="business-key">\n                  {{ processInstance.businessKey }}\n                </td>\n\n                <td class="start-time">\n                  {{ processInstance.startTime | camDate }}\n                </td>\n\n                <td class="end-time">\n                  {{ processInstance.endTime | camDate }}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          <pagination ng-if="instancesCtrl.delegate.instancesCount > instancesCtrl.delegate.pageSize"\n                        class="pagination-sm"\n\n                        page="instancesCtrl.delegate.currentPage"\n                        ng-model="instancesCtrl.delegate.currentPage"\n                        ng-change="instancesCtrl.updatePage()"\n\n                        total-items="instancesCtrl.delegate.instancesCount"\n                        items-per-page="instancesCtrl.delegate.pageSize"\n\n                        max-size="7"\n                        boundary-links="true"></pagination>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="modal-footer">\n    <button class="btn btn-link"\n            ng-click="cancel()">{{ \'PLGN_MOD_RESTART_DIALOG_CANCEL\' | translate }}</button>\n\n    <button class="btn btn-primary"\n            ng-click="gotoConfirmScreen()"\n            ng-disabled="instancesCtrl.delegate.instancesCount === 0">\n      <span ng-if="instancesCtrl.delegate.selectedInstances.length > 0">{{ \'PLGN_MOD_RESTART_DIALOG_SELECTED_INSTANCES\' | translate:{instancesCount: instancesCtrl.delegate.selectedInstances.length} }}</span>\n      <span ng-if="instancesCtrl.delegate.selectedInstances.length === 0">{{ \'PLGN_MOD_RESTART_DIALOG_ALL_INSTANCES\' | translate:{instancesCount: instancesCtrl.delegate.instancesCount} }}</span>\n    </button>\n  </div>\n</div>\n\n\n<div ng-show="!showInstanceSelection">\n  <div class="modal-header">\n    <h3 class="modal-title">{{ \'PLGN_MOD_RESTART_DIALOG_CONFIRM\' | translate }}</h3>\n  </div>\n\n  <div class="modal-body">\n    <div class="help-block text-center">\n      {{ \'PLGN_MOD_RESTART_DIALOG_PLAYING_WITH\' | translate }}<span title="fire" class="glyphicon glyphicon-fire"></span>.\n      {{ \'PLGN_MOD_RESTART_DIALOG_REVIEW_OPERATIONS\' | translate }}\n    </div>\n    <div class="h3">{{ \'PLGN_MOD_RESTART_DIALOG_OPTIONS\' | translate }}</div>\n    <div class="row">\n      <div class="col-sm-4">\n        <div class="checkbox">\n          <label>\n            <input type="checkbox"\n                   ng-model="async" />\n            {{ \'PLGN_MOD_RESTART_DIALOG_ASYNC\' | translate }}\n          </label>\n          <div class="help-block">{{ \'PLGN_MOD_RESTART_DIALOG_HELP\' | translate }}</div>\n        </div>\n      </div>\n      <div class="col-sm-4">\n        <div class="checkbox">\n          <label>\n            <input type="checkbox"\n                   ng-model="requestPayload.initialVariables" />\n            {{ \'PLGN_MOD_RESTART_DIALOG_INITIAL_VARIABLES\' | translate }}\n          </label>\n          <div class="help-block">{{ \'PLGN_MOD_RESTART_DIALOG_HELP_VARIABLES\' | translate }}</div>\n        </div>\n      </div>\n      <div class="col-sm-4">\n        <div class="checkbox">\n          <label>\n            <input type="checkbox"\n                   ng-model="requestPayload.withoutBusinessKey" />\n            {{ \'PLGN_MOD_RESTART_DIALOG_WITHOUT_BUSINESS_KEY\' | translate }}\n          </label>\n          <div class="help-block">{{ \'PLGN_MOD_RESTART_DIALOG_HELP_WITHOUT_BUSINESS_KEY\' | translate }}</div>\n        </div>\n      </div>\n    </div>\n      <div class="row">\n        <div ng-hide="hideSkipCustomListeners"\n             class="col-sm-4">\n          <div  class="checkbox">\n            <label>\n              <input type="checkbox"\n                     ng-model="requestPayload.skipCustomListeners" />\n              {{ \'PLGN_MOD_RESTART_DIALOG_SKIP_CUSTOM_LISTENERS\' | translate }}\n            </label>\n            <div class="help-block">{{ \'PLGN_MOD_RESTART_DIALOG_HELP_SKIP_CUSTOM_LISTENERS\' | translate }}</div>\n          </div>\n        </div>\n        <div class="col-sm-4">\n          <div class="checkbox">\n            <label>\n              <input type="checkbox"\n                     ng-model="requestPayload.skipIoMappings" />\n              {{ \'PLGN_MOD_RESTART_DIALOG_SKIP_IO_MAPPINGS\' | translate }}\n            </label>\n            <div class="help-block">{{ \'PLGN_MOD_RESTART_DIALOG_HELP_SKIP_IO_MAPPINGS\' | translate }}</div>\n          </div>\n        </div>\n\n      </div>\n    <div>\n      <div class="h3">{{ \'PLGN_MOD_RESTART_DIALOG_SUMMARY\' | translate }}</div>\n      {{ \'PLGN_MOD_RESTART_DIALOG_YOU_ARE_ABOUT\' | translate }}\n      <b ng-if="instancesCtrl.delegate.selectedInstances.length > 0">{{instancesCtrl.delegate.selectedInstances.length}}</b>\n      <b ng-if="!(instancesCtrl.delegate.selectedInstances.length > 0)">{{instancesCtrl.delegate.instancesCount}}</b>\n      {{ \'PLGN_MOD_RESTART_DIALOG_INSTANCE\' | translate }}<span ng-if="instancesCtrl.delegate.selectedInstances.length > 1 || (instancesCtrl.delegate.selectedInstances.length === 0 && instancesCtrl.delegate.instancesCount > 1)">{{ \'PLGN_MOD_RESTART_DIALOG_S\' | translate }}</span>\n      {{ \'PLGN_MOD_RESTART_FOLLOWING_WAY\' | translate }}\n      <div class="instruction"\n          ng-repeat="instruction in instructions"\n          ng-class="instruction.operation">\n        <div class="type">{{ instruction.operation }}</div>\n        <div class="target">{{ instruction.name }}</div>\n      </div>\n\n    </div>\n\n    <div cam-widget-debug\n         display-name="{{ \'PLGN_MOD_RESTART_REQUEST_PAYLOAD\' | translate }}"\n         debugged="requestPayload"\n         class="row"\n         cam-widget-debug-tooltip="{{ \'PLGN_MOD_RESTART_SHOW_REQUEST_PAYLOAD\' | translate }}"></div>\n  </div><!-- .modal-body -->\n\n\n  <div class="modal-footer with-back">\n    <button class="btn btn-default"\n            ng-click="goBack()">{{ \'PLGN_MOD_RESTART_BACK\' | translate }}</button>\n    <div>\n      <button class="btn btn-link"\n              ng-click="cancel()">{{ \'PLGN_MOD_RESTART_CANCEL\' | translate }}</button>\n\n      <button class="btn btn-primary"\n              ng-click="ok()">{{ \'PLGN_MOD_RESTART_PROCEED\' | translate }}</button>\n    </div>\n  </div>\n</div>\n<!-- EE / webapps/camunda-webapp/plugins/src/main/resources-plugin/modification/app/views/definition/restart-confirmation-dialog.html -->\n',g=JSON.parse('{\n  "types": [\n    {\n      "id": {\n        "key": "processInstanceIds",\n        "value": "PLGN_MOD_SEARCH_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processInstanceBusinessKey",\n        "value": "PLGN_MOD_SEARCH_BUSINESS_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "PLGN_MOD_SEARCH_LIKE"\n        }\n      ],\n      "default": true\n    },\n    {\n      "id": {\n        "key": "superProcessInstanceId",\n        "value": "PLGN_MOD_SEARCH_PARENT_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "subProcessInstanceId",\n        "value": "PLGN_MOD_SEARCH_SUB_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n\n    {\n      "id": {\n        "key": "variables",\n        "value": "PLGN_MOD_SEARCH_VARIABLE"\n      },\n      "allowDates": true,\n      "extended": true\n    },\n    {\n      "id": {\n        "key": "incidentType",\n        "value": "PLGN_MOD_SEARCH_INCIDENT_TYPE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "incidentMessage",\n        "value": "PLGN_MOD_SEARCH_INCIDENT_MESSAGE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "PLGN_MOD_SEARCH_LIKE"\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "tenantIdIn",\n        "value": "PLGN_MOD_SEARCH_TENANT_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "startedBy",\n        "value": "PLGN_MOD_SEARCH_STARTED_BY_USER"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "startedDate",\n        "value": "PLGN_MOD_SEARCH_START_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_MOD_SEARCH_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_MOD_SEARCH_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "finishedDate",\n        "value": "PLGN_MOD_SEARCH_FINISHED_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_MOD_SEARCH_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_MOD_SEARCH_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    }\n  ],\n  "operators": {\n        "undefined":  [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        },\n        {\n          "key": "like",\n          "value": "PLGN_MOD_SEARCH_LIKE"\n        }\n      ],\n        "string":     [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        },\n        {\n          "key": "like",\n          "value": "PLGN_MOD_SEARCH_LIKE"\n        }\n      ],\n        "number":     [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        }\n      ],\n        "boolean":    [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        }\n      ],\n        "object":     [{\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        }],\n        "date":     [{\n          "key": "lteq",\n          "value": "PLGN_MOD_SEARCH_BEFORE"\n        },\n        {\n          "key": "gteq",\n          "value": "PLGN_MOD_SEARCH_AFTER"\n        }]\n  },\n  "tooltips": {\n    "inputPlaceholder": "PLGN_MOD_SEARCH_PLACEHOLDER",\n    "invalid": "PLGN_MOD_SEARCH_INVALID",\n    "deleteSearch": "PLGN_MOD_SEARCH_DELETE_SEARCH",\n    "type": "PLGN_MOD_SEARCH_TYPE",\n    "name": "PLGN_MOD_SEARCH_NAME",\n    "operator": "PLGN_MOD_SEARCH_OPERATOR",\n    "value": "PLGN_MOD_SEARCH_VALUE"\n  },\n  "operationEvent": "restart",\n  "arrayTypes": ["variables", "processInstanceIds", "activityIdIn", "tenantIdIn"],\n  "nonSanitizedTypes": ["variables"]\n}\n'),h=a("../patchScope"),i=["$scope","$modalInstance","requestPayload","instructions","camAPI","hideSkipCustomListeners","$translate",function(b,c,f,h,i,j,k){b.requestPayload=f,b.instructions=h,b.showInstanceSelection=!0,b.async=!0,b.hideSkipCustomListeners=j,b.gotoConfirmScreen=function(){if(delete b.requestPayload.processInstanceIds,delete b.requestPayload.historicProcessInstanceQuery,b.requestPayload.withoutBusinessKey=!1,b.requestPayload.initialVariables=!1,b.instancesCtrl.delegate.selectedInstances.length)b.requestPayload.processInstanceIds=b.instancesCtrl.delegate.selectedInstances;else{var a=b.instancesCtrl.delegate.search.getParams();b.requestPayload.historicProcessInstanceQuery=a,b.requestPayload.historicProcessInstanceQuery.processDefinitionId=b.requestPayload.processDefinitionId,b.requestPayload.historicProcessInstanceQuery.finished=!0}b.showInstanceSelection=!1},b.goBack=function(){b.showInstanceSelection=!0},b.ok=function(){c.close({processDefinitionId:b.requestPayload.processDefinitionId,payload:f,async:b.async})},b.cancel=function(){c.dismiss("cancel")};var l=new d;e.forEach(g.tooltips,function(a,b){g.tooltips[b]=k.instant(a)}),g.types.map(function(a){return a.id.value=k.instant(a.id.value),a.operators&&(a.operators=a.operators.map(function(a){return a.value=k.instant(a.value),a})),a}),b.instancesCtrl=new(a("./historicInstancesList"))(l,f.processDefinitionId,i,g),b.$watch("instancesCtrl.delegate.search.searches",function(){b.instancesCtrl.loadInstances()})}],j=["$scope","$modal","$timeout","camAPI","Notifications","configuration","$translate",function(a,b,c,d,g,j,k){function l(){a.requestPayload.instructions=[],a.instructions.forEach(function(b){var c={startAfter:"startAfterActivity",startBefore:"startBeforeActivity"}[b.operation];a.requestPayload.instructions.push({type:c,activityId:b.id})})}var m=a.processData.newChild(a),n=a.pageData.newChild(a),o=j.getSkipCustomListeners(),p=d.resource("process-definition");h(a,m,n,c,e),m.observe("processDefinition",function(b){a.requestPayload={processDefinitionId:b.id,skipCustomListeners:o["default"],skipIoMappings:!0,instructions:[]}}),a.$watch("instructions",l,!0),a.hideSkipCustomListeners=o.hidden,a.selectInstances=function(){var c=b.open({template:f,controller:i,windowClass:"modification-confirmation-dialog",size:"lg",resolve:{requestPayload:function(){return a.requestPayload},hideSkipCustomListeners:function(){return a.hideSkipCustomListeners},instructions:function(){return a.instructions}}});c.result.then(function(b){var c=b.async?"restartAsync":"restart";p[c](b.processDefinitionId,b.payload,function(b){return b?void g.addError({status:k.instant("PLGN_MOD_RESTART_NOTFICATION_STATUS"),message:b.message}):(a.instructions=[],void location.reload())})})}}];b.exports=function(a){a.config(["ViewsProvider",function(a){a.registerDefaultView("cockpit.processDefinition.history.tab",{id:"restart-process-instances",label:"PLGN_MOD_RESTART",url:e.element("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/modification/views/definition/restart.html",controller:j,priority:1,initialize:function(a){a.processData.provide("modificationInstructions",[]),a.pageData.provide("modificationHighlight",null)}})}])}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../patchScope":230,"./historicInstancesList":224}],228:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e='<!-- EE # webapps/camunda-webapp/plugins/src/main/resources-plugin/modification/app/views/instance/modification-confirmation-dialog.html -->\n<div class="modal-header">\n  <h3 class="modal-title">{{ \'PLGN_MOD_DIALOG_CONFIRM\' | translate }}</h3>\n</div>\n\n<div class="modal-body">\n\n  <div class="help-block text-center">\n    {{ \'PLGN_MOD_DIALOG_PLAYING\' | translate }}<span title="fire" class="glyphicon glyphicon-fire"></span>.\n    {{ \'PLGN_MOD_DIALOG_REVIEW\' | translate }}\n  </div>\n  <div class="h3">{{ \'PLGN_MOD_DIALOG_OPTIONS\' | translate }}</div>\n  <div class="row">\n    <div class="col-sm-6">\n      <div class="checkbox">\n        <label>\n          <input type="checkbox"\n                 ng-model="async" />\n          {{ \'PLGN_MOD_DIALOG_ASYNC\' | translate }}\n        </label>\n        <div class="help-block">{{ \'PLGN_MOD_DIALOG_ASYNC_SINGLE_HELP\' | translate }}</div>\n      </div>\n    </div>\n    <div  ng-hide="hideSkipCustomListeners"\n          class="col-sm-6">\n      <div class="checkbox">\n        <label>\n          <input type="checkbox"\n                 ng-model="requestPayload.skipCustomListeners" />\n          {{ \'PLGN_MOD_DIALOG_SKIP_CUSTOM_LISTENERS\' | translate }}\n        </label>\n        <div class="help-block">{{ \'PLGN_MOD_DIALOG_SKIP_CUSTOM_LISTENERS_HELP\' | translate }}</div>\n      </div>\n    </div>\n    <div class="col-sm-6">\n      <div class="checkbox">\n        <label>\n          <input type="checkbox"\n                 ng-model="requestPayload.skipIoMappings"\n          />\n          {{ \'PLGN_MOD_DIALOG_SKIP_IO_MAPPINGS\' | translate }}\n        </label>\n        <div class="help-block">{{ \'PLGN_MOD_DIALOG_SKIP_IO_MAPPINGS_HELP\' | translate }}</div>\n      </div>\n    </div>\n  </div>\n  <div>\n\n  <div class="h3">{{ \'PLGN_MOD_DIALOG_SUMMARY\' | translate }}</div>\n    <div ng-if="async && instructionsHaveVariables()" class="alert alert-warning">\n      {{ \'PLGN_MOD_DIALOG_ASYNC_VARIABLES\' | translate }}\n    </div>\n\n    {{ \'PLGN_MOD_DIALOG_ABOUT_TO_MODIFY_INSTANCES\' | translate }}\n\n    <div class="instruction"\n         ng-repeat="instruction in instructions"\n         ng-class="instruction.operation">\n      <div class="type">{{ instruction.operation }}\n        <span class="badge instructions-count"\n              ng-if="instruction.repeat > 1">{{instruction.repeat}} &#215;</span>\n        <span class="badge instructions-count"\n              ng-if="instruction.instanceIds.length > 1 && instruction.instanceIds.length !== instructionSelectedInstancesCount(instruction) && instructionSelectedInstancesCount(instruction) !== 0">{{ \'PLGN_MOD_OUT_OF\' | translate: {selectedInstancesCount: instructionSelectedInstancesCount(instruction), instancesCount: instruction.instanceIds.length} }}</span>\n      </div>\n\n      <div class="target">\n        {{ instruction.name }}\n      </div>\n    </div>\n\n    <div cam-widget-debug\n         display-name="{{ \'PLGN_MOD_REQUEST_PAYLOAD\' | translate }}"\n         debugged="requestPayload"\n         class="row"\n         cam-widget-debug-tooltip="{{ \'PLGN_MOD_SHOW_REQUEST_PAYLOAD\' | translate }}"></div>\n  </div>\n\n\n</div><!-- .modal-body -->\n\n\n<div class="modal-footer">\n  <button class="btn btn-link"\n          ng-click="cancel()">{{ \'PLGN_MOD_DIALOG_CANCEL\' | translate }}</button>\n\n  <button class="btn btn-primary"\n          ng-click="ok()">{{ \'PLGN_MOD_DIALOG_PROCEED\' | translate }}</button>\n</div>\n<!-- EE / webapps/camunda-webapp/plugins/src/main/resources-plugin/modification/app/views/instance/modification-confirmation-dialog.html -->\n',f=d.element,g=a("../patchScope"),h=["$scope","$modalInstance","requestPayload","instructions","instructionSelectedInstancesCount","hideSkipCustomListeners",function(a,b,c,d,e,f){a.requestPayload=c,a.async=!1,a.hideSkipCustomListeners=f,a.instructions=d,a.instructionSelectedInstancesCount=e,a.instructionsHaveVariables=function(){for(var a=0;a<d.length;a++){var b=d[a];if(b.variables&&b.variables.length>0)return!0}return!1},a.ok=function(){b.close({payload:c,async:a.async})},a.cancel=function(){b.dismiss("cancel")}}],i=["$scope","$modal","$timeout","camAPI","Notifications","fixDate","configuration","$translate",function(a,b,c,f,i,j,k,l){function m(){a.requestPayload.instructions=[],a.instructions.forEach(function(b){for(var c=0;c<b.repeat;c++)switch(b.operation){case"cancel":0===a.instructionSelectedInstancesCount(b)?a.requestPayload.instructions.push({type:"cancel",activityId:b.id}):Object.keys(b.instances).forEach(function(c){if(b.instances[c]){var d=b.instanceIds.filter(function(a){return a.id===c})[0].isTransitionInstance;d?a.requestPayload.instructions.push({type:"cancel",transitionInstanceId:c}):a.requestPayload.instructions.push({type:"cancel",activityInstanceId:c})}});break;case"startBefore":case"startAfter":var d={startAfter:"startAfterActivity",startBefore:"startBeforeActivity"}[b.operation];a.requestPayload.instructions.push({type:d,activityId:b.id,variables:s(b.variables),ancestorActivityInstanceId:b.ancestorActivityInstanceId})}})}var n=a.processData.newChild(a),o=a.pageData.newChild(a),p=f.resource("variable"),q=f.resource("process-instance"),r=k.getSkipCustomListeners();g(a,n,o,c,d),a.hideSkipCustomListeners=r.hidden,a.instructionSelectedInstancesCount=function(a){var b=0;for(var c in a.instances)a.instances[c]&&b++;return b},a.assignAncestor=function(b,c){c&&(a.instructions[b].ancestorActivityInstanceId=c)},a.instructionAddInstance=function(b,c){c&&(a.instructions[b].instances[c]=!0)},a.instructionSelectAllInstances=function(b){for(var c in a.instructions[b].instances)c||delete a.instructions[b].instances[c],a.instructions[b].instances[c]=!1},a.expandInstruction=function(b){var c=a.instructions[b].repeat;a.instructions[b].repeat=1;for(var e=1;e<c;e++)a.instructions.splice(b,0,d.copy(a.instructions[b]))},a.canCollapse=function(b){if(b===a.instructions.length-1)return!1;if("cancel"===a.instructions[b].operation)return!1;var c=d.copy(a.instructions[b]);delete c.repeat;var e=d.copy(a.instructions[b+1]);return delete e.repeat,d.equals(c,e)},a.collapseInstruction=function(b){var c=d.copy(a.instructions[b]);delete c.repeat;var e=d.copy(a.instructions[b+1]);for(delete e.repeat;d.equals(c,e)&&(a.instructions[b].repeat+=a.instructions[b+1].repeat,a.instructions.splice(b+1,1),b!==a.instructions.length-1);)e=d.copy(a.instructions[b+1]),delete e.repeat},a.instructionHasInstance=function(a,b){var c=a.allInstanceIds.map(function(a){return a.id});return c.indexOf(b)>-1},a.openAncestorDropdown=function(b){if(!a.instructions[b].ancestorVariablesLoaded){a.instructions[b].ancestorVariablesLoaded=!0;var c=a.instructions[b].ancestors.map(function(a){return a.id});p.instances({activityInstanceIdIn:c},function(c,d){for(var e=0;e<d.length;e++){var f=a.instructions[b].ancestors.filter(function(a){return a.id===d[e].activityInstanceId})[0];f.variables=f.variables||[],f.variables.push(d[e])}})}},a.info={},a.instructionInstanceInfo=function(b,c){if(a.info[c]=a.info[c]||{},"LOADING"!==a.info[c].loadingState){if("LOADED"===a.info[c].loadingState||"EMPTY"===a.info[c].loadingState)return void(a.info[c].show=!a.info[c].show);a.info[c]={loadingState:"LOADING",data:[],show:!0},p.instances({activityInstanceIdIn:[c]},function(b,d){a.info[c]={loadingState:b?"ERROR":d.length?"LOADED":"EMPTY",data:d,show:!0}})}},a.instructionHasVariables=function(a){return["startBefore","startAfter"].indexOf(a.operation)>-1},a.instructionVariableValue=function(){return"TODO: $scope.instructionVariableValue()"},a.editInstructionVariableValue=function(){},a.addInstructionVariable=function(b,c){c=c||"String";var d="String"===c?"":null;a.instructions[b].variables.push({name:null,type:c,value:d})},a.complexVariableType=function(a){return"String"===a},a.removeInstructionVariable=function(b,c){var d=a.instructions[b].variables;d=d.slice(0,c).concat(d.slice(c+1)),a.instructions[b].variables=d},n.observe("processInstance",function(b){a.requestPayload={id:b.id,skipCustomListeners:r["default"],skipIoMappings:!0,instructions:[]}});var s=function(a){for(var b={},c=0;c<a.length;c++)b[a[c].name]={type:a[c].type,value:a[c].value},"Object"===a[c].type&&(b[a[c].name].valueInfo=a[c].valueInfo),"Date"===a[c].type&&(b[a[c].name].value=j(a[c].value));return b};a.$watch("instructions",m,!0),a.confirmModification=function(){var c=b.open({template:e,controller:h,windowClass:"modification-confirmation-dialog",size:"lg",resolve:{requestPayload:function(){return a.requestPayload},hideSkipCustomListeners:function(){return a.hideSkipCustomListeners},instructions:function(){return a.instructions},instructionSelectedInstancesCount:function(){return a.instructionSelectedInstancesCount},processInstanceService:function(){return q}}});c.result.then(function(b){var c=b.payload,e=d.copy(c),f=b.async?"modifyAsync":"modify";q[f](e,function(b){return b?void i.addError({status:l.instant("PLGN_MOD_COULD_NOT_APPLY"),message:b.message}):(a.instructions=[],void location.reload())})})},a.filterSelectedInstances=function(a){var b=[];return d.forEach(a,function(a,c){a||b.push(c)}),b}}];b.exports=function(a){a.config(["ViewsProvider",function(a){a.registerDefaultView("cockpit.processInstance.runtime.tab",{id:"modification-process-instances",label:"PLGN_MOD_MODIFY",url:f("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/modification/views/instance/modification.html",controller:i,priority:-1,initialize:function(a){a.processData.provide("modificationInstructions",[]),a.pageData.provide("modificationHighlight",null)}})}])}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../patchScope":230}],229:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./instance/modification"),f=a("./definition/modification"),g=a("./definition/restart"),h=d.module("cockpit.plugin.modification.views",[]);
e(h),f(h),g(h),b.exports=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./definition/modification":226,"./definition/restart":227,"./instance/modification":228}],230:[function(a,b,c){b.exports=function(a,b,c,d,e){a.nameValue=["name","value"],a.instructions=[],a.variableTypes=["String","Boolean","Short","Integer","Long","Double","Date"],b.observe("modificationInstructions",function(b){a.instructions=b,f()}),a.highlight=null,c.observe("modificationHighlight",function(b){a.highlight=b}),a.isHighlighted=function(b){return a.highlight&&a.highlight.id===b},a.highlightInstruction=function(a){c.set("modificationHighlight",a)},a.unhighlightInstruction=function(){c.set("modificationHighlight",null)};var f=function(){return a.refreshed?void(a.refreshed=!1):void d(function(){var a=e.element(".ctn-tabbed-content");a.animate({scrollTop:a[0].scrollHeight-a.height()})})};a.removeInstruction=function(b){a.instructions.splice(b,1),a.refreshInstructions()},a.swapInstructions=function(b,c){var d=a.instructions[b];a.instructions[b]=a.instructions[c],a.instructions[c]=d,a.refreshInstructions()},a.instructionChangeOperation=function(b,c){a.instructions[c].operation=e.element(b.target).val(),a.refreshInstructions()},a.refreshInstructions=function(){a.refreshed=!0,b.set("modificationInstructions",e.copy(a.instructions))}}},{}],231:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./views/main");b.exports=d.module("cockpit.plugin.processActionsEE",[e.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./views/main":232}],232:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./processActionsEE/deleteProcessDefinitionsAction"),f=a("./processActionsEE/deleteProcessDefinitions"),g=d.module("cockpit.plugin.processActionsEE.views",[]);g.config(e),g.controller("DeleteProcessDefinitionsController",f),b.exports=g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./processActionsEE/deleteProcessDefinitions":233,"./processActionsEE/deleteProcessDefinitionsAction":234}],233:[function(a,b,c){"use strict";b.exports=["$scope","$modalInstance","Notifications","processDefinition","$rootScope","camAPI","configuration","$translate","$location",function(a,b,c,d,e,f,g,h,i){var j="PERFORM",k="SUCCESS",l="FAILED",m=g.getSkipCustomListeners();a.processDefinition=d,a.instancesCount=d.instances;var n=a.options={cascade:!1,skipCustomListeners:m["default"]};a.hideSkipCustomListeners=m.hidden,a.$on("$routeChangeStart",function(){b.close()}),a.deleteProcessDefinitions=function(){a.status=j;var b={key:d.key,tenantId:d.tenantId,skipCustomListeners:n.skipCustomListeners,cascade:n.cascade},g=f.resource("process-definition");g["delete"](b).then(function(){a.status=k,c.addMessage({status:h.instant("PLGN_PACT_NOTIFICATIONS_FINISHED"),message:h.instant("PLGN_PACT_NOTIFICATIONS_MSG_FINISHED",{key:d.key}),exclusive:!0}),e.$broadcast("processes.action.delete",d.id)})["catch"](function(b){a.status=l,c.addError({status:h.instant("PLGN_PACT_ERROR"),message:b,exclusive:!0})})},a.redirectToBatchOperation=function(){var a=[];null===d.tenantId?a.push({type:"PIwithoutTenantId",operator:"eq",value:""}):a.push({type:"PItenantIdIn",operator:"eq",value:d.tenantId}),a.push({type:"PIprocessDefinitionKey",operator:"eq",value:d.key}),i.path("/batch/operation").search({batchSearchQuery:JSON.stringify(a),operation:"DELETE_RUNTIME"})}}]},{}],234:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.jquery:"undefined"!=typeof a?a.jquery:null;b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processes.action",{id:"delete-process-definitions",label:"PLGN_PACT_LABEL",url:c("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/processActions/delete-process-definitions-action.html",controller:["$scope","$modal",function(a,b){a.openDialog=function(a){b.open({resolve:{processDefinition:function(){return a}},controller:"DeleteProcessDefinitionsController",templateUrl:c("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/processActions/delete-process-definitions-dialog.html"})}}],priority:20})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],235:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./views/main");b.exports=d.module("cockpit.plugin.processDefinitionEE",[e.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./views/main":236}],236:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./processDefinitionEE/cancelProcessInstancesAction"),f=a("./processDefinitionEE/deleteProcessDefinitionAction"),g=a("./processDefinitionEE/deleteProcessDefinition"),h=d.module("cockpit.plugin.processDefinitionEE.views",[]);h.config(e),h.config(f),h.controller("DeleteProcessDefinitionController",g),b.exports=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./processDefinitionEE/cancelProcessInstancesAction":237,"./processDefinitionEE/deleteProcessDefinition":238,"./processDefinitionEE/deleteProcessDefinitionAction":239}],237:[function(a,b,c){"use strict";b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processDefinition.runtime.action",{id:"delete-running-instances",label:"Delete Running Process Instances Action",url:"plugin://cockpitEE/static/app/processDefinitionEE/cancel-process-instances-action.html",controller:["$scope","$modal","$location",function(a,b,c){var d=function(a){var b=c.search().searchQuery,d=JSON.parse(b),e=[];d.forEach(function(a){switch(a.type){case"businessKey":a.type="PIprocessInstanceBusinessKey",e.push(a);break;case"startedDate":a.type="PIstartedDate",e.push(a);break;case"variables":a.type="PIvariables",e.push(a)}});var f={type:"PIprocessDefinitionId",operator:"eq",value:a.id,name:""};return e.push(f),JSON.stringify(e)};a.openBatch=function(){c.path("/batch/operation").search({batchSearchQuery:d(a.processDefinition),operation:"DELETE_RUNTIME"})}}],priority:20})}]},{}],238:[function(a,b,c){"use strict";b.exports=["$scope","$modalInstance","Notifications","processDefinition","processDefinitions","processInstances","$location","camAPI","configuration","$translate",function(a,b,c,d,e,f,g,h,i,j){var k="PERFORM",l="SUCCESS",m="FAILED",n=i.getSkipCustomListeners();a.processDefinition=d,a.instancesCount=f.count;var o=a.options={cascade:!1,skipCustomListeners:n["default"]};a.hideSkipCustomListeners=n.hidden,a.$on("$routeChangeStart",function(){b.close()}),a.redirect=function(){a.latestProcessDefinitionId?g.path("/process-definition/"+a.latestProcessDefinitionId+"/runtime"):g.path("/processes")},a.deleteProcessDefinition=function(){var b={id:d.id,skipCustomListeners:o.skipCustomListeners,cascade:o.cascade},f=h.resource("process-definition");f["delete"](b).then(function(){a.status=l;for(var b,f=0;f<e.length;f++)if(e[f].id===d.id){b=f;break}e.splice(b,1),e.length>0&&(a.latestProcessDefinitionId=e[0].id),c.addMessage({status:j.instant("PLGN_PDEF_NOTIFICATION_FINISHED"),message:j.instant("PLGN_PDEF_NOTIFICATION_MSG_FINISHED",{id:d.id}),exclusive:!0})})["catch"](function(b){a.status=m,c.addError({status:j.instant("PLGN_PDEF_NOTIFICATION_ERROR"),message:b,exclusive:!0})}),a.status=k},a.redirectToBatchOperation=function(){g.path("/batch/operation").search({batchSearchQuery:JSON.stringify([{type:"PIprocessDefinitionId",operator:"eq",value:d.id}]),operation:"DELETE_RUNTIME"})}}]},{}],239:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.jquery:"undefined"!=typeof a?a.jquery:null,d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/processDefinitionEE/app/views/processDefinitionEE/delete-process-definition-dialog.html -->\n<div class="modal-header">\n  <h3 class="modal-title">{{ \'PLGN_PDEF_DELETE_ID\' | translate:{id: processDefinition.id} }}</h3>\n</div>\n\n<div class="modal-body delete-process-definition-dialog">\n  <div notifications-panel\n       class="notifications-panel"></div>\n\n  <div ng-if="status !== \'SUCCESS\'">\n    {{ \'PLGN_PDEF_DELETE_STATUS\' | translate }}\n\n    <div class="alert alert-info"\n         ng-if="instancesCount > 0 && !options.cascade">\n      {{ instancesCount === 1 ?\n      (\'PLGN_PDEF_MODAL_INFO_SINGULAR\' | translate) :\n      (\'PLGN_PDEF_MODAL_INFO_PLURAL\' | translate:{instancesCount: instancesCount}) }}\n    </div>\n\n    <div class="alert alert-warning"\n         ng-if="options.cascade">\n      <strong>{{ \'PLGN_PDEF_MODAL_CASCADE_HINT_HEADS_UP\' | translate }}</strong> <br>\n      {{ \'PLGN_PDEF_MODAL_CASCADE_HINT_DELETE_HIGH_AMOUNTS\' | translate }}\n      <a ng-click="redirectToBatchOperation()">{{ \'PLGN_PDEF_MODAL_CASCADE_HINT_BATCH_OPERATION\' | translate }}</a>.\n    </div>\n\n    <form class="form-horizontal"\n          name="deleteProcessDefinitionForm"\n          novalidate\n          request-aware>\n\n        <div class="form-group cascade">\n\n          <label class="control-label col-xs-5"\n                 for="cascade">\n            {{ \'PLGN_PDEF_MODAL_CASCADE\' | translate }}\n            <span class="glyphicon glyphicon-question-sign"\n                  tooltip="{{ \'PLGN_PDEF_MODAL_CASCADE_TOOLTIP\' | translate }}"\n                  tooltip-placement="right">\n            </span>\n          </label>\n\n          <div class="col-xs-7">\n            <label class="checkbox">\n              <input id="cascade"\n                     type="checkbox"\n                     ng-model="options.cascade">\n            </label>\n          </div>\n\n        </div>\n\n      <div  ng-hide="hideSkipCustomListeners"\n            class="form-group skip-custom-listener">\n\n        <label class="control-label col-xs-5"\n               for="skipCustomListeners">\n          {{ \'PLGN_PDEF_MODAL_SKIP_CUSTOM_LISTENERS\' | translate }}\n          <span class="glyphicon glyphicon-question-sign"\n                tooltip="{{ \'PLGN_PDEF_MODAL_SKIP_CUSTOM_LISTENERS_TOOLTIP\' | translate }}"\n                tooltip-placement="right">\n          </span>\n        </label>\n\n        <div class="col-xs-7">\n          <label class="checkbox">\n            <input id="skipCustomListeners"\n                   type="checkbox"\n                   ng-model="options.skipCustomListeners">\n          </label>\n        </div>\n\n      </div>\n\n    </form>\n    {{ \'PLGN_PDEF_MODAL_SURE\' | translate }}\n  </div>\n</div>\n\n<div class="modal-footer">\n  <button ng-if="status !== \'SUCCESS\'"\n          class="btn btn-link"\n          ng-click="$dismiss()"\n          ng-disabled="status === \'PERFORM\'">{{ \'PLGN_PDEF_MODAL_CLOSE\' | translate }}</button>\n\n  <button ng-if="status !== \'SUCCESS\'"\n          type="submit"\n          class="btn btn-primary"\n          ng-click="deleteProcessDefinition()"\n          ng-disabled="status === \'PERFORM\' || (!options.cascade && instancesCount > 0)">{{ \'PLGN_PDEF_MODAL_DELETE\' | translate }}</button>\n\n  <button ng-if="status === \'SUCCESS\'"\n          type="submit"\n          class="btn btn-primary"\n          ng-click="redirect()">{{ \'PLGN_PDEF_MODAL_OK\' | translate }}</button>\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/processDefinitionEE/app/views/processDefinitionEE/delete-process-definition-dialog.html -->\n';b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processDefinition.runtime.action",{id:"delete-process-definition",label:"PLGN_PDEF_DELETE_ACTION",url:c("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/processDefinitionEE/delete-process-definition-action.html",controller:["$scope","$modal",function(a,b){a.openDialog=function(a,c,e){b.open({resolve:{processDefinition:function(){return a},processDefinitions:function(){return c},processInstances:function(){return e}},controller:"DeleteProcessDefinitionController",template:d,backdrop:"static",keyboard:!1})}}],priority:20})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],240:[function(a,b,c){"use strict";var d='<!-- EE # webapps/camunda-webapp/plugins/src/main/resources-plugin/redeploy/app/deployment/actions/redeploy-deployment.html -->\n<a class="redeploy-deployment"\n   ng-click="openRedeployDialog($event, deployment)"\n   tooltip="{{ \'PLGN_REDE\' | translate }}">\n  <span class="glyphicon glyphicon-open"></span>\n</a>\n<!-- EE / webapps/camunda-webapp/plugins/src/main/resources-plugin/redeploy/app/deployment/actions/redeploy-deployment.html -->\n',e=["$scope","$modal","$rootScope","Uri",function(a,b,c,d){var e=a.deploymentData.newChild(a),f=a.control,g=["$scope","$modalInstance","$timeout","$location","camAPI","Notifications","routeUtil","redeployDeploymentData","deployment","$translate",function(a,b,c,d,e,g,h,i,j,k){var l=e.resource("deployment");a.deployment=j;var m=[];a.$on("$destroy",function(){for(var a;a=m.pop();)"function"==typeof a&&c(a)}),a.$on("$routeChangeStart",function(){a.$dismiss()});var n=function(a){var b="#/repository",c={deployment:a.id,deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:a.id}])},e=d.search()||{};return e.deploymentsSortBy&&(c.deploymentsSortBy=e.deploymentsSortBy),e.deploymentsSortOrder&&(c.deploymentsSortOrder=e.deploymentsSortOrder),h.redirectTo(b,c,["deployment","deploymentsQuery","deploymentsSortBy","deploymentsSortOrder"])},o=function(a){var b=k.instant("PLGN_REDE_NOTIFICATIONS_SUCCESS"),c=k.instant("PLGN_REDE_NOTIFICATIONS_SUCCESS_MSG",{deployment:a.name||a.id})+'<br/><a href="'+n(a)+'">'+k.instant("PLGN_REDE_NOTIFICATIONS_SUCCESS_MSG_SEE")+"</a>";f.addMessage(b,c,!0)},p=function(b,c){g.addError({status:k.instant("PLGN_REDE_NOTIFICATIONS_FAILED"),message:k.instant("PLGN_REDE_NOTIFICATIONS_FAILED_MSG",{deployment:c.name||c.id,err:b.message}),exclusive:!0,scope:a})};a.redeploy=function(c){a.status="LOADING";var d={id:c.id,tenantId:c.tenantId,source:"cockpit"};l.redeploy(d,function(d,e){return a.status=null,d?p(d,c):(m.push(function(){o(e)}),void b.close(e))})}}];a.openRedeployDialog=function(a,f){a.stopPropagation();var h=b.open({controller:g,templateUrl:d.appUri("cockpit://plugin/cockpitEE/static/app/redeploy/redeploy-deployment-modal.html"),windowClass:"redeploy-deployment-modal",resolve:{redeployDeploymentData:function(){return e},deployment:function(){return f}}});h.result.then(function(){c.$broadcast("cam-common:cam-searchable:query-force-change")})}}],f=function(a){a.registerDefaultView("cockpit.repository.deployment.action",{id:"redeploy-deployment",template:d,controller:e,priority:500})};f.$inject=["ViewsProvider"],b.exports=f},{}],241:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./actions/redeploy-deployment"),f=d.module("cockpit.plugin.redeploy.deployment",[]);f.config(e),b.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./actions/redeploy-deployment":240}],242:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./deployment/main"),f=a("./resource/main");b.exports=d.module("cockpit.plugin.redeploy",[e.name,f.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./deployment/main":241,"./resource/main":244}],243:[function(a,b,c){"use strict";var d='<!-- EE # webapps/camunda-webapp/plugins/src/main/resources-plugin/redeploy/app/resource/actions/redeploy-resource.html -->\n<a class="redeploy-resource"\n   ng-click=" openRedeployDialog(deployment, resource)"\n   ng-if="!control.isImageResource(resource) && !control.isUnkownResource(resource)">\n  <span class="glyphicon glyphicon-open"></span>{{ \'PLGN_REDE_REDEPLOY_RES\' | translate }}\n</a>\n<!-- EE / webapps/camunda-webapp/plugins/src/main/resources-plugin/redeploy/app/resource/actions/redeploy-resource.html -->\n',e=["$scope","$modal","$rootScope","Uri",function(a,b,c,d){var e=a.resourceDetailsData.newChild(a),f=a.control,g=["$scope","$modalInstance","$timeout","$location","camAPI","Notifications","routeUtil","redeployResourceData","resource","deployment","$translate",function(b,c,d,e,g,h,i,j,k,l,m){var n=g.resource("deployment");b.deployment=l,b.resource=k,b.control=f;var o=[];b.$on("$destroy",function(){for(var a;a=o.pop();)"function"==typeof a&&d(a)}),b.$on("$routeChangeStart",function(){b.$dismiss()});var p=function(a,b){var c="#/repository",d={deployment:a.id,resourceName:b.name,deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:a.id}])},f=e.search()||{};return f.deploymentsSortBy&&(d.deploymentsSortBy=f.deploymentsSortBy),f.deploymentsSortOrder&&(d.deploymentsSortOrder=f.deploymentsSortOrder),i.redirectTo(c,d,["deployment","resourceName","deploymentsQuery","deploymentsSortBy","deploymentsSortOrder"])},q=function(b,c){h.addMessage({status:m.instant("PLGN_REDE_NOTIFICATIONS_SUCCESS"),message:m.instant("PLGN_REDE_RES_NOTIFICATIONS_SUCCESS_MSG",{resource:c.name||c.id})+'<br/><a href="'+p(b,c)+'">'+m.instant("PLGN_REDE_NOTIFICATIONS_SUCCESS_MSG_SEE")+"</a>",scope:a,unsafe:!0})},r=function(a,c){h.addError({status:m.instant("PLGN_REDE_NOTIFICATIONS_FAILED"),message:m.instant("PLGN_REDE_RES_NOTIFICATIONS_FAILED_MSG",{resource:c.name||c.id,err:a.message}),exclusive:!0,scope:b})};b.redeploy=function(a,d){b.status="LOADING";var e={id:a.id,tenantId:a.tenantId,source:"cockpit",resourceIds:[d.id]};n.redeploy(e,function(a,e){return b.status=null,a?r(a,d):(o.push(function(){q(e,d)}),void c.close(e))})}}];a.openRedeployDialog=function(a,f){var h=b.open({controller:g,templateUrl:d.appUri("cockpit://plugin/cockpitEE/static/app/redeploy/redeploy-resource-modal.html"),windowClass:"redeploy-resource-modal",resolve:{redeployResourceData:function(){return e},resource:function(){return f},deployment:function(){return a}}});h.result.then(function(){c.$broadcast("cam-common:cam-searchable:query-force-change")})}}],f=function(a){a.registerDefaultView("cockpit.repository.resource.action",{id:"redeploy-resource",controller:e,template:d,priority:200})};f.$inject=["ViewsProvider"],b.exports=f},{}],244:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./actions/redeploy-resource"),f=d.module("cockpit.plugin.redeploy.resource",[]);f.config(e),b.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./actions/redeploy-resource":243}],245:[function(a,b,c){"use strict";function d(a,b){return a.map(function(a){return a[b]})}var e=a("chart.js");e.types.Bar.extend({name:"MinMaxAvgBar",defaults:{minStrokeColor:"green",maxStrokeColor:"red",pointColor:"white",pointStrokeColor:"black",pointDotRadius:4},initialize:function(a,b){this.minimas=d(a.datasets,"mins")[0],this.maximas=d(a.datasets,"maxs")[0],this.states=d(a.datasets,"states")[0],e.types.Bar.prototype.initialize.call(this,a,b)},buildScale:function(a){var b=this,c=e.helpers,d=function(){var a=[];return b.eachBars(function(c,d){var e=b.maximas[d];e&&a.push(e)}),a.length||a.push(0),a},f={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:a.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(a){var b=c.calculateScaleRange(d(),a,this.fontSize,this.beginAtZero,this.integersOnly);c.extend(this,b)},xLabels:a,font:c.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&c.extend(f,{calculateYRange:c.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,minimum:this.options.scaleStartValue,maximum:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(f)},draw:function(){e.types.Bar.prototype.draw.apply(this,arguments);var a=this.chart.ctx,b=this.options;this.eachBars(function(c,d){if("no data"!==this.states[d]){var e=this.scale.calculateY(this.minimas[d]),f=this.scale.calculateY(this.maximas[d]),g=this.scale.calculateX(d),h=c.width/2;a.beginPath(),a.strokeStyle=b.maxStrokeColor,a.moveTo(g-.75*h,f),a.lineTo(g+.75*h,f),a.stroke(),a.beginPath(),a.strokeStyle=b.minStrokeColor,a.moveTo(g-.75*h,e),a.lineTo(g+.75*h,e),a.stroke(),a.beginPath(),a.strokeStyle=c.strokeColor,a.moveTo(g,f),a.lineTo(g,e),a.stroke(),a.beginPath(),a.fillStyle="#fff",a.arc(g,c.y,b.pointDotRadius,0,2*Math.PI),a.fill(),a.stroke()}})}}),b.exports=e},{"chart.js":12}],246:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./views/process-instance-duration-report-main"),f=a("./views/completed-tasks-main"),g=d.module("cockpit.plugin.reporting",[e.name,f.name]);b.exports=g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./views/completed-tasks-main":248,"./views/process-instance-duration-report-main":254}],247:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.jquery:"undefined"!=typeof a?a.jquery:null,d="undefined"!=typeof window?window.moment:"undefined"!=typeof a?a.moment:null,e=["$scope","$q","camAPI","search",function(a,b,c,e){var f=function(a){var b=e()||{};return b[a]||null},g=a.reportData=a.reportPluginData.newChild(a),h=f("groupBy"),i=f("before"),j=f("after"),k=f("year"),l=f("period");a.$on("$routeChanged",function(){var a=h,b=i,c=j,d=k,e=l;h=f("groupBy"),i=f("before"),j=f("after"),k=f("year"),l=f("period"),a!==h?g.changed("request"):b!==i?g.changed("request"):c!==j?g.changed("request"):d!==k?g.changed("request"):e!==l&&g.changed("request")}),g.provide("now",d()),g.provide("request",["now",function(a){var b=a.year(),c=a.format("YYYY-MM-DDTHH:mm:ss"),d=a.clone().subtract(3,"months").format("YYYY-MM-DDTHH:mm:ss");return{groupBy:f("groupBy")||"taskName",before:f("before")||c,after:f("after")||d,year:f("year")||""+b,periodUnit:f("period")||"month"}}])}];b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.report",{id:"reporting-completed-task-report",label:"PLGN_REP_COMPLETED_HUMAN_TASK_REPORT",url:c("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/reporting/completed-task-report.html",controller:e,priority:50,config:{}})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],248:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./completed-task-report"),f=a("./directives/completed-task-report-query"),g=a("./directives/completed-task-report-result"),h=a("./directives/completed-task-report-duration-result"),i=d.module("cockpit.plugin.completedTaskReport.views",[]);i.config(e),i.directive("camCompletedTaskReportQuery",f),i.directive("camCompletedTaskReportResult",g),i.directive("camCompletedTaskDurationReportResult",h),b.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./completed-task-report":247,"./directives/completed-task-report-duration-result":249,"./directives/completed-task-report-query":250,"./directives/completed-task-report-result":251}],249:[function(a,b,c){(function(c){"use strict";function d(a,b){for(var c,d={},e=0;c=a[e];e++)d[c[b]]=c;return d}function e(a){var b=[];for(var c in a)b.push(a[c]);return b}function f(a,b){return(a||[]).map(function(a){return a[b]})}function g(a,b){return o[a].slice(0,-2)+b+")"}function h(a,b){if(a=""+a,!a||a.length>=b)return a;for(var c=b-a.length,d=0;d<c;d++)a="0"+a;return a}function i(a,b,c){var d,e=m.duration(parseInt(a,10),"ms"),f=[e.seconds()+(b?"":"."+h(e.milliseconds(),3))+"s"];return a>=q&&(d=e.minutes(),d&&f.unshift(d+"mi"),a>=r&&(d=e.hours(),d&&f.unshift(d+"h"),a>=s&&(d=e.days(),d&&f.unshift(d+"d"),a>=t&&(d=e.months(),d&&f.unshift(d+"mo"),a>=u&&f.unshift(e.years()+"y"))))),f.slice(0,c||3).join(" ")}var j="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,k=a("./../../lib/Chart.MinMaxBar"),l='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/reporting/app/views/directives/completed-task-report-duration-result.html -->\n<div cam-widget-loader\n     loading-state="{{ loadingState }}">\n\n  <div class="row">\n    <div class="col-xs-4">\n      <div class="btn-group btn-group-sm reporting-chart-type-choice">\n        <button ng-class="displayMode === \'bars\' ? \'btn-primary\' : \'btn-default\'"\n                ng-click="setDisplayMode(\'bars\', true)"\n                class="btn duration-bars-btn"\n                tooltip="{{ \'PLGN_REP_BARS_CHART\' | translate }}">\n          <span class="cam-reporting-bars-chart"></span>\n        </button>\n        <button ng-class="displayMode === \'table\' ? \'btn-primary\' : \'btn-default\'"\n                ng-click="setDisplayMode(\'table\', true)"\n                class="btn  duration-table-btn"\n                tooltip="{{ \'PLGN_REP_TABLE_VIEW\' | translate }}">\n          <span class="cam-reporting-grid"></span>\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <div class="row">\n\n    <div class="col-xs-12 reporting-chart-holder"\n         ng-if="displayMode !== \'table\'">\n      <div class="chart-canvas"\n           ng-show="displayMode === \'bars\'">\n        <canvas class="task-duration-chart"\n                ng-mousemove="canvasHover($event)"></canvas>\n      </div>\n\n      <div class="chart-info row"\n           ng-show="chartInfo.period">\n        <div class="col-sm-3">\n          <label>{{ \'PLGN_REP_PERIOD\' | translate }}</label>\n          <span class="visible-xs-block visible-sm-block visible-md-inline visible-lg-block">\n            {{ chartInfo.period }}\n          </span>\n        </div>\n        <div class="col-sm-3 chart-color-avg">\n          <label>{{ \'PLGN_REP_AVERAGE\' | translate }}</label>\n          <span class="visible-xs-block visible-sm-block visible-md-inline visible-lg-block">\n            {{ chartInfo.average }}\n          </span>\n        </div>\n        <div class="col-sm-3 chart-color-min">\n          <label>{{ \'PLGN_REP_MINIMUM\' | translate }}</label>\n          <span class="visible-xs-block visible-sm-block visible-md-inline visible-lg-block">\n            {{ chartInfo.minimum }}\n          </span>\n        </div>\n        <div class="col-sm-3 chart-color-max">\n          <label>{{ \'PLGN_REP_MAXIMUM\' | translate }}</label>\n          <span class="visible-xs-block visible-sm-block visible-md-inline visible-lg-block">\n            {{ chartInfo.maximum }}\n          </span>\n        </div>\n      </div>\n\n      <div class="chart-info row"\n           ng-hide="chartInfo.period">\n        <div class="col-xs-12 text-help text-right">\n          <span class="glyphicon glyphicon-info-sign"></span> {{ \'PLGN_REP_DETAILED_VALUES\' | translate }}\n        </div>\n      </div>\n    </div>\n\n\n    <div class="col-xs-12" ng-if="displayMode === \'table\'">\n      <table class="cam-table reporting-table task-duration-table">\n        <thead>\n        <tr>\n          <th>&nbsp;</th>\n          <th class="chart-color-avg">{{ \'PLGN_REP_AVERAGE_COL\' | translate }}</th>\n          <th class="chart-color-min">{{ \'PLGN_REP_MIN\' | translate }}</th>\n          <th class="chart-color-max">{{ \'PLGN_REP_MAX\' | translate }}</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr ng-repeat="item in data">\n          <th>{{ item.label }}</th>\n          <td ng-if="item.state" colspan="3" align="left" class="chart-no-data">{{ \'PLGN_REP_NO_DATA\' | translate }}</td>\n          <td ng-if="!item.state" class="chart-color-avg">\n            {{ formatTableDuration(item.average) }}\n          </td>\n          <td ng-if="!item.state" class="chart-color-min">\n            {{ formatTableDuration(item.minimum) }}\n          </td>\n          <td ng-if="!item.state" class="chart-color-max">\n            {{ formatTableDuration(item.maximum) }}\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/reporting/app/views/directives/completed-task-report-duration-result.html -->\n',m="undefined"!=typeof window?window.moment:"undefined"!=typeof c?c.moment:null,n=j.extend,o={minimum:"rgba(210, 105, 30, 1)",maximum:"rgba(210, 30, 130, 1)",average:"rgba(0, 136, 204, 1)"},p=1e3,q=60*p,r=60*q,s=24*r,t=30*s,u=365*s;b.exports=[function(){return{restrict:"A",scope:{completedTaskReportData:"="},template:l,controller:["$scope","Uri","search","camAPI","Notifications","$translate",function(a,b,c,h,l,m){function p(b){switch(b.label="label",b.periodUnit){case"QUARTER":case"quarter":b.label="Q. "+b.period+" "+a.request.year;break;case"MONTH":case"month":b.label=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][b.period]+" "+a.request.year}}function q(a,b){var c;switch(b){case"quarter":c=4;break;case"month":c=12}for(var f={periodUnit:b,state:"no data"},g=d(a,"period"),h=1;h<=c;h++)g[h]||(g[h]=n({},{period:h},f));return e(g)}function r(a){var b={},c=parseInt(a.year,10);return b.completedBefore=c+1+"-01-01T00:00:00.000+0000",b.completedAfter=c-1+"-12-31T23:59:59.000+0000",b.periodUnit=a.periodUnit,b}function s(){var a=j.element("canvas.task-duration-chart"),b=a.parent().width(),c=a.parent().height();return a.attr("width",b).attr("height",c).css({width:b+"px",height:c+"px"}),a}function t(b){b?a.data=b:b=a.data;var c=s();if(!c.height()||!c.width())return setTimeout(function(){t()},50);u&&u.destroy&&u.destroy();var d={animation:!0,maintainAspectRatio:!1,responsive:!0,scaleBeginAtZero:!0,scaleFontColor:"#666",scaleGridLineColor:"#aaa",scaleLineColor:"#aaa",showTooltips:!1,scaleLabel:function(a){return i(a.value,!0)}},e=c[0].getContext("2d");u=new k(e).MinMaxAvgBar({labels:f(b,"label"),datasets:[{label:"Duration",fillColor:g("average",.3),strokeColor:g("average",1),data:f(b,"average"),mins:f(b,"minimum"),maxs:f(b,"maximum"),states:f(b,"state")}]},n({},d,{minStrokeColor:g("minimum",1),maxStrokeColor:g("maximum",1),pointColor:g("average",1),pointStrokeColor:g("average",1),pointHighlightFill:"#fff",pointHighlightStroke:g("average",1),barStrokeWidth:1}))}var u,v=function(a){c.updateSilently(a)},w=function(a){var b=c()||{};return b[a]||null},x=h.resource("history"),y=a.completedTaskReportData.newChild(a);a.chartInfo={colors:j.copy(o)},a.canvasHover=function(b){var c=u.getBarsAtEvent(b);if(!c||c.length<1)return void(a.chartInfo={colors:j.copy(o)
});if(c=c[0],!a.chartInfo.period||c.label!==a.chartInfo.period){var d=-1;u.datasets[0].bars.forEach(function(a,b){a.label===c.label&&(d=b)}),"no data"!==u.states[d]&&(a.chartInfo.period=c.label,a.chartInfo.average=i(c.value,!1,9),a.chartInfo.minimum=i(u.minimas[d],!1,9),a.chartInfo.maximum=i(u.maximas[d],!1,9))}},a.loadingState="INITIAL",a.formatDuration=i,a.tableOriginalValues=!1,a.formatTableDuration=function(b){return a.tableOriginalValues?b+"ms":i(b,!1,9)};var z=a.displayMode=w("mode")||"bars";a.$on("$routeChanged",function(){var b=z;z=w("mode")||"bars",b!==z&&a.setDisplayMode(z)}),y.observe("request",function(b){b&&"completionTime"===b.groupBy&&(a.request=b,r(b),A(b))});var A=function(b){a.loadingState="LOADING";var c=r(b);x.taskDurationReport(c,function(c,d){return c?(a.loadingState="ERROR",void l.addError({status:m.instant("PLGN_REP_FAILED"),message:m.instant("PLGN_REP_FAILED_MSG")})):(a.loadingState="LOADED",d=q(d,b.periodUnit),d.forEach(p),a.data=d,void("bars"===a.displayMode&&t(d)))})};a.setDisplayMode=function(b,c){a.displayMode=b,"bars"===a.displayMode?t(a.data):u&&u.destroy&&(u.destroy(),u=null),c&&v({mode:b})}}]}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../lib/Chart.MinMaxBar":245}],250:[function(a,b,c){(function(a){"use strict";var c='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/reporting/app/views/directives/completed-task-report-query.html -->\n<form class="form-horizontal completed-task-report-query-form"\n      name="reportingTypeForm"\n      role="form">\n\n  <div class="row-md-half">\n    <div class="form-group">\n\n      <label for="completed-task-groupby"\n             class="col-xs-4 col-lg-5 control-label">{{ \'PLGN_REP_GROUP_BY\' | translate }}</label>\n      <div class="col-xs-8 col-lg-7">\n\n        <select name="completed-task-groupby"\n                class="form-control"\n                ng-model="selection.groupBy"\n                ng-change="groupByChanged()">\n          <option value="taskName">{{ \'PLGN_REP_TASK_NAME\' | translate }}</option>\n          <option value="processDefinition">{{ \'PLGN_REP_PROCESS_DEFINITION_KEY\' | translate }}</option>\n          <option value="completionTime">{{ \'PLGN_REP_COMPLETION_TIME\' | translate }}</option>\n        </select>\n      </div>\n    </div>\n  </div>\n\n  <div class="row-md-half">\n    <div class="form-group" ng-if="!isCompletionTime">\n\n      <label class="col-xs-4 col-lg-5 control-label">{{ \'PLGN_REP_COMPLETED_AFTER\' | translate }}</label>\n      <div class="col-xs-8 col-lg-7">\n        <p class="form-control-static">\n          <span cam-widget-inline-field\n                name="completed-task-after"\n                type="datetime"\n                value="selection.after">\n            {{ selection.after | camDate }}\n          </span>\n        </p>\n      </div>\n    </div>\n\n    <div class="form-group" ng-if="!isCompletionTime">\n\n      <label class="col-xs-4 col-lg-5 control-label">{{ \'PLGN_REP_COMPLETED_BEFORE\' | translate }}</label>\n      <div class="col-xs-8 col-lg-7">\n        <p class="form-control-static">\n          <span cam-widget-inline-field\n                name="completed-task-before"\n                type="datetime"\n                value="selection.before">\n            {{ selection.before | camDate }}\n          </span>\n        </p>\n      </div>\n    </div>\n\n    <div class="form-group" ng-if="isCompletionTime">\n\n      <label for="completed-task-year"\n             class="col-xs-4 col-lg-5 control-label">{{ \'PLGN_REP_YEAR\' | translate }}</label>\n      <div class="col-xs-8 col-lg-7">\n\n        <span ng-if="!availableYearsState.$loaded"\n              class="glyphicon glyphicon-refresh animate-spin"></span>\n\n        <select ng-if="availableYearsState.$loaded"\n                class="form-control"\n                name="completed-task-year"\n                ng-model="selection.year"\n                ng-change="yearChanged()"\n                ng-options="value as label for (value, label) in availableYears">\n        </select>\n      </div>\n\n    </div>\n\n    <div class="form-group" ng-if="isCompletionTime">\n      <label for="completed-task-period-unit"\n             class="col-xs-4 col-lg-5 control-label">{{ \'PLGN_REP_PERIOD_UNIT\' | translate }}</label>\n\n      <div class="col-xs-8 col-lg-7">\n        <select class="form-control"\n                name="completed-task-period-unit"\n                ng-model="selection.periodUnit"\n                ng-change="periodChanged()">\n          <option value="quarter">{{ \'PLGN_REP_QUERTERLY\' | translate }}</option>\n          <option value="month">{{ \'PLGN_REP_MONTHLY\' | translate }}</option>\n        </select>\n      </div>\n    </div>\n  </div>\n\n</form>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/reporting/app/views/directives/completed-task-report-query.html -->\n',d="undefined"!=typeof window?window.moment:"undefined"!=typeof a?a.moment:null;b.exports=[function(){return{restrict:"A",scope:{completedTaskReportData:"=",isCompletionTime:"="},template:c,controller:["$scope","$q","search","camAPI",function(a,b,c,e){var f=e.resource("history"),g=function(a){c.updateSilently(a)},h=function(a){var b=c()||{};return b[a]||null},i=a.selection={groupBy:h("groupBy"),before:h("before"),after:h("after"),periodUnit:h("periodUnit"),year:h("year")};a.$on("$routeChanged",function(){i.groupBy=h("groupBy"),i.before=h("before"),i.after=h("after"),i.periodUnit=h("periodUnit"),i.year=h("year")}),a.isCompletionTime="completionTime"===i.groupBy;var j=a.completedTaskReportData.newChild(a);j.observe("request",function(b){i.groupBy=b.groupBy,i.after=b.after,i.before=b.before,i.year=b.year,i.periodUnit=b.periodUnit,a.isCompletionTime="completionTime"===i.groupBy}),j.provide("availableYears",["now","request",function(a){var c=b.defer(),e={finished:!0,sortBy:"endTime",sortOrder:"asc",firstResult:0,maxResults:1};return f.task(e,function(b,e){if(b)c.reject(b);else{var f={};if(f[""+a.year()]=a.year(),e&&e.length)for(var g=d(e[0].endTime),h=g.year();h<a.year();h++)f[""+h]=h;c.resolve(f)}}),c.promise}]),a.availableYearsState=j.observe("availableYears",function(b){a.availableYears=b}),a.groupByChanged=function(){g({groupBy:i.groupBy,before:i.before,after:i.after,periodUnit:i.periodUnit,year:i.year}),a.isCompletionTime="completionTime"===i.groupBy,j.changed("request")},a.yearChanged=function(){g({year:i.year}),j.changed("request")},a.periodChanged=function(){g({period:i.periodUnit}),j.changed("request")},a.$watch("selection.before",function(a,b){b!==a&&k("before")}),a.$watch("selection.after",function(a,b){b!==a&&k("after")});var k=function(a){var b={};b[a]=i[a],g(b),j.changed("request")}}]}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],251:[function(a,b,c){"use strict";var d='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/reporting/app/views/directives/completed-task-report-query.html -->\n<div cam-widget-loader\n     loading-state="{{ loadingState }}">\n\n  <div class="row">\n\n    <div class="col-xs-12">\n      <table class="cam-table" ng-if="data.length > 0">\n        <thead>\n        <tr>\n          <th class="completed-task-report count-header">{{ \'PLGN_REP_AMOUNT\' | translate }}</th>\n          <th class="completed-task-report task-header" ng-if="isTaskQuery">{{ \'PLGN_REP_TASK_NAME\' | translate }}</th>\n          <th class="completed-task-report process-def-header">{{ \'PLGN_REP_PROCESS_DEFINITION_NAME\' | translate }}</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr ng-repeat="item in data">\n          <td class="completed-task-report amount-data">\n            <a class="task-search-link" href="#/tasks?searchQuery={{ generateTaskSearch(item.processDefinitionKey) }}">\n              {{ item.count }}\n            </a>\n          </td>\n          <td class="completed-task-report task-data" ng-if="isTaskQuery">\n            <a class="task-search-link" href="#/tasks?searchQuery={{ generateTaskSearch(item.processDefinitionKey, item.taskName) }}">\n              {{ item.taskName }}\n            </a>\n          </td>\n          <td class="completed-task-report process-def-data">\n            <a class="proc-def-link" href="#/process-definition/{{ item.processDefinitionId }}/history">\n              {{ item.processDefinitionName || item.processDefinitionKey }}\n            </a>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n      <p ng-if="!data.length > 0"\n         class="form-control-static">\n        <span class="glyphicon glyphicon-info-sign">{{ \'PLGN_REP_NO_TASKS\' | translate }}</span>\n      </p>\n    </div>\n  </div>\n\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/reporting/app/views/directives/completed-task-report-query.html -->\n';b.exports=[function(){return{restrict:"A",scope:{completedTaskReportData:"="},template:d,controller:["$scope","Uri","search","camAPI","Notifications","fixDate","$translate",function(a,b,c,d,e,f,g){a.basePath=b.appUri("engine://engine/:engine/history/task/report"),a.isTaskQuery=!0,a.generateTaskSearch=function(a,b){var c=[{type:"finished",operator:"eq",value:"",name:""},{type:"processDefinitionKey",operator:"eq",value:a,name:""}];void 0!==b&&c.push({type:"taskName",operator:"eq",value:b,name:""});var d=JSON.stringify(c);return encodeURI(d)};var h=function(a){var b={},c=parseInt(a.year,10);return b.completedBefore=f(a.before||c+1+"-01-01T00:00:00"),b.completedAfter=f(a.after||c-1+"-12-31T23:59:59"),b.groupBy=a.groupBy,b},i=d.resource("history");a.loadingState="INITIAL";var j=a.completedTaskReportData.newChild(a);j.observe("request",function(b){b&&"completionTime"!==b.groupBy&&(a.request=b,h(b),k(b))});var k=function(b){a.loadingState="LOADING";var c=h(b);a.isTaskQuery="taskName"===b.groupBy,i.taskReport(c,function(b,c){return b?(a.loadingState="ERROR",void e.addError({status:g.instant("PLGN_REP_FAILED"),message:g.instant("PLGN_REP_FAILED_REPORT_MSG")})):(a.loadingState="LOADED",void(a.data=c))})}}]}}]},{}],252:[function(a,b,c){(function(a){"use strict";var c='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/reporting/app/views/directives/report-duration-query.html -->\n<form class="form-horizontal"\n      name="reportingTypeForm"\n      role="form">\n\n  <div class="row-md-half">\n    <div class="form-group">\n\n      <label for="processDefinition"\n             class="col-xs-4 col-lg-5 control-label">{{ \'PLGN_REP_PROCESS_DEFINITION\' | translate }}</label>\n      <div class="col-xs-8 col-lg-7">\n\n        <span ng-if="!processDefinitionsState.$loaded"\n              class="glyphicon glyphicon-refresh animate-spin"></span>\n\n        <select ng-if="processDefinitionsState.$loaded"\n                name="processDefinition"\n                class="form-control"\n                ng-model="selection.key"\n                ng-change="keyChanged()"\n                ng-options="processDefinition.key as processDefinition.name for processDefinition in processDefinitions | orderBy:\'name\':false">\n          <option value="">{{ \'PLGN_REP_ALL_PROCESS_DEFINITIONS\' | translate }}</option>\n        </select>\n      </div>\n\n    </div>\n\n    <div class="form-group">\n\n      <label for="version"\n             class="col-xs-4 col-lg-5 control-label">{{ \'PLGN_REP_VERSION\' | translate }}</label>\n      <div class="col-xs-8 col-lg-7">\n\n        <select name="version"\n                class="form-control"\n                ng-model="selection.version"\n                ng-change="versionChanged()"\n                ng-disabled="!selection.key"\n                ng-options="processDefinition.version as processDefinition.version for processDefinition in processDefinitionsByKey[selection.key]">\n          <option value="">{{ \'PLGN_REP_ALL_VERSIONS\' | translate }}</option>\n        </select>\n      </div>\n\n    </div>\n  </div>\n\n  <div class="row-md-half">\n    <div class="form-group">\n\n      <label for="year"\n             class="col-xs-4 col-lg-5 control-label">{{ \'PLGN_REP_ALL_YEAR\' | translate}}</label>\n      <div class="col-xs-8 col-lg-7">\n\n        <span ng-if="!availableYearsState.$loaded"\n              class="glyphicon glyphicon-refresh animate-spin"></span>\n\n        <select ng-if="availableYearsState.$loaded"\n                class="form-control"\n                name="year"\n                ng-model="selection.year"\n                ng-change="yearChanged()"\n                ng-options="value as label for (value, label) in availableYears">\n        </select>\n      </div>\n\n    </div>\n\n    <div class="form-group">\n      <label for="periodUnit"\n             class="col-xs-4 col-lg-5 control-label">{{ \'PLGN_REP_PERIOD_UNIT\' | translate }}</label>\n      <div class="col-xs-8 col-lg-7">\n        <select class="form-control"\n                name="periodUnit"\n                ng-model="selection.periodUnit"\n                ng-change="periodChanged()">\n          <option value="quarter">{{ \'PLGN_REP_QUARTERLY\' | translate }}</option>\n          <option value="month">{{ \'PLGN_REP_MONTHLY\' | translate }}</option>\n        </select>\n      </div>\n    </div>\n  </div>\n\n</form>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/reporting/app/views/directives/report-duration-query.html -->\n',d="undefined"!=typeof window?window.moment:"undefined"!=typeof a?a.moment:null;b.exports=[function(){return{restrict:"A",scope:{durationReportData:"="},template:c,controller:["$scope","$q","search","camAPI",function(a,b,c,e){var f=function(a){c.updateSilently(a)},g=function(a){var b=c()||{};return b[a]||null},h=e.resource("history"),i=a.selection={key:g("processDefinitionKey"),version:parseInt(g("processDefinitionVersion"),10)||null},j=a.durationReportData.newChild(a);a.$on("$routeChanged",function(){i.key=g("processDefinitionKey"),i.version=parseInt(g("processDefinitionVersion"),10)||null}),j.provide("availableYears",["now","request",function(a,c){var e=b.defer(),f={sortBy:"startTime",sortOrder:"asc",firstResult:0,maxResults:1};return c.processDefinitionKey?f.processDefinitionKey=c.processDefinitionKey:c.processDefinitionId&&(f.processDefinitionId=c.processDefinitionId),h.processInstance(f,function(b,c){if(b)e.reject(b);else{var f={};if(f[""+a.year()]=a.year(),c&&c.length)for(var g=d(c[0].startTime),h=g.year();h<a.year();h++)f[""+h]=h;e.resolve(f)}}),e.promise}]),a.processDefinitionsState=j.observe(["processDefinitions","processDefinitionsByKey"],function(b,c){a.processDefinitions=b,a.processDefinitionsByKey=c}),a.availableYearsState=j.observe("availableYears",function(b){a.availableYears=b}),j.observe("request",function(a){i.year=a.year,i.periodUnit=a.periodUnit}),a.keyChanged=function(){var b=a.processDefinitionsByKey[i.key];b?(i.version=b[0].version,f({processDefinitionKey:i.key,processDefinitionVersion:i.version,year:null})):f({processDefinitionKey:null,processDefinitionVersion:null,year:null}),j.changed("request")},a.versionChanged=function(){f({processDefinitionVersion:i.version,year:null}),j.changed("request")},a.yearChanged=function(){f({year:i.year}),j.changed("request")},a.periodChanged=function(){f({period:i.periodUnit}),j.changed("request")}}]}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],253:[function(a,b,c){(function(c){"use strict";function d(a,b){for(var c,d={},e=0;c=a[e];e++)d[c[b]]=c;return d}function e(a){var b=[];for(var c in a)b.push(a[c]);return b}function f(a,b){return(a||[]).map(function(a){return a[b]})}function g(a,b){return o[a].slice(0,-2)+b+")"}function h(a,b){if(a=""+a,!a||a.length>=b)return a;for(var c=b-a.length,d=0;d<c;d++)a="0"+a;return a}function i(a,b,c){var d,e=m.duration(parseInt(a,10),"ms"),f=[e.seconds()+(b?"":"."+h(e.milliseconds(),3))+"s"];return a>=q&&(d=e.minutes(),d&&f.unshift(d+"mi"),a>=r&&(d=e.hours(),d&&f.unshift(d+"h"),a>=s&&(d=e.days(),d&&f.unshift(d+"d"),a>=t&&(d=e.months(),d&&f.unshift(d+"mo"),a>=u&&f.unshift(e.years()+"y"))))),f.slice(0,c||3).join(" ")}var j="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,k=a("./../../lib/Chart.MinMaxBar"),l='<!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/reporting/app/views/directives/report-duration-result.html -->\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-error="{{ loadingError }}">\n\n  <div class="row">\n    <div class="col-xs-4">\n      <div class="btn-group btn-group-sm reporting-chart-type-choice">\n        <button ng-class="displayMode === \'bars\' ? \'btn-primary\' : \'btn-default\'"\n                ng-click="setDisplayMode(\'bars\', true)"\n                class="btn duration-bars-btn"\n                tooltip="{{ \'PLGN_REP_BARS_CHART\' | translate }}">\n          <span class="cam-reporting-bars-chart"></span>\n        </button>\n        <button ng-class="displayMode === \'table\' ? \'btn-primary\' : \'btn-default\'"\n                ng-click="setDisplayMode(\'table\', true)"\n                class="btn  duration-table-btn"\n                tooltip="{{ \'PLGN_REP_TABLE_VIEW\' | translate }}">\n          <span class="cam-reporting-grid"></span>\n        </button>\n      </div>\n    </div>\n\n    <div class="col-xs-8 text-right">\n      <span class="visible-xs-inline"\n            tooltip="{{ \'PLGN_REP_DOWNLOAD_RESULTS\' | translate }}">\n        <span class="glyphicon glyphicon-download"></span>\n      </span>\n      <span class="hidden-xs">\n        {{ \'PLGN_REP_DOWNLOAD_RESULTS\' | translate }}\n      </span>\n      <div class="btn-group btn-group-sm table-download">\n        <button class="btn btn-default"\n                ng-if="canDownload"\n                ng-click="download(\'csv\')"\n                tooltip="{{ \'PLGN_REP_COMMA_SEPERATED_FILE\' | translate }}"\n                ng-disabled="downloadingState === \'DOWNLOADING\'">\n          {{ \'PLGN_REP_CSV\' | translate }}\n        </button>\n        <a ng-href="{{ basePath }}?startedAfter={{ encodeURIComponent(linkParams.startedAfter) }}&startedBefore={{ encodeURIComponent(linkParams.startedBefore) }}&periodUnit={{ linkParams.periodUnit }}&reportType={{ linkParams.reportType }}"\n           tooltip="{{ \'PLGN_REP_JSON_FILE\' | translate }}"\n           class="btn btn-default"\n           type="application/json"\n           download="report.json">{{ \'PLGN_REP_JSON\' | translate }}</a>\n      </div>\n    </div>\n  </div>\n\n  <div class="row">\n\n    <div class="col-xs-12 reporting-chart-holder"\n         ng-if="displayMode !== \'table\'">\n      <div style="height: 350px"\n           ng-show="displayMode === \'bars\'">\n        <canvas class="process-duration-chart"\n                ng-mousemove="canvasHover($event)"></canvas>\n      </div>\n\n      <div class="chart-info row"\n           ng-show="chartInfo.period">\n        <div class="col-sm-3">\n          <label>{{ \'PLGN_REP_PERIOD\' | translate }}</label>\n          <span class="visible-xs-block visible-sm-block visible-md-inline visible-lg-block">\n            {{ chartInfo.period }}\n          </span>\n        </div>\n        <div class="col-sm-3"\n             style="color: {{ chartInfo.colors.average }};">\n          <label>{{ \'PLGN_REP_AVERAGE\' | translate }}</label>\n          <span class="visible-xs-block visible-sm-block visible-md-inline visible-lg-block">\n            {{ chartInfo.average }}\n          </span>\n        </div>\n        <div class="col-sm-3"\n             style="color: {{ chartInfo.colors.minimum }};">\n          <label>{{ \'PLGN_REP_MINIMUM\' | translate }}</label>\n          <span class="visible-xs-block visible-sm-block visible-md-inline visible-lg-block">\n            {{ chartInfo.minimum }}\n          </span>\n        </div>\n        <div class="col-sm-3"\n             style="color: {{ chartInfo.colors.maximum }};">\n          <label>{{ \'PLGN_REP_MAXIMUM\' | translate }}</label>\n          <span class="visible-xs-block visible-sm-block visible-md-inline visible-lg-block">\n            {{ chartInfo.maximum }}\n          </span>\n        </div>\n      </div>\n\n      <div class="chart-info row"\n           ng-hide="chartInfo.period">\n        <div class="col-xs-12 text-help text-right">\n          <span class="glyphicon glyphicon-info-sign"></span>{{ \'PLGN_REP_DETAILED_VALUES\' | translate }}\n        </div>\n      </div>\n    </div>\n\n\n    <div class="col-xs-12" ng-if="displayMode === \'table\'">\n      <table class="cam-table reporting-table">\n        <thead>\n          <tr>\n            <th>&nbsp;</th>\n            <th style="color: {{ chartInfo.colors.average }};">{{ \'PLGN_REP_AVERAGE_COL\' | translate }}</th>\n            <th style="color: {{ chartInfo.colors.minimum }};">{{ \'PLGN_REP_MIN\' | translate }}</th>\n            <th style="color: {{ chartInfo.colors.maximum }};">{{ \'PLGN_REP_MAX\' | translate }}</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="item in data">\n            <th>{{ item.label }}</th>\n            <td ng-if="item.state" colspan="3" align="left" style="font-style: italic;">{{ \'PLGN_REP_NO_DATA\' | translate }}</td>\n            <td ng-if="!item.state" style="color: {{chartInfo.colors.average}};">\n              {{ formatTableDuration(item.average) }}\n            </td>\n            <td ng-if="!item.state" style="color: {{chartInfo.colors.minimum}};">\n              {{ formatTableDuration(item.minimum) }}\n            </td>\n            <td ng-if="!item.state" style="color: {{chartInfo.colors.maximum}};">\n              {{ formatTableDuration(item.maximum) }}\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n\n</div>\n<!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/reporting/app/views/directives/report-duration-result.html -->\n',m="undefined"!=typeof window?window.moment:"undefined"!=typeof c?c.moment:null,n=j.extend,o={minimum:"rgba(210, 105, 30, 1)",maximum:"rgba(210, 30, 130, 1)",average:"rgba(0, 136, 204, 1)"},p=1e3,q=60*p,r=60*q,s=24*r,t=30*s,u=365*s;b.exports=[function(){return{restrict:"A",scope:{durationReportData:"="},template:l,controller:["$scope","Uri","search","camAPI","Notifications","$translate",function(a,b,c,h,l,m){function p(b){switch(b.label="label",b.periodUnit){case"QUARTER":case"quarter":b.label="Q. "+b.period+" "+a.request.year;break;case"MONTH":case"month":b.label=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][b.period]+" "+a.request.year}}function q(a,b){var c;switch(b){case"quarter":c=4;break;case"month":c=12}for(var f={periodUnit:b,state:"no data"},g=d(a,"period"),h=1;h<=c;h++)g[h]||(g[h]=n({},{period:h},f));return e(g)}function r(a,b,c){var d="data:"+a+";charset=UTF-8,"+window.encodeURIComponent(c),e=document.createElement("a");e.setAttribute("href",d),e.setAttribute("type",a),e.setAttribute("download","report."+b);var f=new MouseEvent(navigator.userAgent.toLowerCase().indexOf("edge")!=-1?"mouseup":"click",{view:window,bubbles:!0,cancelable:!0});e.dispatchEvent(f)}function s(b){var c={},d=parseInt(b.year,10);return c.startedAfter=d+"-01-01T00:00:00.000+0000",c.startedBefore=d+1+"-01-01T00:00:00.000+0000",c.periodUnit=b.periodUnit,c.reportType="duration",b.processDefinitionId?c.processDefinitionIdIn=[b.processDefinitionId]:b.processDefinitionKey&&(c.processDefinitionKeyIn=[b.processDefinitionKey]),a.linkParams=c,c}function t(){var a=j.element("canvas.process-duration-chart"),b=a.parent().width(),c=a.parent().height();return a.attr("width",b).attr("height",c).css({width:b+"px",height:c+"px"}),a}function u(b){b?a.data=b:b=a.data;var c=t();if(!c.height()||!c.width())return setTimeout(function(){u()},50);x&&x.destroy&&x.destroy();var d={animation:!0,maintainAspectRatio:!1,responsive:!0,scaleBeginAtZero:!0,scaleFontColor:"#666",scaleGridLineColor:"#aaa",scaleLineColor:"#aaa",showTooltips:!1,scaleLabel:function(a){return i(a.value,!0)}},e=c[0].getContext("2d");x=new k(e).MinMaxAvgBar({labels:f(b,"label"),datasets:[{label:"Duration",fillColor:g("average",.3),strokeColor:g("average",1),data:f(b,"average"),mins:f(b,"minimum"),maxs:f(b,"maximum"),states:f(b,"state")}]},n({},d,{minStrokeColor:g("minimum",1),maxStrokeColor:g("maximum",1),pointColor:g("average",1),pointStrokeColor:g("average",1),pointHighlightFill:"#fff",pointHighlightStroke:g("average",1),barStrokeWidth:1}))}a.encodeURIComponent=window.encodeURIComponent,a.basePath=b.appUri("engine://engine/:engine/history/process-instance/report");var v=function(a){c.updateSilently(a)},w=function(a){var b=c()||{};return b[a]||null};a.linkParams={};var x,y=h.resource("history"),z=a.durationReportData.newChild(a);a.chartInfo={colors:j.copy(o)},a.canvasHover=function(b){var c=x.getBarsAtEvent(b);if(!c||c.length<1)return void(a.chartInfo={colors:j.copy(o)});if(c=c[0],!a.chartInfo.period||c.label!==a.chartInfo.period){var d=-1;x.datasets[0].bars.forEach(function(a,b){a.label===c.label&&(d=b)}),"no data"!==x.states[d]&&(a.chartInfo.period=c.label,a.chartInfo.average=i(c.value,!1,9),a.chartInfo.minimum=i(x.minimas[d],!1,9),a.chartInfo.maximum=i(x.maximas[d],!1,9))}},a.loadingState="INITIAL",a.formatDuration=i,a.tableOriginalValues=!1,a.formatTableDuration=function(b){return a.tableOriginalValues?b+"ms":i(b,!1,9)};var A=a.displayMode=w("mode")||"bars";a.$on("$routeChanged",function(){var b=A;A=w("mode")||"bars",b!==A&&a.setDisplayMode(A)}),z.observe("request",function(b){a.request=b,s(b),b&&B(b)});var B=function(b){a.loadingState="LOADING";var c=s(b);y.report(c,function(c,d){return c?(a.loadingError=403===c.status?c.message:m.instant("PLGN_REP_LOADING_FAILED"),void(a.loadingState="ERROR")):(a.loadingState="LOADED",d=q(d,b.periodUnit),d.forEach(p),a.data=d,void("bars"===a.displayMode&&u(d)))})};a.setDisplayMode=function(b,c){a.displayMode=b,"bars"===a.displayMode?u(a.data):x&&x.destroy&&(x.destroy(),x=null),c&&v({mode:b})},a.canDownload="download"in document.createElement("a"),a.download=function(b){var c=s(a.request);a.downloadingState="DOWNLOADING";var d=function(c,d){return c?(a.downloadingState="ERROR",l.addError({status:m.instant("PLGN_REP_FAILED_TO_DOWNLOAD"),message:c.message})):("csv"===b?r("text/csv",b,d):r("application/json",b,JSON.stringify(d)),void(a.downloadingState="DOWNLOADED"))};"csv"===b?y.reportAsCsv(c,d):y.report(c,d)}}]}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../lib/Chart.MinMaxBar":245}],254:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./report-duration"),f=a("./directives/report-duration-query"),g=a("./directives/report-duration-result"),h=d.module("cockpit.plugin.reporting.views",[]);h.config(e),h.directive("camDurationReportQuery",f),h.directive("camDurationReportResult",g),b.exports=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./directives/report-duration-query":252,"./directives/report-duration-result":253,"./report-duration":255}],255:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.jquery:"undefined"!=typeof a?a.jquery:null,d="undefined"!=typeof window?window.moment:"undefined"!=typeof a?a.moment:null,e=["$scope","$q","camAPI","search",function(a,b,c,e){var f=function(a){var b=e()||{};return b[a]||null},g=function(a,b,c){for(var d,e=0;d=a[b][e];e++)if(d.version===parseInt(c,10))return d},h=c.resource("process-definition"),i=a.durationReportData=a.reportPluginData.newChild(a),j=f("processDefinitionKey"),k=f("processDefinitionVersion"),l=f("year"),m=f("period");a.$on("$routeChanged",function(){var a=j,b=k,c=l,d=m;j=f("processDefinitionKey"),k=f("processDefinitionVersion"),l=f("year"),m=f("period"),a!==j?i.changed("request"):b!==k?i.changed("request"):c!==l?i.changed("request"):d!==m&&i.changed("request")}),i.provide("processDefinitionsRaw",function(){var a=b.defer(),c={sortBy:"version",sortOrder:"desc"};return h.list(c,function(b,c){b?a.reject(b):a.resolve(c.items)}),a.promise}),i.provide(["processDefinitions","processDefinitionsByKey"],["processDefinitionsRaw",function(a){for(var b,c=[],d={},e=0;b=a[e];e++){var f=b.key,g=d[f];g||(d[f]=g=[],c.push(b),b.name=b.name||b.key),g.push(b)}return[c,d]}]),i.provide("now",d()),i.provide("request",["now","processDefinitionsByKey",function(a,b){var c={year:f("year")||""+a.year(),periodUnit:f("period")||"month"},d=f("processDefinitionKey");if(d){var e=f("processDefinitionVersion");if(e){var h=parseInt(e,10),i=g(b,d,h);c.processDefinitionId=i.id}else c.processDefinitionKey=d}return c}])}];b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.report",{id:"reporting-duration-report",label:"PLGN_REP_PROCESS_INSTANCE_DURATION",url:c("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/reporting/report-duration.html",controller:e,priority:50,config:{}})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],256:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./views/main");b.exports=d.module("cockpit.plugin.search-decisions",[e.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./views/main":257}],257:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window["cam-common"]:"undefined"!=typeof c?c["cam-common"]:null,e="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,f=e.module("cockpit.plugin.search-decisions.views",[d.name]);f.config(a("./search")),b.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./search":258}],258:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null,d="undefined"!=typeof window?window.jquery:"undefined"!=typeof a?a.jquery:null,e='{\n  "types": [\n    {\n      "id": {\n        "key": "decisionInstanceIdIn",\n        "value": "PLGN_SEDE_CONF_DEC_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "decisionDefinitionIdIn",\n        "value": "PLGN_SEDE_CONF_DEC_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "decisionDefinitionKeyIn",\n        "value": "PLGN_SEDE_CONF_DEC_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "decisionDefinitionName",\n        "value": "PLGN_SEDE_CONF_DEC_DEFINITION_NAME"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "like"\n        }\n      ],\n      "default": true\n    },\n    {\n      "id": {\n        "key": "processDefinitionId",\n        "value": "PLGN_SEDE_CONF_PROCESS_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processDefinitionKey",\n        "value": "PLGN_SEDE_CONF_PROCESS_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processInstanceId",\n        "value": "PLGN_SEDE_CONF_PROCESS_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseDefinitionId",\n        "value": "PLGN_SEDE_CONF_CASE_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseDefinitionKey",\n        "value": "PLGN_SEDE_CONF_CASE_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseInstanceId",\n        "value": "PLGN_SEDE_CONF_CASE_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "activityIdIn",\n        "value": "PLGN_SEDE_CONF_ACTIVITY_ID"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "activityInstanceIdIn",\n        "value": "PLGN_SEDE_CONF_ACTIVITY_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "tenantIdIn",\n        "value": "PLGN_SEDE_CONF_TENANT_ID"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "evaluatedDate",\n        "value": "PLGN_SEDE_CONF_EVALUATION_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_SEDE_CONF_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_SEDE_CONF_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "userId",\n        "value": "PLGN_SEDE_CONF_USER_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "rootDecisionInstanceId",\n        "value": "PLGN_SEDE_CONF_ROOT_DECISION_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "rootDecisionInstancesOnly",\n        "value": "PLGN_SEDE_CONF_ROOT_DECISION_INSTANCE_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "decisionRequirementsDefinitionId",\n        "value": "PLGN_SEDE_CONF_DECISION_REQUIREMENTS_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "decisionRequirementsDefinitionKey",\n        "value": "PLGN_SEDE_CONF_DECISION_REQUIREMENTS_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    }\n  ],\n  "operators": {\n    "undefined": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "PLGN_SEDE_CONF_LIKE"\n      }\n    ],\n    "string": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "PLGN_SEDE_CONF_LIKE"\n      }\n    ],\n    "number": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      }\n    ],\n    "boolean": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      }\n    ],\n    "object": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      }\n    ],\n    "date": [\n      {\n        "key": "lteq",\n        "value": "PLGN_SEDE_CONF_BEFORE"\n      },\n      {\n        "key": "gteq",\n        "value": "PLGN_SEDE_CONF_AFTER"\n      }\n    ]\n  },\n  "tooltips": {\n    "inputPlaceholder": "PLGN_SEDE_CONF_ADD_CRITERIA",\n    "invalid": "PLGN_SEDE_CONF_INVALID",\n    "deleteSearch": "PLGN_SEDE_DELETE",\n    "type": "PLGN_SEDE_TYPE",\n    "name": "PLGN_SEDE_NAME",\n    "operator": "PLGN_SEDE_OPERATOR",\n    "value": "PLGN_SEDE_VALUE"\n  }\n}\n';
b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.decisions.dashboard",{id:"search-decision-instances",label:"PLGN_SEDE",dashboardMenuLabel:"Search",url:d("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/search-decisions/searchField.html",controller:["$scope","$timeout","camAPI","localConf","$sce","$q","$translate",function(a,b,d,f,g,h,i){function j(){var a={};return c.extend(a,q,s),p(r||{}).forEach(function(b){delete a[b]}),p(a)}function k(){a.availableColumns=j().filter(function(b){return a.shownColumns.indexOf(b)<0})}function l(a){var b=["firstResult","maxResults","sortBy","sortOrder"];return Object.keys(a).filter(function(a){return a.indexOf(b)<0}).length>0}function m(){var b=c.copy(a.searches);return l(b)?(a.loadingState="LOADING",t.decisionInstanceCount(b).then(function(c){return c.count?(a.total=c.count,b.firstResult=a.pages.size*(a.pages.current-1),b.maxResults=a.pages.size,a.sortBy&&(b.sortBy=a.sortBy,b.sortOrder=a.sortOrder),t.decisionInstance(b).then(function(b){return a.loadingState="LOADED",a.decisionInstances=b,a.total})["catch"](function(){a.decisionInstances=[],a.loadingState="ERROR"})):(a.decisionInstances=[],a.loadingState="EMPTY",void(a.total=0))})["catch"](function(){a.decisionInstances=[],a.loadingState="ERROR"})):(a.decisionInstances=[],a.loadingState="INITIAL",h.when(0))}function n(){var b={shownColumns:a.shownColumns,sortBy:a.sortBy,sortOrder:a.sortOrder};f.set("decision-search",b)}function o(){var c={shownColumns:a.shownColumns,sortBy:a.sortBy,sortOrder:a.sortOrder},d=f.get("decision-search",c);a.sortBy=d.sortBy||null,a.sortOrder=d.sortOrder||"desc",a.shownColumns=d.shownColumns||[],b(k)}var p=Object.keys;a.searchConfig=JSON.parse(e),c.forEach(a.searchConfig.tooltips,function(b,c){a.searchConfig.tooltips[c]=i.instant(b)}),a.searchConfig.types.map(function(a){return a.id.value=i.instant(a.id.value),a.operators&&(a.operators=a.operators.map(function(a){return a.value=i.instant(a.value),a})),a}),a.arrayTypes=["decisionInstanceIdIn","decisionDefinitionIdIn","decisionDefinitionKeyIn","activityIdIn","activityInstanceIdIn","tenantIdIn"];var q={evaluationTime:i.instant("PLGN_SEDE_EVALUATION_TIME"),tenantId:i.instant("PLGN_SEDE_TENANT_ID")},r={id:i.instant("PLGN_SEDE_DECISION_INSTANCE_ID"),evaluationTime:i.instant("PLGN_SEDE_EVALUATION_TIME")},s={activityId:i.instant("PLGN_SEDE_ACTIVITY_ID"),activityInstanceId:i.instant("PLGN_SEDE_ACTIVITY_INSTANCE_ID"),caseDefinitionId:i.instant("PLGN_SEDE_CASE_DEFINITION_ID"),caseDefinitionKey:i.instant("PLGN_SEDE_CASE_DEFINITION_KEY"),caseInstanceId:i.instant("PLGN_SEDE_CASE_INSTANCE_ID"),collectResultValue:i.instant("PLGN_SEDE_COLLECT_RESULT_VALUE"),decisionDefinitionId:i.instant("PLGN_SEDE_DEC_DEFINITION_ID"),decisionDefinitionKey:i.instant("PLGN_SEDE_DEC_DEFINITION_KEY"),decisionDefinitionName:i.instant("PLGN_SEDE_DEC_DEFINITION_NAME"),decisionRequirementsDefinitionId:i.instant("PLGN_SEDE_DEC_REQUIREMENTS_DEFINITION_ID"),decisionRequirementsDefinitionKey:i.instant("PLGN_SEDE_DECISION_REQUIREMENTS_DEFINITION_KEY"),processDefinitionId:i.instant("PLGN_SEDE_PROCESS_DEFINITION_ID"),processDefinitionKey:i.instant("PLGN_SEDE_PROCESS_DEFINITION_KEY"),processInstanceId:i.instant("PLGN_SEDE_PROCESS_INSTANCE_ID"),rootDecisionInstanceId:i.instant("PLGN_SEDE_ROOT_DECISION_INSTANCE_ID"),tenantId:i.instant("PLGN_SEDE_TENANT_ID"),userId:i.instant("PLGN_SEDE_USER_ID")};a.columnLabel=function(b){return a.availableColumns[b]},a.isSortableColumn=function(a){return!!q[a]},a.columnLabel=function(a){return q[a]||s[a]||r[a]||i.instant("PLGN_SEDE_NO_LABEL",{name:a})},a.orderClass=function(b){return b=b||a.sortBy,"glyphicon-"+{none:"minus",desc:"chevron-down",asc:"chevron-up"}[b===a.sortBy?a.sortOrder:"none"]},a.changeOrder=function(b){a.sortBy=b,a.sortOrder="desc"===a.sortOrder?"asc":"desc",m(),n()},a.addColumn=function(b){a.shownColumns.indexOf(b)>-1||(a.shownColumns.push(b),k(),m(),n())},a.removeColumn=function(b){var c=[];a.shownColumns.forEach(function(a){b!==a&&c.push(a)}),a.shownColumns=c,k(),m(),n()},a.columnValue=function(b,c){var d="",e=a.decisionInstances[c][b];switch(b){case"decisionDefinitionId":d=e?'<a href="#decision-definition/'+e+'/history">'+e+"</a>":"";break;case"caseDefinitionId":d=e?'<a href="#case-definition/'+e+'/history">'+e+"</a>":"";break;case"caseInstanceId":d=e?'<a href="#case-instance/'+e+'/history">'+e+"</a>":"";break;case"processDefinitionId":d=e?'<a href="#process-definition/'+e+'/history">'+e+"</a>":"";break;case"processInstanceId":d=e?'<a href="#process-instance/'+e+'/history">'+e+"</a>":"";break;default:d="undefined"!=typeof e?e:""}return g.trustAsHtml(d)};var t=d.resource("history");a.pages={size:20,total:0,current:1},o(),a.queryCallback=function(b,c){return a.searches=b,a.pages=c,m()}}],priority:20})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],259:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./views/main");b.exports=d.module("cockpit.plugin.search-tasks",[e.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./views/main":260}],260:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./search"),f=d.module("cockpit.plugin.search-tasks.views",[]);f.config(e),b.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./search":261}],261:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null,d="undefined"!=typeof window?window.jquery:"undefined"!=typeof a?a.jquery:null,e='{\n  "types": [\n    {\n      "id": {\n        "key": "taskId",\n        "value": "PLGN_SETA_CONF_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "taskParentTaskId",\n        "value": "PLGN_SETA_CONF_PARENT_TASK_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processInstanceId",\n        "value": "PLGN_SETA_CONF_PROCESS_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "executionId",\n        "value": "PLGN_SETA_CONF_EXEC"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processDefinitionId",\n        "value": "PLGN_SETA_CONF_PROCESS_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processDefinitionKey",\n        "value": "PLGN_SETA_CONF_PROCESS_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processDefinitionName",\n        "value": "PLGN_SETA_CONF_PROCESS_DEFINITION_NAME"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processVariables",\n        "value": "PLGN_SETA_CONF_PROCESS_VARIABLE"\n      },\n      "allowDates": true,\n      "extended": true\n    },\n    {\n      "id": {\n        "key": "caseInstanceId",\n        "value": "PLGN_SETA_CONF_CASE_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseExecutionId",\n        "value": "PLGN_SETA_CONF_CASE_EXECUTION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseDefinitionId",\n        "value": "PLGN_SETA_CONF_CASE_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseDefinitionName",\n        "value": "PLGN_SETA_CONF_CASE_DEFINITION_NAME"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "activityInstanceId",\n        "value": "PLGN_SETA_CONF_ACTIVITY_INSTANCE"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "taskName",\n        "value": "PLGN_SETA_CONF_TASK_NAME"\n      },\n      "operators": [\n        {\n          "key": "Like",\n          "value": "PLGN_SETA_CONF_LIKE"\n        },\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "default": true\n    },\n    {\n      "id": {\n        "key": "taskDescription",\n        "value": "PLGN_SETA_CONF_TASK_DESCRIPTION"\n      },\n      "operators": [\n        {\n          "key": "Like",\n          "value": "PLGN_SETA_CONF_LIKE"\n        },\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "taskDefinitionKey",\n        "value": "PLGN_SETA_CONF_TASK_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "taskDeleteReason",\n        "value": "PLGN_SETA_CONF_TASK_DELETE_REASON"\n      },\n      "operators": [\n        {\n          "key": "Like",\n          "value": "PLGN_SETA_CONF_LIKE"\n        },\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "taskAssignee",\n        "value": "PLGN_SETA_CONF_TASK_ASSIGNEE"\n      },\n      "operators": [\n        {\n          "key": "Like",\n          "value": "PLGN_SETA_CONF_LIKE"\n        },\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "taskOwner",\n        "value": "PLGN_SETA_CONF_TASK_OWNER"\n      },\n      "operators": [\n        {\n          "key": "Like",\n          "value": "like"\n        },\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "taskPriority",\n        "value": "PLGN_SETA_CONF_TASK_PRIORITY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "assigned",\n        "value": "PLGN_SETA_CONF_ASSIGNED_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "unassigned",\n        "value": "PLGN_SETA_CONF_UNASSIGNED_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "withCandidateGroups",\n        "value": "PLGN_SETA_CONF_WITH_CANDIDATE_GROUPS"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "withoutCandidateGroups",\n        "value": "PLGN_SETA_CONF_WITHOUT_CANDIDATE_GROUPS_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "finished",\n        "value": "PLGN_SETA_CONF_FINISHED_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "unfinished",\n        "value": "PLGN_SETA_CONF_UNFINISHED_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "processFinished",\n        "value": "PLGN_SETA_CONF_WITH_FINISHED_PROCESS_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "processUnfinished",\n        "value": "PLGN_SETA_CONF_WITH_UNFINISHED_PROCESS_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "taskDueDateDate",\n        "value": "PLGN_SETA_CONF_DUE_DATE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Before",\n          "value": "PLGN_SETA_CONF_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_SETA_CONF_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "taskFollowUpDateDate",\n        "value": "PLGN_SETA_CONF_FOLLOWUP_DATE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Before",\n          "value": "PLGN_SETA_CONF_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_SETA_CONF_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "tenantId",\n        "value": "PLGN_SETA_CONF_TENANT_ID"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "taskVariables",\n        "value": "PLGN_SETA_CONF_TASK_VARIABLE"\n      },\n      "allowDates": true,\n      "extended": true\n    },\n    {\n      "id": {\n        "key": "taskInvolvedUser",\n        "value": "PLGN_SETA_CONF_TASK_INVOLVED_USER"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "taskInvolvedGroup",\n        "value": "PLGN_SETA_CONF_TASK_INVOLVED_GROUP"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "taskHadCandidateUser",\n        "value": "PLGN_SETA_CONF_TASK_HAD_CANDIDATE_USER"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "taskHadCandidateGroup",\n        "value": "PLGN_SETA_CONF_TASK_HAD_CANDIDATE_GROUP"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    }\n  ],\n  "operators": {\n    "undefined":  [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "Like",\n        "value": "PLGN_SETA_CONF_LIKE"\n      }\n    ],\n    "string":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "Like",\n        "value": "PLGN_SETA_CONF_LIKE"\n      }\n    ],\n    "number":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      }\n    ],\n    "boolean":    [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      }\n    ],\n    "object":     [{\n      "key": "eq",\n      "value": "="\n    },\n      {\n        "key": "neq",\n        "value": "!="\n      }],\n    "date":     [{\n      "key": "lteq",\n      "value": "PLGN_SETA_CONF_BEFORE"\n    },\n      {\n        "key": "gteq",\n        "value": "PLGN_SETA_CONF_AFTER"\n      }]\n  },\n  "tooltips": {\n    "inputPlaceholder": "PLGN_SETA_CONF_ADD_CRITERIA",\n    "invalid": "PLGN_SETA_CONF_INVALID",\n    "deleteSearch": "PLGN_SETA_CONF_DELETE",\n    "type": "PLGN_SETA_CONF_TYPE",\n    "name": "PLGN_SETA_CONF_NAMR",\n    "operator": "PLGN_SETA_CONF_OPERATOR",\n    "value": "PLGN_SETA_CONF_VALUE"\n  }\n}\n';b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.tasks.dashboard",{id:"search-tasks",label:"PLGN_SETA",url:d("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/search-tasks/searchField.html",controller:["$scope","$timeout","localConf","camAPI","$q","$translate",function(a,b,d,f,g,h){function i(){var b={sortBy:a.sortBy,sortOrder:a.sortOrder};d.set("task-search",b)}function j(){var b={sortBy:a.sortBy,sortOrder:a.sortOrder},c=d.get("task-search",b);a.sortBy=c.sortBy||null,a.sortOrder=c.sortOrder||"desc"}var k=f.resource("history");a.searchConfig=JSON.parse(e),c.forEach(a.searchConfig.tooltips,function(b,c){a.searchConfig.tooltips[c]=h.instant(b)}),a.searchConfig.types.map(function(a){return a.id.value=h.instant(a.id.value),a.operators&&(a.operators=a.operators.map(function(a){return a.value=h.instant(a.value),a})),a}),a.loadingState="INITIAL",a.sortBy=null,a.sortOrder=null,a.checkEndTime=function(a){return a?"history":"runtime"},a.orderClass=function(b){return b=b||a.sortBy,"glyphicon-"+{none:"minus",desc:"chevron-down",asc:"chevron-up"}[b===a.sortBy?a.sortOrder:"none"]},a.changeOrder=function(b){a.sortBy=b,a.sortOrder="desc"===a.sortOrder?"asc":"desc",l(a.query,a.pages),i()},a.isStandaloneTask=function(a){return!a.processDefinitionKey&&!a.caseDefinitionKey};var l=function(b,c){return a.searchConfig.searches.length>0?(a.loadingState="LOADING",b.firstResult=c.size*(c.current-1),b.maxResults=c.size,a.sortBy=a.sortBy||"startTime",a.sortOrder=a.sortOrder||"desc",b.sortBy=a.sortBy,b.sortOrder=a.sortOrder,k.taskCount(b).then(function(c){return a.total=c.count,c.count?k.task(b).then(function(b){return a.tasks=b,a.loadingState="LOADED",a.total}):(a.loadingState="EMPTY",void(a.tasks=[]))})["catch"](function(){return a.loadingState="ERROR"})):(a.loadingState="LOADED",a.tasks=null,a.sortBy=null,a.sortOrder=null,a.total=0,g.when(a.total))};a.onSearchChange=function(b,c){return a.query=b,a.pages=c,i(),l(b,c)},j()}],priority:0})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],262:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./views/main");b.exports=d.module("cockpit.plugin.search",[e.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./views/main":263}],263:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./search"),f=d.module("cockpit.plugin.search.views",[]);f.config(e),b.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./search":264}],264:[function(a,b,c){(function(a){"use strict";function c(a){return["processDefinitionId","processDefinitionName","processDefinitionKey","processDefinitionVersion"].indexOf(a)>=0?"d"+a.slice("processD".length):a}var d="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null,e="undefined"!=typeof window?window.jquery:"undefined"!=typeof a?a.jquery:null,f='{\n  "types": [\n    {\n      "id": {\n        "key": "PIprocessInstanceIds",\n        "value": "PLGN_SEAR_PI_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIprocessInstanceBusinessKey",\n        "value": "PLGN_SEAR_PI_BUSINESS_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "PLGN_SEAR_LIKE"\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIsuperProcessInstanceId",\n        "value": "PLGN_SEAR_PI_PARENT_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIsubProcessInstanceId",\n        "value": "PLGN_SEAR_PI_SUB_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIcaseInstanceId",\n        "value": "PLGN_SEAR_PI_CASE_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIprocessDefinitionId",\n        "value": "PLGN_SEAR_PI_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIprocessDefinitionKey",\n        "value": "PLGN_SEAR_PI_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "NotIn",\n          "value": "!="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIprocessDefinitionName",\n        "value": "PLGN_SEAR_PI_DEFINITION_NAME"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "PLGN_SEAR_LIKE"\n        }\n      ],\n      "groups": ["PI"],\n      "default": true\n    },\n    {\n      "id": {\n        "key": "PIstartedBy",\n        "value": "PLGN_SEAR_PI_STARTED_BY_USER"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIstartedDate",\n        "value": "PLGN_SEAR_PI_START_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_SEAR_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_SEAR_AFTER"\n        }\n      ],\n      "groups": ["PI"],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "PIfinishedDate",\n        "value": "PLGN_SEAR_PI_FINISH_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_SEAR_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_SEAR_AFTER"\n        }\n      ],\n      "groups": ["PI"],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "PIfinished",\n        "value": "PLGN_SEAR_PI_FINISHED_ONLY"\n      },\n      "groups": ["PI"],\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "PIunfinished",\n        "value": "PLGN_SEAR_PI_UNFINISHED_ONLY"\n      },\n      "groups": ["PI"],\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "PIwithIncidents",\n        "value": "PLGN_SEAR_PI_WITH_INCIDENTS_ONLY"\n      },\n      "groups": ["PI"],\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "PIwithRootIncidents",\n        "value": "PLGN_SEAR_PI_WITH_ROOT_INCIDENTS_ONLY"\n      },\n      "groups": ["PI"],\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "PIincidentMessage",\n        "value": "PLGN_SEAR_PI_INCIDENT_MESSAGE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "PLGN_SEAR_LIKE"\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIvariables",\n        "value": "PLGN_SEAR_PI_VARIABLE"\n      },\n      "allowDates": true,\n      "extended": true,\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIincidentStatus",\n        "value": "PLGN_SEAR_PI_INCIDENT_STATUS"\n      },\n      "options": ["open", "resolved"],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIincidentType",\n        "value": "PLGN_SEAR_PI_INCIDENT_TYPE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIexecutedJobDate",\n        "value": "PLGN_SEAR_PI_JOB_EXECUTION_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_SEAR_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_SEAR_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true,\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIexecutedActivityDate",\n        "value": "PLGN_SEAR_PI_ACTIVITY_EXECUTION_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_SEAR_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_SEAR_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true,\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "INincidentId",\n        "value": "PLGN_SEAR_INC_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["IN"]\n    },\n    {\n      "id": {\n        "key": "INincidentType",\n        "value": "PLGN_SEAR_INC_TYPE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["IN"]\n    },\n    {\n      "id": {\n        "key": "INincidentMessage",\n        "value": "PLGN_SEAR_INC_MESSAGE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["IN"]\n    },\n    {\n      "id": {\n        "key": "INprocessDefinitionId",\n        "value": "PLGN_SEAR_INC_PROCESS_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["IN"]\n    },\n    {\n      "id": {\n        "key": "INprocessInstanceId",\n        "value": "PLGN_SEAR_INC_PROCESS_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["IN"]\n    },\n    {\n      "id": {\n        "key": "INexecutionId",\n        "value": "PLGN_SEAR_INC_EXECUTION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["IN"]\n    },\n    {\n      "id": {\n        "key": "INactivityId",\n        "value": "PLGN_SEAR_INC_ACTIVITY_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["IN"]\n    },\n    {\n      "id": {\n        "key": "INcauseIncidentId",\n        "value": "PLGN_SEAR_INC_CAUSE_INCIDENT_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["IN"]\n    },\n    {\n      "id": {\n        "key": "INrootCauseIncidentId",\n        "value": "PLGN_SEAR_INC_ROOT_CAUSE_INCIDENT_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["IN"]\n    },\n    {\n      "id": {\n        "key": "INconfiguration",\n        "value": "PLGN_SEAR_INC_CONFIGURATION"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["IN"]\n    }\n  ],\n  "operators": {\n        "undefined":  [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        },\n        {\n          "key": "like",\n          "value": "PLGN_SEAR_LIKE"\n        }\n      ],\n        "string":     [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        },\n        {\n          "key": "like",\n          "value": "PLGN_SEAR_LIKE"\n        }\n      ],\n        "number":     [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        }\n      ],\n        "boolean":    [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        }\n      ],\n        "object":     [{\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        }],\n        "date":     [{\n          "key": "lteq",\n          "value": "PLGN_SEAR_BEFORE"\n        },\n        {\n          "key": "gteq",\n          "value": "PLGN_SEAR_AFTER"\n        }]\n  },\n  "tooltips": {\n    "inputPlaceholder": "PLGN_SEAR_ADD_CRITERIA",\n    "invalid": "PLGN_SEAR_INVALID",\n    "deleteSearch": "PLGN_SEAR_DELETE",\n    "type": "PLGN_SEAR_TYPE",\n    "name": "PLGN_SEAR_NAME",\n    "operator": "PLGN_SEAR_OPERATOR",\n    "value": "PLGN_SEAR_VALUE"\n  }\n}\n';b.exports=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processes.dashboard",{id:"search-process-instances",label:"Search Process Instances",dashboardMenuLabel:"Search",url:e("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/search/searchField.html",controller:["$scope","camAPI","$sce","localConf","$timeout","$filter","$location","$q","fixDate","$translate","$anchorScroll",function(a,b,e,g,h,i,j,k,l,m,n){function o(a){var b={};return d.extend(b,x[a],z[a]),t(y[a]||{}).forEach(function(a){delete b[a]}),t(b)}function p(b){b=b||a.getMode();var c=[];o(b).forEach(function(b){a.shownColumns.indexOf(b)<0&&c.push(b)}),a.availableColumns=c}function q(){a.isBatchDisabled="LOADED"!==a.loadingState||!a.total}function r(b){a.conf[b]={shownColumns:a.shownColumns,sortBy:a.sortBy,sortOrder:a.sortOrder},g.set("proc-inst-search",a.conf)}function s(b){var c={PI:{shownColumns:[],sortBy:"startTime",sortOrder:"desc"},IN:{shownColumns:[],sortBy:"incidentTimestamp",sortOrder:"desc"}};a.conf=g.get("proc-inst-search",c),a.conf[b]=a.conf[b]||c[b],a.shownColumns=a.conf[b].shownColumns,a.sortBy=a.conf[b].sortBy,a.sortOrder=a.conf[b].sortOrder}var t=Object.keys,u=b.resource("history"),v=b.resource("incident"),w=JSON.parse(f);d.forEach(w.tooltips,function(a,b){w.tooltips[b]=m.instant(a)}),w.types.map(function(a){return a.id.value=m.instant(a.id.value),a.operators&&(a.operators=a.operators.map(function(a){return a.value=m.instant(a.value),a})),a}),d.forEach(w.operators,function(a){d.forEach(a,function(a){a.value=m.instant(a.value)})});var x={
PI:{duration:m.instant("PLGN_SEAR_DURATION"),processDefinitionName:m.instant("PLGN_SEAR_DEFINITION_NAME"),processDefinitionVersion:m.instant("PLGN_SEAR_DEFINITION_VERSION"),processDefinitionKey:m.instant("PLGN_SEAR_DEFINITION_KEY")},IN:{executionId:m.instant("PLGN_SEAR_EXECUTION"),activityId:m.instant("PLGN_SEAR_ACTIVITY"),processInstanceId:m.instant("PLGN_SEAR_PROCESS_INSTANCE"),causeIncidentId:m.instant("PLGN_SEAR_CAUSE_INCIDENT"),rootCauseIncidentId:m.instant("PLGN_SEAR_ROOT_CAUSE_INCIDENT"),configuration:m.instant("PLGN_SEAR_CONFIGURATION")}},y={PI:{instanceId:m.instant("PLGN_SEAR_INSTANCE_ID"),startTime:m.instant("PLGN_SEAR_START_TIME"),endTime:m.instant("PLGN_SEAR_END_TIME"),businessKey:m.instant("PLGN_SEAR_BUSINESS_KEY"),processDefinitionId:m.instant("PLGN_SEAR_DEFINITION_ID")},IN:{incidentId:m.instant("PLGN_SEAR_INCIDENT_ID"),incidentType:m.instant("PLGN_SEAR_TYPE"),incidentTimestamp:m.instant("PLGN_SEAR_TIME"),processDefinitionId:m.instant("PLGN_SEAR_PROCESS_DEFINITION_ID"),incidentMessage:m.instant("PLGN_SEAR_MESSAGE")}},z={PI:{superProcessInstanceId:m.instant("PLGN_SEAR_SUPER_PROCESS_INSTACE_ID"),superCaseInstanceId:m.instant("PLGN_SEAR_SUPER_CASE_INSTANCE_ID"),caseInstanceId:m.instant("PLGN_SEAR_CASE_INSTANCE_ID"),startUserId:m.instant("PLGN_SEAR_START_USER_ID"),startActivityId:m.instant("PLGN_SEAR_START_ACTIVITY_ID"),deleteReason:m.instant("PLGN_SEAR_DELETE_REASON")},IN:{}};a.availableColumns=o("PI"),a.sortBy=null,a.sortOrder=null,a.shownColumns=[],a.loadingState="INITIAL",a.config=w;var A=function(){return j.search().searchQuery};a.openBatch=function(){j.path("/batch/operation").search({searchQuery:A()})},a.isSortableColumn=function(a,b){return!!x[b][a]},a.columnLabel=function(a,b){return x[b][a]||z[b][a]||y[b][a]||m.instant("PLGN_SEAR_NO_LABEL",{name:a})},a.orderClass=function(b){var d=a.config.searches[0]&&a.config.searches[0].type.value.key.substr(0,2);b=b||a.sortBy,b="PI"===d?c(b):b;var e={none:"minus",desc:"chevron-down",asc:"chevron-up"};return"glyphicon-"+e[b===a.sortBy?a.sortOrder:"none"]},a.changeOrder=function(b,d){a.sortBy="PI"===d?c(b):b,a.sortOrder="desc"===a.sortOrder?"asc":"desc",H(a.query,a.pages),r(d)},a.addColumn=function(b,c){a.shownColumns.indexOf(b)>-1||(a.shownColumns.push(b),H(a.query,a.pages),r(c))},a.removeColumn=function(b,c){var d=[];a.shownColumns.forEach(function(a){b!==a&&d.push(a)}),a.shownColumns=d,H(a.query,a.pages),r(c)},a.columnRawValue=function(b,c,d){var e="PI"===d?a.processInstances:a.incidents,f=e[c],g=f[b];if(g)return g;switch(b){case"duration":g=f.durationInMillis}return g},a.columnValue=function(b,c,d){var f,g="";switch(b){case"superProcessInstanceId":f=a.processInstances[c].superProcessInstanceId,g=f?'<a href="#/process-instance/'+f+'/history">'+f+"</a>":"";break;case"processDefinitionId":var h=("PI"===d?a.processInstances:a.incidents)[c].processDefinitionId;g='<a href="#/process-definition/'+h+("PI"===d?'/history">':'">')+h+"</a>";break;case"processInstanceId":f=a.incidents[c].processInstanceId,g=f?'<a href="#/process-instance/'+f+'/runtime?detailsTab=incidents-tab">'+f+"</a>":"";break;case"duration":g=i("duration")(a.processInstances[c].durationInMillis)||"";break;default:g=("PI"===d?a.processInstances:a.incidents)[c][b]||""}return e.trustAsHtml(g.toString())},a.getMode=function(){return a.config&&a.config.searches&&a.config.searches.length?(a.storageGroup=a.config.searches[0].type.value.key.substr(0,2),a.storageGroup):(a.storageGroup=null,null)},a.getMode();var B=function(a){var b=a.type.value.key,c=a.operator.value.key;return b.indexOf("Date")!==-1&&(b=b.slice(0,-4)),["After","Before","Like","NotIn"].indexOf(c)!==-1&&(b+=c),b.substr(2)},C=/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(|\.[0-9]{0,4})$/,D=function(a,b,c){var d=/(\\%)|(\\_)/g,e=/(\%)|(\_)/;return"like"!==b.toLowerCase()||e.test(a.replace(d,""))?c.allowDates&&C.test(a)?l(a):a:"%"+a+"%"},E=function(a){return isNaN(a)||""===a.trim()?"true"===a||"false"!==a&&("NULL"===a?null:0===a.indexOf("'")&&a.lastIndexOf("'")===a.length-1?a.substr(1,a.length-2):a):+a},F=function(a){if(a.basic)return!0;var b=a.type.value.key;return"PIvariables"!==b?D(a.value.value,a.operator.value.key,a):{name:a.name.value,operator:a.operator.value.key,value:D(E(a.value.value),a.operator.value.key,a)}},G=function(a,b){var c=B(b),d=F(b);["variables","processInstanceIds","processDefinitionKeyNotIn"].indexOf(c)!==-1?(a[c]=a[c]||[],a[c].push(d)):a[c]=d};a.buildCustomQuery=function(a){return a.reduce(function(a,b){return G(a,b),a},{})};var H=function(b,d){if(a.config.searches.length>0){a.loadingState="LOADING",b.firstResult=d.size*(d.current-1),b.maxResults=d.size;var e=a.storageGroup;if("PI"===e)return a.sortBy||s(e),p(e),b.sortBy=c(a.sortBy),b.sortOrder=a.sortOrder,u.processInstanceCount(b).then(function(c){return a.total=c.count,c.count?u.processInstance(b).then(function(b){return a.processInstances=b,a.loadingState="LOADED",a.total}):(a.processInstances=[],void(a.loadingState="EMPTY"))});if("IN"===e)return a.sortBy||s(e),p(e),b.sortBy=a.sortBy,b.sortOrder=a.sortOrder,v.count(b).then(function(c){return a.total=c.count,c.count?v.get(b).then(function(b){return a.incidents=b,a.loadingState="LOADED",a.total}):(a.incidents=[],void(a.loadingState="EMPTY"))})}return a.processInstances=null,a.incidents=null,a.sortBy=null,a.sortOrder=null,a.shownColumns=[],a.total=0,a.loadingState="INITIAL",k.when(a.total)};a.onSearchChange=function(b){return a.query=b.query,a.pages=b.pages,"search-section"===j.hash()&&n(),H(b.query,b.pages)},a.$watch("loadingState",q),a.$watch("total",q)}],priority:20})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],265:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null,d=["$scope","processData","HistoricActivityStatisticsResource",function(a,b,d){b.provide("historicActivityStatistics",["processDefinition","historicActivityQuery",function(a,b){var e={};return c.extend(e,b),e.id=a.id,d.query(e).$promise}])}];b.exports=["DataProvider",function(a){a.registerData("cockpit.processDefinition.history.data",{id:"historic-activity-statistics-data",controller:d,priority:999})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],266:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./historic-activity-statistics-data"),f=d.module("cockpit.plugin.skeleton.data",[]);f.config(e),b.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./historic-activity-statistics-data":265}],267:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e="undefined"!=typeof window?window["cam-common"]:"undefined"!=typeof c?c["cam-common"]:null,f=a("./processDefinition"),g=a("./processInstance"),h=d.module("cockpit.plugin.skeleton.pages",[e.name]);f(h),g(h),b.exports=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./processDefinition":268,"./processInstance":269}],268:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e="undefined"!=typeof window?window.jquery:"undefined"!=typeof c?c.jquery:null,f=a("camunda-bpm-webapp/ui/common/scripts/util/search-widget-utils"),g="undefined"!=typeof window?window.moment:"undefined"!=typeof c?c.moment:null;b.exports=function(a){var b=["$scope","$q","routeUtil","search","ProcessDefinitionResource","ProcessInstanceResource","Views","Data","Transform","Variables","dataDepend","processDefinition","page","$location","JobDefinitionResource","$filter","$translate","configuration","Notifications",function(a,b,c,e,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){function w(b){if(C!==b){var c=b.activityIds,e=null,f=!1;c&&c.length&&(e=c[c.length-1]),b.scrollToBpmnElement!==e&&(f=!0),b!=C&&y(b),a.filter=C=d.extend({},b,{scrollToBpmnElement:e}),f&&A.set("filter",C),y(C)}}function x(){var a,b=e();return a={activityIds:f.getActivityIdsFromUrlParams("activityIdIn",b),parentProcessDefinitionId:b.parentProcessDefinitionId}}function y(a){var b=a.parentProcessDefinitionId,c=a.activityIds,d=e(),g=JSON.parse(d.searchQuery||"[]");g=d.searchQuery||c.length?f.replaceActivitiesInSearchQuery(g,"activityIdIn",c):null,e.updateSilently({parentProcessDefinitionId:b||null,searchQuery:g?JSON.stringify(g):null}),C=a}function z(b){var c=e().detailsTab;if(b&&b.length){if(c){var d=j.getProvider({component:"cockpit.processDefinition.history.tab",id:c});if(d&&b.indexOf(d)!=-1)return void(a.selectedTab=d)}e.updateSilently({detailsTab:null}),a.selectedTab=b[0]}}a.$root.showBreadcrumbs=!0;var A=a.processData=n.create(a),B=a.pageData=n.create(a);a.diagramCollapsed=!0,a.onDiagramCollapseChange=function(b){a.$$phase?a.diagramCollapsed=b:a.$apply(function(){a.diagramCollapsed=b})},a.hovered=null,a.hoverTitle=function(b){a.hovered=b||null},a.$on("$locationChangeSuccess",function(){var b=x();q.path().indexOf(o.id)>-1&&(f.shouldUpdateFilter(b,C,["activityIds","parentProcessDefinitionId"])&&A.set("filter",b),z(a.processDefinitionTabs))});var C=null;A.provide("processDefinition",o),A.provide("filter",x()),A.provide("parentId",["filter",function(a){return a.parentProcessDefinitionId}]),A.provide("parent",["parentId",function(a){return a?h.get({id:a}).$promise:null}]),A.provide("bpmn20Xml",["processDefinition",function(a){return h.getBpmn20Xml({id:a.id}).$promise}]),A.provide("parsedBpmn20",["bpmn20Xml",function(a){return l.transformBpmn20Xml(a.bpmn20Xml)}]),A.provide("bpmnElements",["parsedBpmn20",function(a){return a.bpmnElements}]),A.provide("bpmnDefinition",["parsedBpmn20",function(a){return a.definitions}]),A.provide("allProcessDefinitions",["processDefinition",function(a){var b={key:a.key,sortBy:"version",sortOrder:"desc"};return a.tenantId?b.tenantIdIn=[a.tenantId]:b.withoutTenantId=!0,h.query(b).$promise}]),A.provide("processDiagram",["bpmnDefinition","bpmnElements",function(b,c){var e=a.processDiagram=a.processDiagram||{};return d.extend(e,{bpmnDefinition:b,bpmnElements:c}),e}]),A.provide("instances.all",["processDefinition",function(a){var b={processDefinitionKey:a.key};return a.tenantId?b.tenantIdIn=[a.tenantId]:b.withoutTenantId=!0,i.count(b).$promise}]),A.provide("instances.current",["processDefinition",function(a){return i.count({processDefinitionId:a.id}).$promise}]),A.provide("activityInstances",["processDefinition",function(a){return r.query({processDefinitionId:a.id}).$promise}]),A.provide(["activityIdToInstancesMap"],["activityInstances","processDefinition","bpmnElements",function(a,b,c){function d(a){var b=s("shorten");return a.name||a.$type.substr(5)+" ("+b(a.id,8)+")"}function e(a){return a&&a.map(function(a){var b={},e=a.activityId,f=c[e];return a.name=f?d(f):e,b[e]=[a],b})||{}}var f=c[b.key];a.name=d(f);var g=e(a);return[g]}]);var D=function(a){return["day","week","month","complete"].indexOf(a.unit)>-1?a:(v.addError({status:t.instant("PLGN_HIST_ACTINST_ERROR"),message:t.instant("PLGN_HIST_ACTINST_ERROR_MSG")}),{unit:"day"})},E=function(a){var b=D(a),c={completeScope:!0,canceled:!0,finished:!0};return b.value=1,"complete"!==a.unit&&(c.startedAfter=g().clone().subtract(b.value,b.unit).format("YYYY-MM-DDTHH:mm:ss.SSSZZ")),c},F=E(u.getActivityInstancePeriod());A.provide("historicActivityQuery",F),a.instanceStatistics=A.observe(["instances.all","instances.current"],function(b,c){a.instanceStatistics.all=b,a.instanceStatistics.current=c}),a.breadcrumbData=A.observe(["processDefinition","parent"],function(a,b){p.breadcrumbsClear();var c=[{label:t.instant("PLGN_SKE_PROCESSES"),href:"#/processes"}];b&&c.push({type:"processDefinition",label:b.name||b.id,href:"#/process-definition/"+b.id+"/history",processDefinition:b});var d=j.getProviders({component:"cockpit.processDefinition.view"});c.push({type:"processDefinition",label:a.name||a.key||a.id,href:"#/process-definition/"+a.id+"/history",processDefinition:a,choices:d.sort(function(a,b){return a.priority<b.priority?-1:a.priority>b.priority?1:0}).map(function(b){return{active:"history"===b.id,label:b.label,href:"#/process-definition/"+a.id+"/"+b.id}})}),p.breadcrumbsAdd(c),p.titleSet([a.name||a.key||a.id,t.instant("PLGN_SKE_HISTORY_DEFINITION_VIEW")].join(" | "))}),a.processDiagramData=A.observe("processDiagram",function(b){a.processDiagram=b}),A.observe("allProcessDefinitions",function(b){a.allProcessDefinitions=b}),A.observe("filter",w),a.handleBpmnElementSelection=function(a,b){var c=d.copy(C),e=b.ctrlKey,f=d.copy(c.activityIds)||[],g=f.indexOf(a),h=g!==-1;a?e?h?f.splice(g,1):f.push(a):f=[a]:f=null,c.activityIds=f||[],A.set("filter",c)},a.processDefinition=o,a.hasReportPlugin=j.getProviders({component:"cockpit.report"}).length>0,a.processDefinitionVars={read:["processDefinition","selection","processData","filter","pageData"]},a.processDefinitionTabs=j.getProviders({component:"cockpit.processDefinition.history.tab"}),a.actions=j.getProviders({component:"cockpit.processDefinition.history.action"}),k.instantiateProviders("cockpit.processDefinition.history.data",{$scope:a,processData:A});var G=j.getProviders({component:"cockpit.processDefinition.history.tab"}).concat(j.getProviders({component:"cockpit.processDefinition.history.action"}));d.forEach(G,function(a){a.label=t.instant(a.label)});for(var H={processDefinition:o,processData:A,pageData:B},I=0;I<G.length;I++)"function"==typeof G[I].initialize&&G[I].initialize(H);a.selectTab=function(b){a.selectedTab=b,e.updateSilently({detailsTab:b.id})},z(a.processDefinitionTabs),a.getDeploymentUrl=function(){var a="#/repository",b=o.deploymentId,d={deployment:b,resourceName:o.resource,deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:b}])};return c.redirectTo(a,d,["deployment","resourceName","deploymentsQuery"])};var J=function(){if(a.allProcessDefinitions){var b=a.allProcessDefinitions.map(function(a){return a.version});return Math.max.apply(null,b)}};a.isLatestVersion=function(){return!!a.processDefinition&&a.processDefinition.version===J()},a.getMigrationUrl=function(){var b="#/migration",d=J(),e={sourceKey:a.processDefinition.key,targetKey:a.processDefinition.key,sourceVersion:a.isLatestVersion()?a.processDefinition.version-1:a.processDefinition.version,targetVersion:a.isLatestVersion()?a.processDefinition.version:d};return c.redirectTo(b,e,["sourceKey","targetKey","sourceVersion","targetVersion"])}}],c=["$routeProvider",function(a){a.when("/process-definition/:processDefinitionId/history",{templateUrl:e("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/skeleton/process-definition.html",controller:b,authentication:"required",resolve:{processDefinition:["ResourceResolver","ProcessDefinitionResource",function(a,b){return a.getByRouteParam("processDefinitionId",{name:"process definition",resolve:function(a){return b.get({id:a})}})}]},reloadOnSearch:!1})}],h=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processDefinition.view",{id:"history",priority:50,label:"PLGN_SKE_HISTORY",keepSearchParams:["activityIds","parentProcessDefinitionId","businessKey","variables","startedAfter","startedBefore","viewbox"]})}];a.config(h).config(c)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"camunda-bpm-webapp/ui/common/scripts/util/search-widget-utils":7}],269:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null,d="undefined"!=typeof window?window.jquery:"undefined"!=typeof a?a.jquery:null;b.exports=function(a){var b=["$scope","$filter","$location","search","routeUtil","ProcessDefinitionResource","HistoricActivityInstanceResource","HistoricProcessInstanceResource","HistoricIncidentResource","Views","Data","Transform","processInstance","dataDepend","page","breadcrumbTrails","integrateActivityInstanceFilter","$translate",function(a,b,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){function t(a,b){var c=a.superProcessInstanceId;return c?void i.get({id:a.superProcessInstanceId}).$promise.then(function(a){var c=a;b(null,c)}):b(null,null)}function u(b){var c=e().detailsTab;if(b&&b.length){if(c){var d=k.getProvider({component:"cockpit.processInstance.history.tab",id:c});if(d&&b.indexOf(d)!=-1)return void(a.selectedTab=d)}e.updateSilently({detailsTab:null}),a.selectedTab=b[0]}}a.$root.showBreadcrumbs=!0,a.processInstance=n;var v=a.activityInstanceLimit=1500,w=a.processData=o.create(a);a.diagramCollapsed=!0,a.onDiagramCollapseChange=function(b){a.$$phase?a.diagramCollapsed=b:a.$apply(function(){a.diagramCollapsed=b})},a.hovered=null,a.hoverTitle=function(b){a.hovered=b||null},a.$on("$routeChangeStart",function(){p.breadcrumbsClear()}),w.provide("processInstance",n),w.provide("processDefinition",["processInstance",function(a){return g.get({id:a.processDefinitionId}).$promise}]),w.provide("bpmn20Xml",["processDefinition",function(a){return g.getBpmn20Xml({id:a.id}).$promise}]),w.provide("parsedBpmn20",["bpmn20Xml",function(a){return m.transformBpmn20Xml(a.bpmn20Xml)}]),w.provide("bpmnElements",["parsedBpmn20",function(a){return a.bpmnElements}]),w.provide("bpmnDefinition",["parsedBpmn20",function(a){return a.definitions}]),w.provide("activityInstanceCount",["processInstance",function(a){return h.count({processInstanceId:a.id}).$promise}]),w.provide("activityInstancesRaw",["processInstance","activityInstanceCount",function(a,b){var c={processInstanceId:a.id,sorting:[{sortBy:"occurrence",sortOrder:"asc"}]};return b.count>v?(c.unfinished=!0,h.query(c).$promise):h.query(c).$promise}]),w.provide(["activityInstances","activityInstanceTree","activityIdToInstancesMap","instanceIdToInstanceMap"],["processInstance","activityInstancesRaw","processDefinition","bpmnElements",function(a,c,d,e){for(var f,g=b("shorten"),h={},i={},j=0;f=c[j];j++){var k=f.activityId,l=e[k],m=l&&(l.name||l.$type.substr(5)+" ("+g(l.id,8)+")")||k,n=h[k]=h[k]||[];f.name=m,i[f.id]||(i[f.id]=f),n.push(f)}i[a.id]=a,h[d.id]=a,a.name=d.name||d.key,a.activityId=d.id;for(var o,p=0;o=c[p];p++){var q=o.parentActivityInstanceId,r=i[q],s=null;s=r?r.childActivityInstances=r.childActivityInstances||[]:a.childActivityInstances=a.childActivityInstances||[],s.push(o)}return c.unshift(a),[c,a,h,i]}]),w.provide("incidents",["processInstance",function(a){return j.query({processInstanceId:a.id}).$promise}]),w.provide("activityIdToIncidentsMap",["incidents",function(a){for(var b,c={},d=0;b=a[d];d++){var e=c[b.activityId];e||(e=[],c[b.activityId]=e),e.push(b)}return c}]),w.provide("processDiagram",["bpmnDefinition","bpmnElements",function(a,b){var c={};return c.bpmnDefinition=a,c.bpmnElements=b,c}]),r(a,u),a.processDefinition=w.observe("processDefinition",function(b){a.processDefinition=b}),a.getDeploymentUrl=function(){var b="#/repository",c=a.processDefinition.deploymentId,d={deployment:c,resourceName:a.processDefinition.resource,deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:c}])};return f.redirectTo(b,d,["deployment","resourceName","deploymentsQuery"])},w.provide("superProcessInstanceCount",["processInstance",function(a){return i.count({subProcessInstanceId:a.id}).$promise}]),w.observe(["processDefinition","processInstance","superProcessInstanceCount"],function(b,c,d){var e=[{label:s.instant("PLGN_SKE_PROCESSES"),href:"#/processes/"}];d.count&&e.push(function(a){q(c,t,[],a,"history")}),e.push({label:b.name||b.key||b.id,href:"#/process-definition/"+b.id+"/history",keepSearchParams:["viewbox"]});var f=k.getProviders({component:"cockpit.processInstance.view"});e.push({type:"processInstance",processInstance:c,divider:":",label:c.name||c.key||c.id,href:"#/process-instance/"+c.id+"/history",choices:f.sort(function(a,b){return a.priority<b.priority?-1:a.priority>b.priority?1:0}).map(function(a){return{active:"history"===a.id,label:a.label,href:"#/process-instance/"+c.id+"/"+a.id}})}),p.breadcrumbsClear().breadcrumbsAdd(e),p.titleSet([s.instant("PLGN_SKE_CAMUNDA_COCKPIT"),a.processDefinition.name||a.processDefinition.id,s.instant("PLGN_SKE_HISTORY_INSTANCE_VIEW")].join(" | "))}),a.processDiagram=w.observe("processDiagram",function(b){a.processDiagram=b}),w.observe("activityInstanceCount",function(b){a.activityInstanceCount=b.count}),w.observe("activityInstanceTree",function(b){a.activityInstanceTree=b}),w.observe(["instanceIdToInstanceMap","activityIdToInstancesMap"],function(b,c){a.instanceIdToInstanceMap=b,a.activityIdToInstancesMap=c}),a.handleBpmnElementSelection=function(b,d){if(!b)return void w.set("filter",{});var e,f=d.ctrlKey,g=c.copy(a.filter.activityIds)||[],h=c.copy(a.filter.activityInstanceIds)||[],i=g.indexOf(b),j=a.activityIdToInstancesMap[b];f?f&&(i===-1?(g.push(b),c.forEach(j,function(a){h.push(a.id)})):i!==-1&&(g.splice(i,1),c.forEach(j,function(a){var b=a.id,c=h.indexOf(b);c!==-1&&h.splice(c,1)}))):(g=[b],h=[],c.forEach(j,function(a){h.push(a.id)})),e={activityIds:g,activityInstanceIds:h},w.set("filter",e)},a.handleActivityInstanceSelection=function(b,d,e){if(!b)return void w.set("filter",{});var f,g=e.ctrlKey,h=c.copy(a.filter.activityIds)||[],i=c.copy(a.filter.activityInstanceIds)||[],j=i.indexOf(b),k=a.activityIdToInstancesMap[d];if(g){if(g)if(j===-1){i.push(b);var l=h.indexOf(d);l===-1&&h.push(d)}else{i.splice(j,1);var m=!1;if(k)for(var n,o=0;n=k[o];o++){var p=n.id,q=i.indexOf(p);q!==-1&&(m=!0)}if(!m){var r=h.indexOf(d);h.splice(r,1)}}}else h=[d],i=[b];f={activityIds:h,activityInstanceIds:i,scrollToBpmnElement:d},w.set("filter",f)},a.processInstanceVars={read:["processInstance","processData","filter"]},a.processInstanceTabs=k.getProviders({component:"cockpit.processInstance.history.tab"}),a.processInstanceActions=k.getProviders({component:"cockpit.processInstance.history.action"}),l.instantiateProviders("cockpit.processInstance.history.data",{$scope:a,processData:w}),a.selectTab=function(b){a.selectedTab=b,e.updateSilently({detailsTab:b.id})},u(a.processInstanceTabs)}],e=["$scope","$translate",function(a,b){var c,d=a.processData.newChild(a);d.provide("filterData",["filter",function(a){if(c&&c.filter==a)return c;var b=a.activityIds||[],d=a.activityInstanceIds||[];return{filter:a,activityCount:b.length||0,activityInstanceCount:d.length||0}}]),d.observe(["filterData"],function(b){a.filterData=c=b}),a.clearSelection=function(){c={activityCount:0,activityInstanceCount:0,filter:{}},d.set("filter",c.filter)},a.getDataWhen=function(){return{"null":b.instant("PLGN_SKE_NOTHING"),0:b.instant("PLGN_SKE_NOTHING"),one:b.instant("PLGN_SKE_ONE_ACTIVITY_INSTANCE"),other:b.instant("PLGN_SKE_ACTIVITY_INSTANCES")}},a.sidebarTab="info"}];a.controller("HistoryProcessInstanceFilterController",e);var f=["$routeProvider",function(a){a.when("/process-instance/:processInstanceId/history",{templateUrl:d("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/skeleton/process-instance.html",controller:b,authentication:"required",resolve:{processInstance:["ResourceResolver","HistoricProcessInstanceResource",function(a,b){return a.getByRouteParam("processInstanceId",{name:"process instance",resolve:function(a){return b.get({id:a})}})}]},reloadOnSearch:!1})}],g=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processInstance.view",{id:"history",priority:50,label:"PLGN_SKE_HISTORY",keepSearchParams:["activityInstanceIds","activityIds","viewbox"]})}];a.config(g).config(f)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],270:[function(a,b,c){"use strict";b.exports=["$resource","Uri",function(a,b){return a(b.appUri("engine://engine/:engine/history/activity-instance/:id/:action"),{id:"@id"},{query:{method:"POST",isArray:!0},count:{method:"POST",isArray:!1,params:{id:"count"}}})}]},{}],271:[function(a,b,c){"use strict";b.exports=["$resource","Uri",function(a,b){return a(b.appUri("engine://engine/:engine/history/process-definition/:id/:action"),{id:"@id"},{query:{method:"GET",isArray:!0,params:{action:"statistics"}}})}]},{}],272:[function(a,b,c){"use strict";b.exports=["$resource","Uri",function(a,b){return a(b.appUri("engine://engine/:engine/history/incident/:action"),{},{count:{method:"GET",isArray:!1,params:{count:"count"}}})}]},{}],273:[function(a,b,c){"use strict";b.exports=["$resource","Uri",function(a,b){return a(b.appUri("engine://engine/:engine/history/process-instance/:id/:action"),{id:"@id"},{count:{method:"POST",isArray:!1,params:{id:"count"}}})}]},{}],274:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./historicProcessInstance"),f=a("./historicActivityInstance"),g=a("./historicActivityStatistics"),h=a("./historicIncident"),i=d.module("cockpit.plugin.skeleton.resources",[]);i.factory("HistoricProcessInstanceResource",e),i.factory("HistoricActivityInstanceResource",f),i.factory("HistoricActivityStatisticsResource",g),i.factory("HistoricIncidentResource",h),b.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./historicActivityInstance":270,"./historicActivityStatistics":271,"./historicIncident":272,"./historicProcessInstance":273}],275:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,e=a("./cockpit/pages/main"),f=a("./cockpit/resources/main"),g=a("./cockpit/data/main");b.exports=d.module("cockpit.plugin.skeleton",[e.name,f.name,g.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cockpit/data/main":266,"./cockpit/pages/main":267,"./cockpit/resources/main":274}]},{},[79])(79)});